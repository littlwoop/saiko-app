var zM=Object.defineProperty;var lx=e=>{throw TypeError(e)};var WM=(e,t,n)=>t in e?zM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Zl=(e,t,n)=>WM(e,typeof t!="symbol"?t+"":t,n),Am=(e,t,n)=>t.has(e)||lx("Cannot "+n);var le=(e,t,n)=>(Am(e,t,"read from private field"),n?n.call(e):t.get(e)),nt=(e,t,n)=>t.has(e)?lx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ze=(e,t,n,r)=>(Am(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xn=(e,t,n)=>(Am(e,t,"access private method"),n);var sd=(e,t,n,r)=>({set _(s){ze(e,t,s,n)},get _(){return le(e,t,r)}});function HM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const qM="modulepreload",KM=function(e){return"/"+e},cx={},Bt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=KM(c),c in cx)return;cx[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":qM,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function YM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var ES={exports:{}},xh={},NS={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),GM=Symbol.for("react.portal"),QM=Symbol.for("react.fragment"),XM=Symbol.for("react.strict_mode"),JM=Symbol.for("react.profiler"),ZM=Symbol.for("react.provider"),eR=Symbol.for("react.context"),tR=Symbol.for("react.forward_ref"),nR=Symbol.for("react.suspense"),rR=Symbol.for("react.memo"),sR=Symbol.for("react.lazy"),ux=Symbol.iterator;function iR(e){return e===null||typeof e!="object"?null:(e=ux&&e[ux]||e["@@iterator"],typeof e=="function"?e:null)}var TS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AS=Object.assign,MS={};function Al(e,t,n){this.props=e,this.context=t,this.refs=MS,this.updater=n||TS}Al.prototype.isReactComponent={};Al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RS(){}RS.prototype=Al.prototype;function fy(e,t,n){this.props=e,this.context=t,this.refs=MS,this.updater=n||TS}var hy=fy.prototype=new RS;hy.constructor=fy;AS(hy,Al.prototype);hy.isPureReactComponent=!0;var dx=Array.isArray,IS=Object.prototype.hasOwnProperty,my={current:null},OS={key:!0,ref:!0,__self:!0,__source:!0};function FS(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)IS.call(t,r)&&!OS.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Tu,type:e,key:i,ref:a,props:s,_owner:my.current}}function aR(e,t){return{$$typeof:Tu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function py(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tu}function oR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fx=/\/+/g;function Mm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oR(""+e.key):t.toString(36)}function Gd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tu:case GM:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Mm(a,0):r,dx(s)?(n="",e!=null&&(n=e.replace(fx,"$&/")+"/"),Gd(s,t,n,"",function(d){return d})):s!=null&&(py(s)&&(s=aR(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(fx,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",dx(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Mm(i,l);a+=Gd(i,t,n,c,s)}else if(c=iR(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Mm(i,l++),a+=Gd(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function id(e,t,n){if(e==null)return e;var r=[],s=0;return Gd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fn={current:null},Qd={transition:null},cR={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:my};function LS(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:id,forEach:function(e,t,n){id(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return id(e,function(){t++}),t},toArray:function(e){return id(e,function(t){return t})||[]},only:function(e){if(!py(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=Al;Ke.Fragment=QM;Ke.Profiler=JM;Ke.PureComponent=fy;Ke.StrictMode=XM;Ke.Suspense=nR;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cR;Ke.act=LS;Ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=AS({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=my.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)IS.call(t,c)&&!OS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Tu,type:e.type,key:s,ref:i,props:r,_owner:a}};Ke.createContext=function(e){return e={$$typeof:eR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZM,_context:e},e.Consumer=e};Ke.createElement=FS;Ke.createFactory=function(e){var t=FS.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:tR,render:e}};Ke.isValidElement=py;Ke.lazy=function(e){return{$$typeof:sR,_payload:{_status:-1,_result:e},_init:lR}};Ke.memo=function(e,t){return{$$typeof:rR,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=Qd.transition;Qd.transition={};try{e()}finally{Qd.transition=t}};Ke.unstable_act=LS;Ke.useCallback=function(e,t){return Fn.current.useCallback(e,t)};Ke.useContext=function(e){return Fn.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Fn.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Fn.current.useEffect(e,t)};Ke.useId=function(){return Fn.current.useId()};Ke.useImperativeHandle=function(e,t,n){return Fn.current.useImperativeHandle(e,t,n)};Ke.useInsertionEffect=function(e,t){return Fn.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Fn.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Fn.current.useMemo(e,t)};Ke.useReducer=function(e,t,n){return Fn.current.useReducer(e,t,n)};Ke.useRef=function(e){return Fn.current.useRef(e)};Ke.useState=function(e){return Fn.current.useState(e)};Ke.useSyncExternalStore=function(e,t,n){return Fn.current.useSyncExternalStore(e,t,n)};Ke.useTransition=function(){return Fn.current.useTransition()};Ke.version="18.3.1";NS.exports=Ke;var p=NS.exports;const K=DS(p),$S=HM({__proto__:null,default:K},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=p,dR=Symbol.for("react.element"),fR=Symbol.for("react.fragment"),hR=Object.prototype.hasOwnProperty,mR=uR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pR={key:!0,ref:!0,__self:!0,__source:!0};function US(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)hR.call(t,r)&&!pR.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dR,type:e,key:i,ref:a,props:s,_owner:mR.current}}xh.Fragment=fR;xh.jsx=US;xh.jsxs=US;ES.exports=xh;var o=ES.exports,BS={exports:{}},pr={},VS={exports:{}},zS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var j=R.length;R.push(T);e:for(;0<j;){var M=j-1>>>1,U=R[M];if(0<s(U,T))R[M]=T,R[j]=U,j=M;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var T=R[0],j=R.pop();if(j!==T){R[0]=j;e:for(var M=0,U=R.length,V=U>>>1;M<V;){var z=2*(M+1)-1,B=R[z],q=z+1,W=R[q];if(0>s(B,j))q<U&&0>s(W,B)?(R[M]=W,R[q]=j,M=q):(R[M]=B,R[z]=j,M=z);else if(q<U&&0>s(W,j))R[M]=W,R[q]=j,M=q;else break e}}return T}function s(R,T){var j=R.sortIndex-T.sortIndex;return j!==0?j:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(R){for(var T=n(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=R)r(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(d)}}function _(R){if(g=!1,C(R),!v)if(n(c)!==null)v=!0,A(w);else{var T=n(d);T!==null&&P(_,T.startTime-R)}}function w(R,T){v=!1,g&&(g=!1,x(S),S=-1),m=!0;var j=h;try{for(C(T),f=n(c);f!==null&&(!(f.expirationTime>T)||R&&!I());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var U=M(f.expirationTime<=T);T=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),C(T)}else r(c);f=n(c)}if(f!==null)var V=!0;else{var z=n(d);z!==null&&P(_,z.startTime-T),V=!1}return V}finally{f=null,h=j,m=!1}}var D=!1,k=null,S=-1,N=5,O=-1;function I(){return!(e.unstable_now()-O<N)}function $(){if(k!==null){var R=e.unstable_now();O=R;var T=!0;try{T=k(!0,R)}finally{T?F():(D=!1,k=null)}}else D=!1}var F;if(typeof b=="function")F=function(){b($)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,L=E.port2;E.port1.onmessage=$,F=function(){L.postMessage(null)}}else F=function(){y($,0)};function A(R){k=R,D||(D=!0,F())}function P(R,T){S=y(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,A(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var j=h;h=T;try{return R()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var j=h;h=R;try{return T()}finally{h=j}},e.unstable_scheduleCallback=function(R,T,j){var M=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?M+j:M):j=M,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=j+U,R={id:u++,callback:T,priorityLevel:R,startTime:j,expirationTime:U,sortIndex:-1},j>M?(R.sortIndex=j,t(d,R),n(c)===null&&R===n(d)&&(g?(x(S),S=-1):g=!0,P(_,j-M))):(R.sortIndex=U,t(c,R),v||m||(v=!0,A(w))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var T=h;return function(){var j=h;h=T;try{return R.apply(this,arguments)}finally{h=j}}}})(zS);VS.exports=zS;var gR=VS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR=p,mr=gR;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,Hc={};function Ja(e,t){al(e,t),al(e+"Capture",t)}function al(e,t){for(Hc[e]=t,e=0;e<t.length;e++)WS.add(t[e])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,yR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},mx={};function wR(e){return sg.call(mx,e)?!0:sg.call(hx,e)?!1:yR.test(e)?mx[e]=!0:(hx[e]=!0,!1)}function xR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bR(e,t,n,r){if(t===null||typeof t>"u"||xR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ln(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yn[e]=new Ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yn[t]=new Ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yn[e]=new Ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yn[e]=new Ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yn[e]=new Ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yn[e]=new Ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yn[e]=new Ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yn[e]=new Ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yn[e]=new Ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var gy=/[\-:]([a-z])/g;function vy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gy,vy);yn[t]=new Ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gy,vy);yn[t]=new Ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gy,vy);yn[t]=new Ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!1,!1)});yn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function yy(e,t,n,r){var s=yn.hasOwnProperty(t)?yn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bR(t,n,s,r)&&(n=null),r||s===null?wR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xs=vR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),xo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),qS=Symbol.for("react.context"),xy=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),by=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),KS=Symbol.for("react.offscreen"),px=Symbol.iterator;function ec(e){return e===null||typeof e!="object"?null:(e=px&&e[px]||e["@@iterator"],typeof e=="function"?e:null)}var At=Object.assign,Rm;function pc(e){if(Rm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rm=t&&t[1]||""}return`
`+Rm+e}var Im=!1;function Om(e,t){if(!e||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pc(e):""}function CR(e){switch(e.tag){case 5:return pc(e.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function lg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case xo:return"Portal";case ig:return"Profiler";case wy:return"StrictMode";case ag:return"Suspense";case og:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qS:return(e.displayName||"Context")+".Consumer";case HS:return(e._context.displayName||"Context")+".Provider";case xy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case by:return t=e.displayName||null,t!==null?t:lg(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return lg(e(t))}catch{}}return null}function SR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lg(t);case 8:return t===wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jR(e){var t=YS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function od(e){e._valueTracker||(e._valueTracker=jR(e))}function GS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=YS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cg(e,t){var n=t.checked;return At({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QS(e,t){t=t.checked,t!=null&&yy(e,"checked",t,!1)}function ug(e,t){QS(e,t);var n=Vi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dg(e,t.type,n):t.hasOwnProperty("defaultValue")&&dg(e,t.type,Vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dg(e,t,n){(t!=="number"||Cf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gc=Array.isArray;function Lo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return At({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(gc(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vi(n)}}function XS(e,t){var n=Vi(t.value),r=Vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ld,ZS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ld.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_R=["Webkit","ms","Moz","O"];Object.keys(jc).forEach(function(e){_R.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jc[t]=jc[e]})});function ej(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jc.hasOwnProperty(e)&&jc[e]?(""+t).trim():t+"px"}function tj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ej(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var kR=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mg(e,t){if(t){if(kR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function pg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=null;function Cy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vg=null,$o=null,Uo=null;function xx(e){if(e=Ru(e)){if(typeof vg!="function")throw Error(me(280));var t=e.stateNode;t&&(t=_h(t),vg(e.stateNode,e.type,t))}}function nj(e){$o?Uo?Uo.push(e):Uo=[e]:$o=e}function rj(){if($o){var e=$o,t=Uo;if(Uo=$o=null,xx(e),t)for(e=0;e<t.length;e++)xx(t[e])}}function sj(e,t){return e(t)}function ij(){}var Fm=!1;function aj(e,t,n){if(Fm)return e(t,n);Fm=!0;try{return sj(e,t,n)}finally{Fm=!1,($o!==null||Uo!==null)&&(ij(),rj())}}function Kc(e,t){var n=e.stateNode;if(n===null)return null;var r=_h(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var yg=!1;if(Vs)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){yg=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{yg=!1}function PR(e,t,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var _c=!1,Sf=null,jf=!1,wg=null,DR={onError:function(e){_c=!0,Sf=e}};function ER(e,t,n,r,s,i,a,l,c){_c=!1,Sf=null,PR.apply(DR,arguments)}function NR(e,t,n,r,s,i,a,l,c){if(ER.apply(this,arguments),_c){if(_c){var d=Sf;_c=!1,Sf=null}else throw Error(me(198));jf||(jf=!0,wg=d)}}function Za(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bx(e){if(Za(e)!==e)throw Error(me(188))}function TR(e){var t=e.alternate;if(!t){if(t=Za(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return bx(s),e;if(i===r)return bx(s),t;i=i.sibling}throw Error(me(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function lj(e){return e=TR(e),e!==null?cj(e):null}function cj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cj(e);if(t!==null)return t;e=e.sibling}return null}var uj=mr.unstable_scheduleCallback,Cx=mr.unstable_cancelCallback,AR=mr.unstable_shouldYield,MR=mr.unstable_requestPaint,Ut=mr.unstable_now,RR=mr.unstable_getCurrentPriorityLevel,Sy=mr.unstable_ImmediatePriority,dj=mr.unstable_UserBlockingPriority,_f=mr.unstable_NormalPriority,IR=mr.unstable_LowPriority,fj=mr.unstable_IdlePriority,bh=null,vs=null;function OR(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:$R,FR=Math.log,LR=Math.LN2;function $R(e){return e>>>=0,e===0?32:31-(FR(e)/LR|0)|0}var cd=64,ud=4194304;function vc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=vc(l):(i&=a,i!==0&&(r=vc(i)))}else a=n&~s,a!==0?r=vc(a):i!==0&&(r=vc(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qr(t),s=1<<n,r|=e[n],t&=~s;return r}function UR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-qr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=UR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hj(){var e=cd;return cd<<=1,!(cd&4194240)&&(cd=64),e}function Lm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Au(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=n}function VR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-qr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function jy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var at=0;function mj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pj,_y,gj,vj,yj,bg=!1,dd=[],Ei=null,Ni=null,Ti=null,Yc=new Map,Gc=new Map,gi=[],zR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sx(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Yc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(t.pointerId)}}function nc(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ru(t),t!==null&&_y(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function WR(e,t,n,r,s){switch(t){case"focusin":return Ei=nc(Ei,e,t,n,r,s),!0;case"dragenter":return Ni=nc(Ni,e,t,n,r,s),!0;case"mouseover":return Ti=nc(Ti,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yc.set(i,nc(Yc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gc.set(i,nc(Gc.get(i)||null,e,t,n,r,s)),!0}return!1}function wj(e){var t=xa(e.target);if(t!==null){var n=Za(t);if(n!==null){if(t=n.tag,t===13){if(t=oj(n),t!==null){e.blockedOn=t,yj(e.priority,function(){gj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gg=r,n.target.dispatchEvent(r),gg=null}else return t=Ru(n),t!==null&&_y(t),e.blockedOn=n,!1;t.shift()}return!0}function jx(e,t,n){Xd(e)&&n.delete(t)}function HR(){bg=!1,Ei!==null&&Xd(Ei)&&(Ei=null),Ni!==null&&Xd(Ni)&&(Ni=null),Ti!==null&&Xd(Ti)&&(Ti=null),Yc.forEach(jx),Gc.forEach(jx)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,bg||(bg=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,HR)))}function Qc(e){function t(s){return rc(s,e)}if(0<dd.length){rc(dd[0],e);for(var n=1;n<dd.length;n++){var r=dd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ei!==null&&rc(Ei,e),Ni!==null&&rc(Ni,e),Ti!==null&&rc(Ti,e),Yc.forEach(t),Gc.forEach(t),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)wj(n),n.blockedOn===null&&gi.shift()}var Bo=Xs.ReactCurrentBatchConfig,Pf=!0;function qR(e,t,n,r){var s=at,i=Bo.transition;Bo.transition=null;try{at=1,ky(e,t,n,r)}finally{at=s,Bo.transition=i}}function KR(e,t,n,r){var s=at,i=Bo.transition;Bo.transition=null;try{at=4,ky(e,t,n,r)}finally{at=s,Bo.transition=i}}function ky(e,t,n,r){if(Pf){var s=Cg(e,t,n,r);if(s===null)Ym(e,t,r,Df,n),Sx(e,r);else if(WR(s,e,t,n,r))r.stopPropagation();else if(Sx(e,r),t&4&&-1<zR.indexOf(e)){for(;s!==null;){var i=Ru(s);if(i!==null&&pj(i),i=Cg(e,t,n,r),i===null&&Ym(e,t,r,Df,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ym(e,t,r,null,n)}}var Df=null;function Cg(e,t,n,r){if(Df=null,e=Cy(r),e=xa(e),e!==null)if(t=Za(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Df=e,null}function xj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RR()){case Sy:return 1;case dj:return 4;case _f:case IR:return 16;case fj:return 536870912;default:return 16}default:return 16}}var ji=null,Py=null,Jd=null;function bj(){if(Jd)return Jd;var e,t=Py,n=t.length,r,s="value"in ji?ji.value:ji.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Jd=s.slice(e,1<r?1-r:void 0)}function Zd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fd(){return!0}function _x(){return!1}function gr(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fd:_x,this.isPropagationStopped=_x,this}return At(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),t}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=gr(Ml),Mu=At({},Ml,{view:0,detail:0}),YR=gr(Mu),$m,Um,sc,Ch=At({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ey,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sc&&(sc&&e.type==="mousemove"?($m=e.screenX-sc.screenX,Um=e.screenY-sc.screenY):Um=$m=0,sc=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:Um}}),kx=gr(Ch),GR=At({},Ch,{dataTransfer:0}),QR=gr(GR),XR=At({},Mu,{relatedTarget:0}),Bm=gr(XR),JR=At({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),ZR=gr(JR),eI=At({},Ml,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tI=gr(eI),nI=At({},Ml,{data:0}),Px=gr(nI),rI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iI[e])?!!t[e]:!1}function Ey(){return aI}var oI=At({},Mu,{key:function(e){if(e.key){var t=rI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ey,charCode:function(e){return e.type==="keypress"?Zd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lI=gr(oI),cI=At({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=gr(cI),uI=At({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ey}),dI=gr(uI),fI=At({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),hI=gr(fI),mI=At({},Ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pI=gr(mI),gI=[9,13,27,32],Ny=Vs&&"CompositionEvent"in window,kc=null;Vs&&"documentMode"in document&&(kc=document.documentMode);var vI=Vs&&"TextEvent"in window&&!kc,Cj=Vs&&(!Ny||kc&&8<kc&&11>=kc),Ex=" ",Nx=!1;function Sj(e,t){switch(e){case"keyup":return gI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Co=!1;function yI(e,t){switch(e){case"compositionend":return jj(t);case"keypress":return t.which!==32?null:(Nx=!0,Ex);case"textInput":return e=t.data,e===Ex&&Nx?null:e;default:return null}}function wI(e,t){if(Co)return e==="compositionend"||!Ny&&Sj(e,t)?(e=bj(),Jd=Py=ji=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cj&&t.locale!=="ko"?null:t.data;default:return null}}var xI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xI[e.type]:t==="textarea"}function _j(e,t,n,r){nj(r),t=Ef(t,"onChange"),0<t.length&&(n=new Dy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pc=null,Xc=null;function bI(e){Oj(e,0)}function Sh(e){var t=_o(e);if(GS(t))return e}function CI(e,t){if(e==="change")return t}var kj=!1;if(Vs){var Vm;if(Vs){var zm="oninput"in document;if(!zm){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),zm=typeof Ax.oninput=="function"}Vm=zm}else Vm=!1;kj=Vm&&(!document.documentMode||9<document.documentMode)}function Mx(){Pc&&(Pc.detachEvent("onpropertychange",Pj),Xc=Pc=null)}function Pj(e){if(e.propertyName==="value"&&Sh(Xc)){var t=[];_j(t,Xc,e,Cy(e)),aj(bI,t)}}function SI(e,t,n){e==="focusin"?(Mx(),Pc=t,Xc=n,Pc.attachEvent("onpropertychange",Pj)):e==="focusout"&&Mx()}function jI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sh(Xc)}function _I(e,t){if(e==="click")return Sh(t)}function kI(e,t){if(e==="input"||e==="change")return Sh(t)}function PI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:PI;function Jc(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sg.call(t,s)||!Yr(e[s],t[s]))return!1}return!0}function Rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ix(e,t){var n=Rx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function Dj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ej(){for(var e=window,t=Cf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cf(e.document)}return t}function Ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DI(e){var t=Ej(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dj(n.ownerDocument.documentElement,n)){if(r!==null&&Ty(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ix(n,i);var a=Ix(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EI=Vs&&"documentMode"in document&&11>=document.documentMode,So=null,Sg=null,Dc=null,jg=!1;function Ox(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jg||So==null||So!==Cf(r)||(r=So,"selectionStart"in r&&Ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dc&&Jc(Dc,r)||(Dc=r,r=Ef(Sg,"onSelect"),0<r.length&&(t=new Dy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=So)))}function hd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jo={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Wm={},Nj={};Vs&&(Nj=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function jh(e){if(Wm[e])return Wm[e];if(!jo[e])return e;var t=jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nj)return Wm[e]=t[n];return e}var Tj=jh("animationend"),Aj=jh("animationiteration"),Mj=jh("animationstart"),Rj=jh("transitionend"),Ij=new Map,Fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(e,t){Ij.set(e,t),Ja(t,[e])}for(var Hm=0;Hm<Fx.length;Hm++){var qm=Fx[Hm],NI=qm.toLowerCase(),TI=qm[0].toUpperCase()+qm.slice(1);Ji(NI,"on"+TI)}Ji(Tj,"onAnimationEnd");Ji(Aj,"onAnimationIteration");Ji(Mj,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(Rj,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function Lx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,NR(r,t,void 0,e),e.currentTarget=null}function Oj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Lx(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Lx(s,l,d),i=c}}}if(jf)throw e=wg,jf=!1,wg=null,e}function wt(e,t){var n=t[Eg];n===void 0&&(n=t[Eg]=new Set);var r=e+"__bubble";n.has(r)||(Fj(t,e,2,!1),n.add(r))}function Km(e,t,n){var r=0;t&&(r|=4),Fj(n,e,r,t)}var md="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[md]){e[md]=!0,WS.forEach(function(n){n!=="selectionchange"&&(AI.has(n)||Km(n,!1,e),Km(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[md]||(t[md]=!0,Km("selectionchange",!1,t))}}function Fj(e,t,n,r){switch(xj(t)){case 1:var s=qR;break;case 4:s=KR;break;default:s=ky}n=s.bind(null,t,n,e),s=void 0,!yg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ym(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=xa(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}aj(function(){var d=i,u=Cy(n),f=[];e:{var h=Ij.get(e);if(h!==void 0){var m=Dy,v=e;switch(e){case"keypress":if(Zd(n)===0)break e;case"keydown":case"keyup":m=lI;break;case"focusin":v="focus",m=Bm;break;case"focusout":v="blur",m=Bm;break;case"beforeblur":case"afterblur":m=Bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=dI;break;case Tj:case Aj:case Mj:m=ZR;break;case Rj:m=hI;break;case"scroll":m=YR;break;case"wheel":m=pI;break;case"copy":case"cut":case"paste":m=tI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dx}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=d,C;b!==null;){C=b;var _=C.stateNode;if(C.tag===5&&_!==null&&(C=_,x!==null&&(_=Kc(b,x),_!=null&&g.push(eu(b,_,C)))),y)break;b=b.return}0<g.length&&(h=new m(h,v,null,n,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==gg&&(v=n.relatedTarget||n.fromElement)&&(xa(v)||v[zs]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=d,v=v?xa(v):null,v!==null&&(y=Za(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(g=kx,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Dx,_="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:_o(m),C=v==null?h:_o(v),h=new g(_,b+"leave",m,n,u),h.target=y,h.relatedTarget=C,_=null,xa(u)===d&&(g=new g(x,b+"enter",v,n,u),g.target=C,g.relatedTarget=y,_=g),y=_,m&&v)t:{for(g=m,x=v,b=0,C=g;C;C=ao(C))b++;for(C=0,_=x;_;_=ao(_))C++;for(;0<b-C;)g=ao(g),b--;for(;0<C-b;)x=ao(x),C--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=ao(g),x=ao(x)}g=null}else g=null;m!==null&&$x(f,h,m,g,!1),v!==null&&y!==null&&$x(f,y,v,g,!0)}}e:{if(h=d?_o(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=CI;else if(Tx(h))if(kj)w=kI;else{w=jI;var D=SI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=_I);if(w&&(w=w(e,d))){_j(f,w,n,u);break e}D&&D(e,h,d),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&dg(h,"number",h.value)}switch(D=d?_o(d):window,e){case"focusin":(Tx(D)||D.contentEditable==="true")&&(So=D,Sg=d,Dc=null);break;case"focusout":Dc=Sg=So=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,Ox(f,n,u);break;case"selectionchange":if(EI)break;case"keydown":case"keyup":Ox(f,n,u)}var k;if(Ny)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Co?Sj(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Cj&&n.locale!=="ko"&&(Co||S!=="onCompositionStart"?S==="onCompositionEnd"&&Co&&(k=bj()):(ji=u,Py="value"in ji?ji.value:ji.textContent,Co=!0)),D=Ef(d,S),0<D.length&&(S=new Px(S,e,null,n,u),f.push({event:S,listeners:D}),k?S.data=k:(k=jj(n),k!==null&&(S.data=k)))),(k=vI?yI(e,n):wI(e,n))&&(d=Ef(d,"onBeforeInput"),0<d.length&&(u=new Px("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=k))}Oj(f,t)})}function eu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ef(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kc(e,n),i!=null&&r.unshift(eu(e,i,s)),i=Kc(e,t),i!=null&&r.push(eu(e,i,s))),e=e.return}return r}function ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $x(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Kc(n,i),c!=null&&a.unshift(eu(n,c,l))):s||(c=Kc(n,i),c!=null&&a.push(eu(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var MI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function Ux(e){return(typeof e=="string"?e:""+e).replace(MI,`
`).replace(RI,"")}function pd(e,t,n){if(t=Ux(t),Ux(e)!==t&&n)throw Error(me(425))}function Nf(){}var _g=null,kg=null;function Pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,Bx=typeof Promise=="function"?Promise:void 0,OI=typeof queueMicrotask=="function"?queueMicrotask:typeof Bx<"u"?function(e){return Bx.resolve(null).then(e).catch(FI)}:Dg;function FI(e){setTimeout(function(){throw e})}function Gm(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Qc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qc(t)}function Ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),ds="__reactFiber$"+Rl,tu="__reactProps$"+Rl,zs="__reactContainer$"+Rl,Eg="__reactEvents$"+Rl,LI="__reactListeners$"+Rl,$I="__reactHandles$"+Rl;function xa(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zs]||n[ds]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vx(e);e!==null;){if(n=e[ds])return n;e=Vx(e)}return t}e=n,n=e.parentNode}return null}function Ru(e){return e=e[ds]||e[zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function _h(e){return e[tu]||null}var Ng=[],ko=-1;function Zi(e){return{current:e}}function xt(e){0>ko||(e.current=Ng[ko],Ng[ko]=null,ko--)}function mt(e,t){ko++,Ng[ko]=e.current,e.current=t}var zi={},En=Zi(zi),Xn=Zi(!1),za=zi;function ol(e,t){var n=e.type.contextTypes;if(!n)return zi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Jn(e){return e=e.childContextTypes,e!=null}function Tf(){xt(Xn),xt(En)}function zx(e,t,n){if(En.current!==zi)throw Error(me(168));mt(En,t),mt(Xn,n)}function Lj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(me(108,SR(e)||"Unknown",s));return At({},n,r)}function Af(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zi,za=En.current,mt(En,e),mt(Xn,Xn.current),!0}function Wx(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=Lj(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,xt(Xn),xt(En),mt(En,e)):xt(Xn),mt(Xn,n)}var Ms=null,kh=!1,Qm=!1;function $j(e){Ms===null?Ms=[e]:Ms.push(e)}function UI(e){kh=!0,$j(e)}function ea(){if(!Qm&&Ms!==null){Qm=!0;var e=0,t=at;try{var n=Ms;for(at=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ms=null,kh=!1}catch(s){throw Ms!==null&&(Ms=Ms.slice(e+1)),uj(Sy,ea),s}finally{at=t,Qm=!1}}return null}var Po=[],Do=0,Mf=null,Rf=0,xr=[],br=0,Wa=null,Is=1,Os="";function fa(e,t){Po[Do++]=Rf,Po[Do++]=Mf,Mf=e,Rf=t}function Uj(e,t,n){xr[br++]=Is,xr[br++]=Os,xr[br++]=Wa,Wa=e;var r=Is;e=Os;var s=32-qr(r)-1;r&=~(1<<s),n+=1;var i=32-qr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Is=1<<32-qr(t)+s|n<<s|r,Os=i+e}else Is=1<<i|n<<s|r,Os=e}function Ay(e){e.return!==null&&(fa(e,1),Uj(e,1,0))}function My(e){for(;e===Mf;)Mf=Po[--Do],Po[Do]=null,Rf=Po[--Do],Po[Do]=null;for(;e===Wa;)Wa=xr[--br],xr[br]=null,Os=xr[--br],xr[br]=null,Is=xr[--br],xr[br]=null}var fr=null,ur=null,kt=!1,zr=null;function Bj(e,t){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fr=e,ur=Ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fr=e,ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wa!==null?{id:Is,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,fr=e,ur=null,!0):!1;default:return!1}}function Tg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ag(e){if(kt){var t=ur;if(t){var n=t;if(!Hx(e,t)){if(Tg(e))throw Error(me(418));t=Ai(n.nextSibling);var r=fr;t&&Hx(e,t)?Bj(r,n):(e.flags=e.flags&-4097|2,kt=!1,fr=e)}}else{if(Tg(e))throw Error(me(418));e.flags=e.flags&-4097|2,kt=!1,fr=e}}}function qx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fr=e}function gd(e){if(e!==fr)return!1;if(!kt)return qx(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pg(e.type,e.memoizedProps)),t&&(t=ur)){if(Tg(e))throw Vj(),Error(me(418));for(;t;)Bj(e,t),t=Ai(t.nextSibling)}if(qx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ur=Ai(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ur=null}}else ur=fr?Ai(e.stateNode.nextSibling):null;return!0}function Vj(){for(var e=ur;e;)e=Ai(e.nextSibling)}function ll(){ur=fr=null,kt=!1}function Ry(e){zr===null?zr=[e]:zr.push(e)}var BI=Xs.ReactCurrentBatchConfig;function ic(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function vd(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kx(e){var t=e._init;return t(e._payload)}function zj(e){function t(x,b){if(e){var C=x.deletions;C===null?(x.deletions=[b],x.flags|=16):C.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Oi(x,b),x.index=0,x.sibling=null,x}function i(x,b,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<b?(x.flags|=2,b):C):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,C,_){return b===null||b.tag!==6?(b=rp(C,x.mode,_),b.return=x,b):(b=s(b,C),b.return=x,b)}function c(x,b,C,_){var w=C.type;return w===bo?u(x,b,C.props.children,_,C.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fi&&Kx(w)===b.type)?(_=s(b,C.props),_.ref=ic(x,b,C),_.return=x,_):(_=of(C.type,C.key,C.props,null,x.mode,_),_.ref=ic(x,b,C),_.return=x,_)}function d(x,b,C,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=sp(C,x.mode,_),b.return=x,b):(b=s(b,C.children||[]),b.return=x,b)}function u(x,b,C,_,w){return b===null||b.tag!==7?(b=Ia(C,x.mode,_,w),b.return=x,b):(b=s(b,C),b.return=x,b)}function f(x,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rp(""+b,x.mode,C),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ad:return C=of(b.type,b.key,b.props,null,x.mode,C),C.ref=ic(x,null,b),C.return=x,C;case xo:return b=sp(b,x.mode,C),b.return=x,b;case fi:var _=b._init;return f(x,_(b._payload),C)}if(gc(b)||ec(b))return b=Ia(b,x.mode,C,null),b.return=x,b;vd(x,b)}return null}function h(x,b,C,_){var w=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:l(x,b,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ad:return C.key===w?c(x,b,C,_):null;case xo:return C.key===w?d(x,b,C,_):null;case fi:return w=C._init,h(x,b,w(C._payload),_)}if(gc(C)||ec(C))return w!==null?null:u(x,b,C,_,null);vd(x,C)}return null}function m(x,b,C,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(C)||null,l(b,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ad:return x=x.get(_.key===null?C:_.key)||null,c(b,x,_,w);case xo:return x=x.get(_.key===null?C:_.key)||null,d(b,x,_,w);case fi:var D=_._init;return m(x,b,C,D(_._payload),w)}if(gc(_)||ec(_))return x=x.get(C)||null,u(b,x,_,w,null);vd(b,_)}return null}function v(x,b,C,_){for(var w=null,D=null,k=b,S=b=0,N=null;k!==null&&S<C.length;S++){k.index>S?(N=k,k=null):N=k.sibling;var O=h(x,k,C[S],_);if(O===null){k===null&&(k=N);break}e&&k&&O.alternate===null&&t(x,k),b=i(O,b,S),D===null?w=O:D.sibling=O,D=O,k=N}if(S===C.length)return n(x,k),kt&&fa(x,S),w;if(k===null){for(;S<C.length;S++)k=f(x,C[S],_),k!==null&&(b=i(k,b,S),D===null?w=k:D.sibling=k,D=k);return kt&&fa(x,S),w}for(k=r(x,k);S<C.length;S++)N=m(k,x,S,C[S],_),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?S:N.key),b=i(N,b,S),D===null?w=N:D.sibling=N,D=N);return e&&k.forEach(function(I){return t(x,I)}),kt&&fa(x,S),w}function g(x,b,C,_){var w=ec(C);if(typeof w!="function")throw Error(me(150));if(C=w.call(C),C==null)throw Error(me(151));for(var D=w=null,k=b,S=b=0,N=null,O=C.next();k!==null&&!O.done;S++,O=C.next()){k.index>S?(N=k,k=null):N=k.sibling;var I=h(x,k,O.value,_);if(I===null){k===null&&(k=N);break}e&&k&&I.alternate===null&&t(x,k),b=i(I,b,S),D===null?w=I:D.sibling=I,D=I,k=N}if(O.done)return n(x,k),kt&&fa(x,S),w;if(k===null){for(;!O.done;S++,O=C.next())O=f(x,O.value,_),O!==null&&(b=i(O,b,S),D===null?w=O:D.sibling=O,D=O);return kt&&fa(x,S),w}for(k=r(x,k);!O.done;S++,O=C.next())O=m(k,x,S,O.value,_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?S:O.key),b=i(O,b,S),D===null?w=O:D.sibling=O,D=O);return e&&k.forEach(function($){return t(x,$)}),kt&&fa(x,S),w}function y(x,b,C,_){if(typeof C=="object"&&C!==null&&C.type===bo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ad:e:{for(var w=C.key,D=b;D!==null;){if(D.key===w){if(w=C.type,w===bo){if(D.tag===7){n(x,D.sibling),b=s(D,C.props.children),b.return=x,x=b;break e}}else if(D.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fi&&Kx(w)===D.type){n(x,D.sibling),b=s(D,C.props),b.ref=ic(x,D,C),b.return=x,x=b;break e}n(x,D);break}else t(x,D);D=D.sibling}C.type===bo?(b=Ia(C.props.children,x.mode,_,C.key),b.return=x,x=b):(_=of(C.type,C.key,C.props,null,x.mode,_),_.ref=ic(x,b,C),_.return=x,x=_)}return a(x);case xo:e:{for(D=C.key;b!==null;){if(b.key===D)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(x,b.sibling),b=s(b,C.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=sp(C,x.mode,_),b.return=x,x=b}return a(x);case fi:return D=C._init,y(x,b,D(C._payload),_)}if(gc(C))return v(x,b,C,_);if(ec(C))return g(x,b,C,_);vd(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,C),b.return=x,x=b):(n(x,b),b=rp(C,x.mode,_),b.return=x,x=b),a(x)):n(x,b)}return y}var cl=zj(!0),Wj=zj(!1),If=Zi(null),Of=null,Eo=null,Iy=null;function Oy(){Iy=Eo=Of=null}function Fy(e){var t=If.current;xt(If),e._currentValue=t}function Mg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){Of=e,Iy=Eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yn=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Iy!==e)if(e={context:e,memoizedValue:t,next:null},Eo===null){if(Of===null)throw Error(me(308));Eo=e,Of.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var ba=null;function Ly(e){ba===null?ba=[e]:ba.push(e)}function Hj(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ly(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ws(e,r)}function Ws(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hi=!1;function $y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ws(e,n)}return s=r.interleaved,s===null?(t.next=t,Ly(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ws(e,n)}function ef(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jy(e,n)}}function Yx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ff(e,t,n,r){var s=e.updateQueue;hi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,u=d=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=At({},f,h);break e;case 2:hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qa|=a,e.lanes=a,e.memoizedState=f}}function Gx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(me(191,s));s.call(r)}}}var Iu={},ys=Zi(Iu),nu=Zi(Iu),ru=Zi(Iu);function Ca(e){if(e===Iu)throw Error(me(174));return e}function Uy(e,t){switch(mt(ru,t),mt(nu,e),mt(ys,Iu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hg(t,e)}xt(ys),mt(ys,t)}function ul(){xt(ys),xt(nu),xt(ru)}function Kj(e){Ca(ru.current);var t=Ca(ys.current),n=hg(t,e.type);t!==n&&(mt(nu,e),mt(ys,n))}function By(e){nu.current===e&&(xt(ys),xt(nu))}var Dt=Zi(0);function Lf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xm=[];function Vy(){for(var e=0;e<Xm.length;e++)Xm[e]._workInProgressVersionPrimary=null;Xm.length=0}var tf=Xs.ReactCurrentDispatcher,Jm=Xs.ReactCurrentBatchConfig,Ha=0,Nt=null,en=null,sn=null,$f=!1,Ec=!1,su=0,VI=0;function bn(){throw Error(me(321))}function zy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yr(e[n],t[n]))return!1;return!0}function Wy(e,t,n,r,s,i){if(Ha=i,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tf.current=e===null||e.memoizedState===null?qI:KI,e=n(r,s),Ec){i=0;do{if(Ec=!1,su=0,25<=i)throw Error(me(301));i+=1,sn=en=null,t.updateQueue=null,tf.current=YI,e=n(r,s)}while(Ec)}if(tf.current=Uf,t=en!==null&&en.next!==null,Ha=0,sn=en=Nt=null,$f=!1,t)throw Error(me(300));return e}function Hy(){var e=su!==0;return su=0,e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Nt.memoizedState=sn=e:sn=sn.next=e,sn}function Nr(){if(en===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=en.next;var t=sn===null?Nt.memoizedState:sn.next;if(t!==null)sn=t,en=e;else{if(e===null)throw Error(me(310));en=e,e={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},sn===null?Nt.memoizedState=sn=e:sn=sn.next=e}return sn}function iu(e,t){return typeof t=="function"?t(e):t}function Zm(e){var t=Nr(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=en,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var u=d.lane;if((Ha&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Nt.lanes|=u,qa|=u}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,Yr(r,t.memoizedState)||(Yn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Nt.lanes|=i,qa|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ep(e){var t=Nr(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Yr(i,t.memoizedState)||(Yn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yj(){}function Gj(e,t){var n=Nt,r=Nr(),s=t(),i=!Yr(r.memoizedState,s);if(i&&(r.memoizedState=s,Yn=!0),r=r.queue,qy(Jj.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,au(9,Xj.bind(null,n,r,s,t),void 0,null),on===null)throw Error(me(349));Ha&30||Qj(n,t,s)}return s}function Qj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xj(e,t,n,r){t.value=n,t.getSnapshot=r,Zj(t)&&e_(e)}function Jj(e,t,n){return n(function(){Zj(t)&&e_(e)})}function Zj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yr(e,n)}catch{return!0}}function e_(e){var t=Ws(e,1);t!==null&&Kr(t,e,1,-1)}function Qx(e){var t=is();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:e},t.queue=e,e=e.dispatch=HI.bind(null,Nt,e),[t.memoizedState,e]}function au(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function t_(){return Nr().memoizedState}function nf(e,t,n,r){var s=is();Nt.flags|=e,s.memoizedState=au(1|t,n,void 0,r===void 0?null:r)}function Ph(e,t,n,r){var s=Nr();r=r===void 0?null:r;var i=void 0;if(en!==null){var a=en.memoizedState;if(i=a.destroy,r!==null&&zy(r,a.deps)){s.memoizedState=au(t,n,i,r);return}}Nt.flags|=e,s.memoizedState=au(1|t,n,i,r)}function Xx(e,t){return nf(8390656,8,e,t)}function qy(e,t){return Ph(2048,8,e,t)}function n_(e,t){return Ph(4,2,e,t)}function r_(e,t){return Ph(4,4,e,t)}function s_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i_(e,t,n){return n=n!=null?n.concat([e]):null,Ph(4,4,s_.bind(null,t,e),n)}function Ky(){}function a_(e,t){var n=Nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function o_(e,t){var n=Nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function l_(e,t,n){return Ha&21?(Yr(n,t)||(n=hj(),Nt.lanes|=n,qa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yn=!0),e.memoizedState=n)}function zI(e,t){var n=at;at=n!==0&&4>n?n:4,e(!0);var r=Jm.transition;Jm.transition={};try{e(!1),t()}finally{at=n,Jm.transition=r}}function c_(){return Nr().memoizedState}function WI(e,t,n){var r=Ii(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},u_(e))d_(t,n);else if(n=Hj(e,t,n,r),n!==null){var s=On();Kr(n,e,r,s),f_(n,t,r)}}function HI(e,t,n){var r=Ii(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(u_(e))d_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Yr(l,a)){var c=t.interleaved;c===null?(s.next=s,Ly(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Hj(e,t,s,r),n!==null&&(s=On(),Kr(n,e,r,s),f_(n,t,r))}}function u_(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function d_(e,t){Ec=$f=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function f_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jy(e,n)}}var Uf={readContext:Er,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},qI={readContext:Er,useCallback:function(e,t){return is().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:Xx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nf(4194308,4,s_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nf(4194308,4,e,t)},useInsertionEffect:function(e,t){return nf(4,2,e,t)},useMemo:function(e,t){var n=is();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=WI.bind(null,Nt,e),[r.memoizedState,e]},useRef:function(e){var t=is();return e={current:e},t.memoizedState=e},useState:Qx,useDebugValue:Ky,useDeferredValue:function(e){return is().memoizedState=e},useTransition:function(){var e=Qx(!1),t=e[0];return e=zI.bind(null,e[1]),is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nt,s=is();if(kt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),on===null)throw Error(me(349));Ha&30||Qj(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Xx(Jj.bind(null,r,i,e),[e]),r.flags|=2048,au(9,Xj.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=is(),t=on.identifierPrefix;if(kt){var n=Os,r=Is;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=su++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KI={readContext:Er,useCallback:a_,useContext:Er,useEffect:qy,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:Zm,useRef:t_,useState:function(){return Zm(iu)},useDebugValue:Ky,useDeferredValue:function(e){var t=Nr();return l_(t,en.memoizedState,e)},useTransition:function(){var e=Zm(iu)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:Yj,useSyncExternalStore:Gj,useId:c_,unstable_isNewReconciler:!1},YI={readContext:Er,useCallback:a_,useContext:Er,useEffect:qy,useImperativeHandle:i_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:ep,useRef:t_,useState:function(){return ep(iu)},useDebugValue:Ky,useDeferredValue:function(e){var t=Nr();return en===null?t.memoizedState=e:l_(t,en.memoizedState,e)},useTransition:function(){var e=ep(iu)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:Yj,useSyncExternalStore:Gj,useId:c_,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=At({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:At({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dh={isMounted:function(e){return(e=e._reactInternals)?Za(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=On(),s=Ii(e),i=Bs(r,s);i.payload=t,n!=null&&(i.callback=n),t=Mi(e,i,s),t!==null&&(Kr(t,e,s,r),ef(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=On(),s=Ii(e),i=Bs(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Mi(e,i,s),t!==null&&(Kr(t,e,s,r),ef(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=On(),r=Ii(e),s=Bs(n,r);s.tag=2,t!=null&&(s.callback=t),t=Mi(e,s,r),t!==null&&(Kr(t,e,r,n),ef(t,e,r))}};function Jx(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Jc(n,r)||!Jc(s,i):!0}function h_(e,t,n){var r=!1,s=zi,i=t.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=Jn(t)?za:En.current,r=t.contextTypes,i=(r=r!=null)?ol(e,s):zi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dh.enqueueReplaceState(t,t.state,null)}function Ig(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$y(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=Jn(t)?za:En.current,s.context=ol(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dh.enqueueReplaceState(s,s.state,null),Ff(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var n="",r=t;do n+=CR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function tp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Og(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function m_(e,t,n){n=Bs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vf||(Vf=!0,qg=r),Og(e,t)},n}function p_(e,t,n){n=Bs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Og(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Og(e,t),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function eb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new GI;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cO.bind(null,e,t,n),t.then(e,e))}function tb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bs(-1,1),t.tag=2,Mi(n,t,1))),n.lanes|=1),e)}var QI=Xs.ReactCurrentOwner,Yn=!1;function Tn(e,t,n,r){t.child=e===null?Wj(t,null,n,r):cl(t,e.child,n,r)}function rb(e,t,n,r,s){n=n.render;var i=t.ref;return Vo(t,s),r=Wy(e,t,n,r,i,s),n=Hy(),e!==null&&!Yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hs(e,t,s)):(kt&&n&&Ay(t),t.flags|=1,Tn(e,t,r,s),t.child)}function sb(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!t0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,g_(e,t,i,r,s)):(e=of(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jc,n(a,r)&&e.ref===t.ref)return Hs(e,t,s)}return t.flags|=1,e=Oi(i,r),e.ref=t.ref,e.return=t,t.child=e}function g_(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Jc(i,r)&&e.ref===t.ref)if(Yn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Yn=!0);else return t.lanes=e.lanes,Hs(e,t,s)}return Fg(e,t,n,r,s)}function v_(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(To,or),or|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(To,or),or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mt(To,or),or|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,mt(To,or),or|=r;return Tn(e,t,s,n),t.child}function y_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fg(e,t,n,r,s){var i=Jn(n)?za:En.current;return i=ol(t,i),Vo(t,s),n=Wy(e,t,n,r,i,s),r=Hy(),e!==null&&!Yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hs(e,t,s)):(kt&&r&&Ay(t),t.flags|=1,Tn(e,t,n,s),t.child)}function ib(e,t,n,r,s){if(Jn(n)){var i=!0;Af(t)}else i=!1;if(Vo(t,s),t.stateNode===null)rf(e,t),h_(t,n,r),Ig(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Er(d):(d=Jn(n)?za:En.current,d=ol(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Zx(t,a,r,d),hi=!1;var h=t.memoizedState;a.state=h,Ff(t,r,a,s),c=t.memoizedState,l!==r||h!==c||Xn.current||hi?(typeof u=="function"&&(Rg(t,n,u,r),c=t.memoizedState),(l=hi||Jx(t,n,l,r,h,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Lr(t.type,l),a.props=d,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Jn(n)?za:En.current,c=ol(t,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Zx(t,a,r,c),hi=!1,h=t.memoizedState,a.state=h,Ff(t,r,a,s);var v=t.memoizedState;l!==f||h!==v||Xn.current||hi?(typeof m=="function"&&(Rg(t,n,m,r),v=t.memoizedState),(d=hi||Jx(t,n,d,r,h,v,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Lg(e,t,n,r,i,s)}function Lg(e,t,n,r,s,i){y_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Wx(t,n,!1),Hs(e,t,i);r=t.stateNode,QI.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=cl(t,e.child,null,i),t.child=cl(t,null,l,i)):Tn(e,t,l,i),t.memoizedState=r.state,s&&Wx(t,n,!0),t.child}function w_(e){var t=e.stateNode;t.pendingContext?zx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zx(e,t.context,!1),Uy(e,t.containerInfo)}function ab(e,t,n,r,s){return ll(),Ry(s),t.flags|=256,Tn(e,t,n,r),t.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function Ug(e){return{baseLanes:e,cachePool:null,transitions:null}}function x_(e,t,n){var r=t.pendingProps,s=Dt.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),mt(Dt,s&1),e===null)return Ag(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Th(a,r,0,null),e=Ia(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ug(n),t.memoizedState=$g,e):Yy(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return XI(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Oi(l,i):(i=Ia(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ug(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=$g,r}return i=e.child,e=i.sibling,r=Oi(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yy(e,t){return t=Th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yd(e,t,n,r){return r!==null&&Ry(r),cl(t,e.child,null,n),e=Yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XI(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=tp(Error(me(422))),yd(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Th({mode:"visible",children:r.children},s,0,null),i=Ia(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&cl(t,e.child,null,a),t.child.memoizedState=Ug(a),t.memoizedState=$g,i);if(!(t.mode&1))return yd(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(me(419)),r=tp(i,r,void 0),yd(e,t,a,r)}if(l=(a&e.childLanes)!==0,Yn||l){if(r=on,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ws(e,s),Kr(r,e,s,-1))}return e0(),r=tp(Error(me(421))),yd(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uO.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ur=Ai(s.nextSibling),fr=t,kt=!0,zr=null,e!==null&&(xr[br++]=Is,xr[br++]=Os,xr[br++]=Wa,Is=e.id,Os=e.overflow,Wa=t),t=Yy(t,r.children),t.flags|=4096,t)}function ob(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mg(e.return,t,n)}function np(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function b_(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(e,t,r.children,n),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ob(e,n,t);else if(e.tag===19)ob(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mt(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Lf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),np(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Lf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}np(t,!0,n,null,i);break;case"together":np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=Oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function JI(e,t,n){switch(t.tag){case 3:w_(t),ll();break;case 5:Kj(t);break;case 1:Jn(t.type)&&Af(t);break;case 4:Uy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;mt(If,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mt(Dt,Dt.current&1),t.flags|=128,null):n&t.child.childLanes?x_(e,t,n):(mt(Dt,Dt.current&1),e=Hs(e,t,n),e!==null?e.sibling:null);mt(Dt,Dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return b_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,v_(e,t,n)}return Hs(e,t,n)}var C_,Bg,S_,j_;C_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bg=function(){};S_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ca(ys.current);var i=null;switch(n){case"input":s=cg(e,s),r=cg(e,r),i=[];break;case"select":s=At({},s,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":s=fg(e,s),r=fg(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Nf)}mg(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Hc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&wt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};j_=function(e,t,n,r){n!==r&&(t.flags|=4)};function ac(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ZI(e,t,n){var r=t.pendingProps;switch(My(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(t),null;case 1:return Jn(t.type)&&Tf(),Cn(t),null;case 3:return r=t.stateNode,ul(),xt(Xn),xt(En),Vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zr!==null&&(Gg(zr),zr=null))),Bg(e,t),Cn(t),null;case 5:By(t);var s=Ca(ru.current);if(n=t.type,e!==null&&t.stateNode!=null)S_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return Cn(t),null}if(e=Ca(ys.current),gd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ds]=t,r[tu]=i,e=(t.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(s=0;s<yc.length;s++)wt(yc[s],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":gx(r,i),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},wt("invalid",r);break;case"textarea":yx(r,i),wt("invalid",r)}mg(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,l,e),s=["children",""+l]):Hc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&wt("scroll",r)}switch(n){case"input":od(r),vx(r,i,!0);break;case"textarea":od(r),wx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nf)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ds]=t,e[tu]=r,C_(e,t,!1,!1),t.stateNode=e;e:{switch(a=pg(n,r),n){case"dialog":wt("cancel",e),wt("close",e),s=r;break;case"iframe":case"object":case"embed":wt("load",e),s=r;break;case"video":case"audio":for(s=0;s<yc.length;s++)wt(yc[s],e);s=r;break;case"source":wt("error",e),s=r;break;case"img":case"image":case"link":wt("error",e),wt("load",e),s=r;break;case"details":wt("toggle",e),s=r;break;case"input":gx(e,r),s=cg(e,r),wt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=At({},r,{value:void 0}),wt("invalid",e);break;case"textarea":yx(e,r),s=fg(e,r),wt("invalid",e);break;default:s=r}mg(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?tj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ZS(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qc(e,c):typeof c=="number"&&qc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wt("scroll",e):c!=null&&yy(e,i,c,a))}switch(n){case"input":od(e),vx(e,r,!1);break;case"textarea":od(e),wx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Lo(e,!!r.multiple,i,!1):r.defaultValue!=null&&Lo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Nf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cn(t),null;case 6:if(e&&t.stateNode!=null)j_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Ca(ru.current),Ca(ys.current),gd(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(i=r.nodeValue!==n)&&(e=fr,e!==null))switch(e.tag){case 3:pd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ds]=t,t.stateNode=r}return Cn(t),null;case 13:if(xt(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&ur!==null&&t.mode&1&&!(t.flags&128))Vj(),ll(),t.flags|=98560,i=!1;else if(i=gd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(me(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[ds]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cn(t),i=!1}else zr!==null&&(Gg(zr),zr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?tn===0&&(tn=3):e0())),t.updateQueue!==null&&(t.flags|=4),Cn(t),null);case 4:return ul(),Bg(e,t),e===null&&Zc(t.stateNode.containerInfo),Cn(t),null;case 10:return Fy(t.type._context),Cn(t),null;case 17:return Jn(t.type)&&Tf(),Cn(t),null;case 19:if(xt(Dt),i=t.memoizedState,i===null)return Cn(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ac(i,!1);else{if(tn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Lf(e),a!==null){for(t.flags|=128,ac(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mt(Dt,Dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ut()>fl&&(t.flags|=128,r=!0,ac(i,!1),t.lanes=4194304)}else{if(!r)if(e=Lf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ac(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!kt)return Cn(t),null}else 2*Ut()-i.renderingStartTime>fl&&n!==1073741824&&(t.flags|=128,r=!0,ac(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,n=Dt.current,mt(Dt,r?n&1|2:n&1),t):(Cn(t),null);case 22:case 23:return Zy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?or&1073741824&&(Cn(t),t.subtreeFlags&6&&(t.flags|=8192)):Cn(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function eO(e,t){switch(My(t),t.tag){case 1:return Jn(t.type)&&Tf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),xt(Xn),xt(En),Vy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return By(t),null;case 13:if(xt(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(Dt),null;case 4:return ul(),null;case 10:return Fy(t.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var wd=!1,Pn=!1,tO=typeof WeakSet=="function"?WeakSet:Set,Se=null;function No(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(e,t,r)}else n.current=null}function Vg(e,t,n){try{n()}catch(r){It(e,t,r)}}var lb=!1;function nO(e,t){if(_g=Pf,e=Ej(),Ty(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++d===s&&(l=a),h===i&&++u===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kg={focusedElem:e,selectionRange:n},Pf=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Lr(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(_){It(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return v=lb,lb=!1,v}function Nc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vg(t,n,i)}s=s.next}while(s!==r)}}function Eh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function __(e){var t=e.alternate;t!==null&&(e.alternate=null,__(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ds],delete t[tu],delete t[Eg],delete t[LI],delete t[$I])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k_(e){return e.tag===5||e.tag===3||e.tag===4}function cb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nf));else if(r!==4&&(e=e.child,e!==null))for(Wg(e,t,n),e=e.sibling;e!==null;)Wg(e,t,n),e=e.sibling}function Hg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hg(e,t,n),e=e.sibling;e!==null;)Hg(e,t,n),e=e.sibling}var hn=null,Br=!1;function ei(e,t,n){for(n=n.child;n!==null;)P_(e,t,n),n=n.sibling}function P_(e,t,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(bh,n)}catch{}switch(n.tag){case 5:Pn||No(n,t);case 6:var r=hn,s=Br;hn=null,ei(e,t,n),hn=r,Br=s,hn!==null&&(Br?(e=hn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Br?(e=hn,n=n.stateNode,e.nodeType===8?Gm(e.parentNode,n):e.nodeType===1&&Gm(e,n),Qc(e)):Gm(hn,n.stateNode));break;case 4:r=hn,s=Br,hn=n.stateNode.containerInfo,Br=!0,ei(e,t,n),hn=r,Br=s;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Vg(n,t,a),s=s.next}while(s!==r)}ei(e,t,n);break;case 1:if(!Pn&&(No(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){It(n,t,l)}ei(e,t,n);break;case 21:ei(e,t,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,ei(e,t,n),Pn=r):ei(e,t,n);break;default:ei(e,t,n)}}function ub(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tO),t.forEach(function(r){var s=dO.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:hn=l.stateNode,Br=!1;break e;case 3:hn=l.stateNode.containerInfo,Br=!0;break e;case 4:hn=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(hn===null)throw Error(me(160));P_(i,a,s),hn=null,Br=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){It(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)D_(t,e),t=t.sibling}function D_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mr(t,e),rs(e),r&4){try{Nc(3,e,e.return),Eh(3,e)}catch(g){It(e,e.return,g)}try{Nc(5,e,e.return)}catch(g){It(e,e.return,g)}}break;case 1:Mr(t,e),rs(e),r&512&&n!==null&&No(n,n.return);break;case 5:if(Mr(t,e),rs(e),r&512&&n!==null&&No(n,n.return),e.flags&32){var s=e.stateNode;try{qc(s,"")}catch(g){It(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&QS(s,i),pg(l,a);var d=pg(l,i);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?tj(s,f):u==="dangerouslySetInnerHTML"?ZS(s,f):u==="children"?qc(s,f):yy(s,u,f,d)}switch(l){case"input":ug(s,i);break;case"textarea":XS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Lo(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Lo(s,!!i.multiple,i.defaultValue,!0):Lo(s,!!i.multiple,i.multiple?[]:"",!1))}s[tu]=i}catch(g){It(e,e.return,g)}}break;case 6:if(Mr(t,e),rs(e),r&4){if(e.stateNode===null)throw Error(me(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){It(e,e.return,g)}}break;case 3:if(Mr(t,e),rs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(t.containerInfo)}catch(g){It(e,e.return,g)}break;case 4:Mr(t,e),rs(e);break;case 13:Mr(t,e),rs(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xy=Ut())),r&4&&ub(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Pn=(d=Pn)||u,Mr(t,e),Pn=d):Mr(t,e),rs(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Se=e,u=e.child;u!==null;){for(f=Se=u;Se!==null;){switch(h=Se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Nc(4,h,h.return);break;case 1:No(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){It(r,n,g)}}break;case 5:No(h,h.return);break;case 22:if(h.memoizedState!==null){fb(f);continue}}m!==null?(m.return=h,Se=m):fb(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ej("display",a))}catch(g){It(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){It(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mr(t,e),rs(e),r&4&&ub(e);break;case 21:break;default:Mr(t,e),rs(e)}}function rs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k_(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qc(s,""),r.flags&=-33);var i=cb(e);Hg(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=cb(e);Wg(e,l,a);break;default:throw Error(me(161))}}catch(c){It(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rO(e,t,n){Se=e,E_(e)}function E_(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||wd;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pn;l=wd;var d=Pn;if(wd=a,(Pn=c)&&!d)for(Se=s;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?hb(s):c!==null?(c.return=a,Se=c):hb(s);for(;i!==null;)Se=i,E_(i),i=i.sibling;Se=s,wd=l,Pn=d}db(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):db(e)}}function db(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pn||Eh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Gx(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gx(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Pn||t.flags&512&&zg(t)}catch(h){It(t,t.return,h)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function fb(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function hb(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Eh(4,t)}catch(c){It(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){It(t,s,c)}}var i=t.return;try{zg(t)}catch(c){It(t,i,c)}break;case 5:var a=t.return;try{zg(t)}catch(c){It(t,a,c)}}}catch(c){It(t,t.return,c)}if(t===e){Se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Se=l;break}Se=t.return}}var sO=Math.ceil,Bf=Xs.ReactCurrentDispatcher,Gy=Xs.ReactCurrentOwner,jr=Xs.ReactCurrentBatchConfig,Je=0,on=null,Kt=null,vn=0,or=0,To=Zi(0),tn=0,ou=null,qa=0,Nh=0,Qy=0,Tc=null,Vn=null,Xy=0,fl=1/0,Ts=null,Vf=!1,qg=null,Ri=null,xd=!1,_i=null,zf=0,Ac=0,Kg=null,sf=-1,af=0;function On(){return Je&6?Ut():sf!==-1?sf:sf=Ut()}function Ii(e){return e.mode&1?Je&2&&vn!==0?vn&-vn:BI.transition!==null?(af===0&&(af=hj()),af):(e=at,e!==0||(e=window.event,e=e===void 0?16:xj(e.type)),e):1}function Kr(e,t,n,r){if(50<Ac)throw Ac=0,Kg=null,Error(me(185));Au(e,n,r),(!(Je&2)||e!==on)&&(e===on&&(!(Je&2)&&(Nh|=n),tn===4&&vi(e,vn)),Zn(e,r),n===1&&Je===0&&!(t.mode&1)&&(fl=Ut()+500,kh&&ea()))}function Zn(e,t){var n=e.callbackNode;BR(e,t);var r=kf(e,e===on?vn:0);if(r===0)n!==null&&Cx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cx(n),t===1)e.tag===0?UI(mb.bind(null,e)):$j(mb.bind(null,e)),OI(function(){!(Je&6)&&ea()}),n=null;else{switch(mj(r)){case 1:n=Sy;break;case 4:n=dj;break;case 16:n=_f;break;case 536870912:n=fj;break;default:n=_f}n=F_(n,N_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N_(e,t){if(sf=-1,af=0,Je&6)throw Error(me(327));var n=e.callbackNode;if(zo()&&e.callbackNode!==n)return null;var r=kf(e,e===on?vn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wf(e,r);else{t=r;var s=Je;Je|=2;var i=A_();(on!==e||vn!==t)&&(Ts=null,fl=Ut()+500,Ra(e,t));do try{oO();break}catch(l){T_(e,l)}while(!0);Oy(),Bf.current=i,Je=s,Kt!==null?t=0:(on=null,vn=0,t=tn)}if(t!==0){if(t===2&&(s=xg(e),s!==0&&(r=s,t=Yg(e,s))),t===1)throw n=ou,Ra(e,0),vi(e,r),Zn(e,Ut()),n;if(t===6)vi(e,r);else{if(s=e.current.alternate,!(r&30)&&!iO(s)&&(t=Wf(e,r),t===2&&(i=xg(e),i!==0&&(r=i,t=Yg(e,i))),t===1))throw n=ou,Ra(e,0),vi(e,r),Zn(e,Ut()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:ha(e,Vn,Ts);break;case 3:if(vi(e,r),(r&130023424)===r&&(t=Xy+500-Ut(),10<t)){if(kf(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){On(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dg(ha.bind(null,e,Vn,Ts),t);break}ha(e,Vn,Ts);break;case 4:if(vi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-qr(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sO(r/1960))-r,10<r){e.timeoutHandle=Dg(ha.bind(null,e,Vn,Ts),r);break}ha(e,Vn,Ts);break;case 5:ha(e,Vn,Ts);break;default:throw Error(me(329))}}}return Zn(e,Ut()),e.callbackNode===n?N_.bind(null,e):null}function Yg(e,t){var n=Tc;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),e=Wf(e,t),e!==2&&(t=Vn,Vn=n,t!==null&&Gg(t)),e}function Gg(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function iO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(e,t){for(t&=~Qy,t&=~Nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qr(t),r=1<<n;e[n]=-1,t&=~r}}function mb(e){if(Je&6)throw Error(me(327));zo();var t=kf(e,0);if(!(t&1))return Zn(e,Ut()),null;var n=Wf(e,t);if(e.tag!==0&&n===2){var r=xg(e);r!==0&&(t=r,n=Yg(e,r))}if(n===1)throw n=ou,Ra(e,0),vi(e,t),Zn(e,Ut()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ha(e,Vn,Ts),Zn(e,Ut()),null}function Jy(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(fl=Ut()+500,kh&&ea())}}function Ka(e){_i!==null&&_i.tag===0&&!(Je&6)&&zo();var t=Je;Je|=1;var n=jr.transition,r=at;try{if(jr.transition=null,at=1,e)return e()}finally{at=r,jr.transition=n,Je=t,!(Je&6)&&ea()}}function Zy(){or=To.current,xt(To)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,II(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(My(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tf();break;case 3:ul(),xt(Xn),xt(En),Vy();break;case 5:By(r);break;case 4:ul();break;case 13:xt(Dt);break;case 19:xt(Dt);break;case 10:Fy(r.type._context);break;case 22:case 23:Zy()}n=n.return}if(on=e,Kt=e=Oi(e.current,null),vn=or=t,tn=0,ou=null,Qy=Nh=qa=0,Vn=Tc=null,ba!==null){for(t=0;t<ba.length;t++)if(n=ba[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ba=null}return e}function T_(e,t){do{var n=Kt;try{if(Oy(),tf.current=Uf,$f){for(var r=Nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$f=!1}if(Ha=0,sn=en=Nt=null,Ec=!1,su=0,Gy.current=null,n===null||n.return===null){tn=1,ou=t,Kt=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=vn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=tb(a);if(m!==null){m.flags&=-257,nb(m,a,l,i,t),m.mode&1&&eb(i,d,t),t=m,c=d;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){eb(i,d,t),e0();break e}c=Error(me(426))}}else if(kt&&l.mode&1){var y=tb(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),nb(y,a,l,i,t),Ry(dl(c,l));break e}}i=c=dl(c,l),tn!==4&&(tn=2),Tc===null?Tc=[i]:Tc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=m_(i,c,t);Yx(i,x);break e;case 1:l=c;var b=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ri===null||!Ri.has(C)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=p_(i,l,t);Yx(i,_);break e}}i=i.return}while(i!==null)}R_(n)}catch(w){t=w,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function A_(){var e=Bf.current;return Bf.current=Uf,e===null?Uf:e}function e0(){(tn===0||tn===3||tn===2)&&(tn=4),on===null||!(qa&268435455)&&!(Nh&268435455)||vi(on,vn)}function Wf(e,t){var n=Je;Je|=2;var r=A_();(on!==e||vn!==t)&&(Ts=null,Ra(e,t));do try{aO();break}catch(s){T_(e,s)}while(!0);if(Oy(),Je=n,Bf.current=r,Kt!==null)throw Error(me(261));return on=null,vn=0,tn}function aO(){for(;Kt!==null;)M_(Kt)}function oO(){for(;Kt!==null&&!AR();)M_(Kt)}function M_(e){var t=O_(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?R_(e):Kt=t,Gy.current=null}function R_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eO(n,t),n!==null){n.flags&=32767,Kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tn=6,Kt=null;return}}else if(n=ZI(n,t,or),n!==null){Kt=n;return}if(t=t.sibling,t!==null){Kt=t;return}Kt=t=e}while(t!==null);tn===0&&(tn=5)}function ha(e,t,n){var r=at,s=jr.transition;try{jr.transition=null,at=1,lO(e,t,n,r)}finally{jr.transition=s,at=r}return null}function lO(e,t,n,r){do zo();while(_i!==null);if(Je&6)throw Error(me(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(VR(e,i),e===on&&(Kt=on=null,vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,F_(_f,function(){return zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jr.transition,jr.transition=null;var a=at;at=1;var l=Je;Je|=4,Gy.current=null,nO(e,n),D_(n,e),DI(kg),Pf=!!_g,kg=_g=null,e.current=n,rO(n),MR(),Je=l,at=a,jr.transition=i}else e.current=n;if(xd&&(xd=!1,_i=e,zf=s),i=e.pendingLanes,i===0&&(Ri=null),OR(n.stateNode),Zn(e,Ut()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vf)throw Vf=!1,e=qg,qg=null,e;return zf&1&&e.tag!==0&&zo(),i=e.pendingLanes,i&1?e===Kg?Ac++:(Ac=0,Kg=e):Ac=0,ea(),null}function zo(){if(_i!==null){var e=mj(zf),t=jr.transition,n=at;try{if(jr.transition=null,at=16>e?16:e,_i===null)var r=!1;else{if(e=_i,_i=null,zf=0,Je&6)throw Error(me(331));var s=Je;for(Je|=4,Se=e.current;Se!==null;){var i=Se,a=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Se=d;Se!==null;){var u=Se;switch(u.tag){case 0:case 11:case 15:Nc(8,u,i)}var f=u.child;if(f!==null)f.return=u,Se=f;else for(;Se!==null;){u=Se;var h=u.sibling,m=u.return;if(__(u),u===d){Se=null;break}if(h!==null){h.return=m,Se=h;break}Se=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Se=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Se=a;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Se=x;break e}Se=i.return}}var b=e.current;for(Se=b;Se!==null;){a=Se;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,Se=C;else e:for(a=b;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eh(9,l)}}catch(w){It(l,l.return,w)}if(l===a){Se=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Se=_;break e}Se=l.return}}if(Je=s,ea(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(bh,e)}catch{}r=!0}return r}finally{at=n,jr.transition=t}}return!1}function pb(e,t,n){t=dl(n,t),t=m_(e,t,1),e=Mi(e,t,1),t=On(),e!==null&&(Au(e,1,t),Zn(e,t))}function It(e,t,n){if(e.tag===3)pb(e,e,n);else for(;t!==null;){if(t.tag===3){pb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){e=dl(n,e),e=p_(t,e,1),t=Mi(t,e,1),e=On(),t!==null&&(Au(t,1,e),Zn(t,e));break}}t=t.return}}function cO(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=On(),e.pingedLanes|=e.suspendedLanes&n,on===e&&(vn&n)===n&&(tn===4||tn===3&&(vn&130023424)===vn&&500>Ut()-Xy?Ra(e,0):Qy|=n),Zn(e,t)}function I_(e,t){t===0&&(e.mode&1?(t=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):t=1);var n=On();e=Ws(e,t),e!==null&&(Au(e,t,n),Zn(e,n))}function uO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I_(e,n)}function dO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),I_(e,n)}var O_;O_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xn.current)Yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Yn=!1,JI(e,t,n);Yn=!!(e.flags&131072)}else Yn=!1,kt&&t.flags&1048576&&Uj(t,Rf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rf(e,t),e=t.pendingProps;var s=ol(t,En.current);Vo(t,n),s=Wy(null,t,r,e,s,n);var i=Hy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jn(r)?(i=!0,Af(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$y(t),s.updater=Dh,t.stateNode=s,s._reactInternals=t,Ig(t,r,e,n),t=Lg(null,t,r,!0,i,n)):(t.tag=0,kt&&i&&Ay(t),Tn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rf(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hO(r),e=Lr(r,e),s){case 0:t=Fg(null,t,r,e,n);break e;case 1:t=ib(null,t,r,e,n);break e;case 11:t=rb(null,t,r,e,n);break e;case 14:t=sb(null,t,r,Lr(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lr(r,s),Fg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lr(r,s),ib(e,t,r,s,n);case 3:e:{if(w_(t),e===null)throw Error(me(387));r=t.pendingProps,i=t.memoizedState,s=i.element,qj(e,t),Ff(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=dl(Error(me(423)),t),t=ab(e,t,r,n,s);break e}else if(r!==s){s=dl(Error(me(424)),t),t=ab(e,t,r,n,s);break e}else for(ur=Ai(t.stateNode.containerInfo.firstChild),fr=t,kt=!0,zr=null,n=Wj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===s){t=Hs(e,t,n);break e}Tn(e,t,r,n)}t=t.child}return t;case 5:return Kj(t),e===null&&Ag(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Pg(r,s)?a=null:i!==null&&Pg(r,i)&&(t.flags|=32),y_(e,t),Tn(e,t,a,n),t.child;case 6:return e===null&&Ag(t),null;case 13:return x_(e,t,n);case 4:return Uy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cl(t,null,r,n):Tn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lr(r,s),rb(e,t,r,s,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,mt(If,r._currentValue),r._currentValue=a,i!==null)if(Yr(i.value,a)){if(i.children===s.children&&!Xn.current){t=Hs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Bs(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Mg(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(me(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Mg(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Tn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vo(t,n),s=Er(s),r=r(s),t.flags|=1,Tn(e,t,r,n),t.child;case 14:return r=t.type,s=Lr(r,t.pendingProps),s=Lr(r.type,s),sb(e,t,r,s,n);case 15:return g_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lr(r,s),rf(e,t),t.tag=1,Jn(r)?(e=!0,Af(t)):e=!1,Vo(t,n),h_(t,r,s),Ig(t,r,s,n),Lg(null,t,r,!0,e,n);case 19:return b_(e,t,n);case 22:return v_(e,t,n)}throw Error(me(156,t.tag))};function F_(e,t){return uj(e,t)}function fO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,n,r){return new fO(e,t,n,r)}function t0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hO(e){if(typeof e=="function")return t0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xy)return 11;if(e===by)return 14}return 2}function Oi(e,t){var n=e.alternate;return n===null?(n=Sr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function of(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")t0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bo:return Ia(n.children,s,i,t);case wy:a=8,s|=8;break;case ig:return e=Sr(12,n,t,s|2),e.elementType=ig,e.lanes=i,e;case ag:return e=Sr(13,n,t,s),e.elementType=ag,e.lanes=i,e;case og:return e=Sr(19,n,t,s),e.elementType=og,e.lanes=i,e;case KS:return Th(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HS:a=10;break e;case qS:a=9;break e;case xy:a=11;break e;case by:a=14;break e;case fi:a=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=Sr(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ia(e,t,n,r){return e=Sr(7,e,r,t),e.lanes=n,e}function Th(e,t,n,r){return e=Sr(22,e,r,t),e.elementType=KS,e.lanes=n,e.stateNode={isHidden:!1},e}function rp(e,t,n){return e=Sr(6,e,null,t),e.lanes=n,e}function sp(e,t,n){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mO(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function n0(e,t,n,r,s,i,a,l,c){return e=new mO(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(i),e}function pO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function L_(e){if(!e)return zi;e=e._reactInternals;e:{if(Za(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(Jn(n))return Lj(e,n,t)}return t}function $_(e,t,n,r,s,i,a,l,c){return e=n0(n,r,!0,e,s,i,a,l,c),e.context=L_(null),n=e.current,r=On(),s=Ii(n),i=Bs(r,s),i.callback=t??null,Mi(n,i,s),e.current.lanes=s,Au(e,s,r),Zn(e,r),e}function Ah(e,t,n,r){var s=t.current,i=On(),a=Ii(s);return n=L_(n),t.context===null?t.context=n:t.pendingContext=n,t=Bs(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mi(s,t,a),e!==null&&(Kr(e,s,a,i),ef(e,s,a)),a}function Hf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function r0(e,t){gb(e,t),(e=e.alternate)&&gb(e,t)}function gO(){return null}var U_=typeof reportError=="function"?reportError:function(e){console.error(e)};function s0(e){this._internalRoot=e}Mh.prototype.render=s0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));Ah(e,t,null,null)};Mh.prototype.unmount=s0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ka(function(){Ah(null,e,null,null)}),t[zs]=null}};function Mh(e){this._internalRoot=e}Mh.prototype.unstable_scheduleHydration=function(e){if(e){var t=vj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&wj(e)}};function i0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vb(){}function vO(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Hf(a);i.call(d)}}var a=$_(t,r,e,0,null,!1,!1,"",vb);return e._reactRootContainer=a,e[zs]=a.current,Zc(e.nodeType===8?e.parentNode:e),Ka(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Hf(c);l.call(d)}}var c=n0(e,0,!1,null,null,!1,!1,"",vb);return e._reactRootContainer=c,e[zs]=c.current,Zc(e.nodeType===8?e.parentNode:e),Ka(function(){Ah(t,c,n,r)}),c}function Ih(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Hf(a);l.call(c)}}Ah(t,a,e,s)}else a=vO(n,t,e,s,r);return Hf(a)}pj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vc(t.pendingLanes);n!==0&&(jy(t,n|1),Zn(t,Ut()),!(Je&6)&&(fl=Ut()+500,ea()))}break;case 13:Ka(function(){var r=Ws(e,1);if(r!==null){var s=On();Kr(r,e,1,s)}}),r0(e,1)}};_y=function(e){if(e.tag===13){var t=Ws(e,134217728);if(t!==null){var n=On();Kr(t,e,134217728,n)}r0(e,134217728)}};gj=function(e){if(e.tag===13){var t=Ii(e),n=Ws(e,t);if(n!==null){var r=On();Kr(n,e,t,r)}r0(e,t)}};vj=function(){return at};yj=function(e,t){var n=at;try{return at=e,t()}finally{at=n}};vg=function(e,t,n){switch(t){case"input":if(ug(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_h(r);if(!s)throw Error(me(90));GS(r),ug(r,s)}}}break;case"textarea":XS(e,n);break;case"select":t=n.value,t!=null&&Lo(e,!!n.multiple,t,!1)}};sj=Jy;ij=Ka;var yO={usingClientEntryPoint:!1,Events:[Ru,_o,_h,nj,rj,Jy]},oc={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wO={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lj(e),e===null?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||gO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{bh=bd.inject(wO),vs=bd}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yO;pr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i0(t))throw Error(me(200));return pO(e,t,null,n)};pr.createRoot=function(e,t){if(!i0(e))throw Error(me(299));var n=!1,r="",s=U_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=n0(e,1,!1,null,null,n,!1,r,s),e[zs]=t.current,Zc(e.nodeType===8?e.parentNode:e),new s0(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=lj(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return Ka(e)};pr.hydrate=function(e,t,n){if(!Rh(t))throw Error(me(200));return Ih(null,e,t,!0,n)};pr.hydrateRoot=function(e,t,n){if(!i0(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=U_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=$_(t,null,e,1,n??null,s,!1,i,a),e[zs]=t.current,Zc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mh(t)};pr.render=function(e,t,n){if(!Rh(t))throw Error(me(200));return Ih(null,e,t,!1,n)};pr.unmountComponentAtNode=function(e){if(!Rh(e))throw Error(me(40));return e._reactRootContainer?(Ka(function(){Ih(null,null,e,!1,function(){e._reactRootContainer=null,e[zs]=null})}),!0):!1};pr.unstable_batchedUpdates=Jy;pr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rh(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Ih(e,t,n,!1,r)};pr.version="18.3.1-next-f1338f8080-20240426";function B_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B_)}catch(e){console.error(e)}}B_(),BS.exports=pr;var eo=BS.exports;const V_=DS(eo);var z_,yb=eo;z_=yb.createRoot,yb.hydrateRoot;var xO="@vercel/speed-insights",bO="1.2.0",CO=()=>{window.si||(window.si=function(...t){(window.siq=window.siq||[]).push(t)})};function SO(){return typeof window<"u"}function jO(){try{const e="production"}catch{}return"production"}function W_(){return jO()==="development"}function _O(e){return e.scriptSrc?e.scriptSrc:W_()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function kO(e={}){var t;if(!SO()||e.route===null)return null;CO();const n=_O(e);if(document.head.querySelector(`script[src*="${n}"]`))return null;e.beforeSend&&((t=window.si)==null||t.call(window,"beforeSend",e.beforeSend));const r=document.createElement("script");return r.src=n,r.defer=!0,r.dataset.sdkn=xO+(e.framework?`/${e.framework}`:""),r.dataset.sdkv=bO,e.sampleRate&&(r.dataset.sampleRate=e.sampleRate.toString()),e.route&&(r.dataset.route=e.route),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(r.dataset.dsn=e.dsn),W_()&&e.debug===!1&&(r.dataset.debug="false"),r.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(r),{setRoute:s=>{r.dataset.route=s??void 0}}}/*! Capacitor: https://capacitorjs.com/ - MIT License */const PO=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(i,a)=>{n.platforms.set(i,a)},s=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=r,n.setPlatform=s,n},DO=e=>e.CapacitorPlatforms=PO(e),H_=DO(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});H_.addPlatform;H_.setPlatform;var hl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(hl||(hl={}));class ip extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const EO=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},NO=e=>{var t,n,r,s,i;const a=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},c=l.Plugins=l.Plugins||{},d=e.CapacitorPlatforms,u=()=>a!==null?a.name:EO(e),f=((t=d==null?void 0:d.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||u,h=()=>f()!=="web",m=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,v=k=>{const S=_.get(k);return!!(S!=null&&S.platforms.has(f())||x(k))},g=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||v,y=k=>{var S;return(S=l.PluginHeaders)===null||S===void 0?void 0:S.find(N=>N.name===k)},x=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||y,b=k=>e.console.error(k),C=(k,S,N)=>Promise.reject(`${N} does not have an implementation of "${S}".`),_=new Map,w=(k,S={})=>{const N=_.get(k);if(N)return console.warn(`Capacitor plugin "${k}" already registered. Cannot register plugins twice.`),N.proxy;const O=f(),I=x(k);let $;const F=async()=>(!$&&O in S?$=typeof S[O]=="function"?$=await S[O]():$=S[O]:a!==null&&!$&&"web"in S&&($=typeof S.web=="function"?$=await S.web():$=S.web),$),E=(j,M)=>{var U,V;if(I){const z=I==null?void 0:I.methods.find(B=>M===B.name);if(z)return z.rtype==="promise"?B=>l.nativePromise(k,M.toString(),B):(B,q)=>l.nativeCallback(k,M.toString(),B,q);if(j)return(U=j[M])===null||U===void 0?void 0:U.bind(j)}else{if(j)return(V=j[M])===null||V===void 0?void 0:V.bind(j);throw new ip(`"${k}" plugin is not implemented on ${O}`,hl.Unimplemented)}},L=j=>{let M;const U=(...V)=>{const z=F().then(B=>{const q=E(B,j);if(q){const W=q(...V);return M=W==null?void 0:W.remove,W}else throw new ip(`"${k}.${j}()" is not implemented on ${O}`,hl.Unimplemented)});return j==="addListener"&&(z.remove=async()=>M()),z};return U.toString=()=>`${j.toString()}() { [capacitor code] }`,Object.defineProperty(U,"name",{value:j,writable:!1,configurable:!1}),U},A=L("addListener"),P=L("removeListener"),R=(j,M)=>{const U=A({eventName:j},M),V=async()=>{const B=await U;P({eventName:j,callbackId:B},M)},z=new Promise(B=>U.then(()=>B({remove:V})));return z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},z},T=new Proxy({},{get(j,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?R:A;case"removeListener":return P;default:return L(M)}}});return c[k]=T,_.set(k,{name:k,proxy:T,platforms:new Set([...Object.keys(S),...I?[O]:[]])}),T},D=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||w;return l.convertFileSrc||(l.convertFileSrc=k=>k),l.getPlatform=f,l.handleError=b,l.isNativePlatform=m,l.isPluginAvailable=g,l.pluginMethodNoop=C,l.registerPlugin=D,l.Exception=ip,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},TO=e=>e.Capacitor=NO(e),Wi=TO(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),a0=Wi.registerPlugin;Wi.Plugins;class q_{constructor(t){this.listeners={},this.retainedEventArguments={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Wi.Exception(t,hl.Unimplemented)}unavailable(t="not available"){return new Wi.Exception(t,hl.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const wb=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),xb=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class AO extends q_{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=xb(s).trim(),i=xb(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=wb(t.key),r=wb(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}a0("CapacitorCookies",{web:()=>new AO});const MO=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),RO=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=e[t[a]],s),{})},IO=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,a]=s;let l,c;return Array.isArray(a)?(c="",a.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(a):a,c=`${i}=${l}`),`${r}&${c}`},"").substr(1):null,OO=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=RO(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,l]of Object.entries(e.data||{}))i.set(a,l);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class FO extends q_{async request(t){const n=OO(t,t.webFetchExtra),r=IO(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),a=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};a.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await MO(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((f,h)=>{u[h]=f}),{data:c,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}a0("CapacitorHttp",{web:()=>new FO});const LO=1,$O=1e6;let ap=0;function UO(){return ap=(ap+1)%Number.MAX_SAFE_INTEGER,ap.toString()}const op=new Map,bb=e=>{if(op.has(e))return;const t=setTimeout(()=>{op.delete(e),Mc({type:"REMOVE_TOAST",toastId:e})},$O);op.set(e,t)},BO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,LO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?bb(n):e.toasts.forEach(r=>{bb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},lf=[];let cf={toasts:[]};function Mc(e){cf=BO(cf,e),lf.forEach(t=>{t(cf)})}function VO({...e}){const t=UO(),n=s=>Mc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Mc({type:"DISMISS_TOAST",toastId:t});return Mc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function un(){const[e,t]=p.useState(cf);return p.useEffect(()=>(lf.push(t),()=>{const n=lf.indexOf(t);n>-1&&lf.splice(n,1)}),[e]),{...e,toast:VO,dismiss:n=>Mc({type:"DISMISS_TOAST",toastId:n})}}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function zO(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Oh(...e){return t=>e.forEach(n=>zO(n,t))}function Qe(...e){return p.useCallback(Oh(...e),e)}function WO(e,t=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,HO(s,...t)]}function HO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var qs=p.forwardRef((e,t)=>{const{children:n,...r}=e,s=p.Children.toArray(n),i=s.find(qO);if(i){const a=i.props.children,l=s.map(c=>c===i?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:c);return o.jsx(Qg,{...r,ref:t,children:p.isValidElement(a)?p.cloneElement(a,void 0,l):null})}return o.jsx(Qg,{...r,ref:t,children:n})});qs.displayName="Slot";var Qg=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const s=YO(n);return p.cloneElement(n,{...KO(r,n.props),ref:t?Oh(t,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});Qg.displayName="SlotClone";var o0=({children:e})=>o.jsx(o.Fragment,{children:e});function qO(e){return p.isValidElement(e)&&e.type===o0}function KO(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function YO(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fh(e){const t=e+"CollectionProvider",[n,r]=WO(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:v,children:g}=m,y=K.useRef(null),x=K.useRef(new Map).current;return o.jsx(s,{scope:v,itemMap:x,collectionRef:y,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=K.forwardRef((m,v)=>{const{scope:g,children:y}=m,x=i(l,g),b=Qe(v,x.collectionRef);return o.jsx(qs,{ref:b,children:y})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=K.forwardRef((m,v)=>{const{scope:g,children:y,...x}=m,b=K.useRef(null),C=Qe(v,b),_=i(d,g);return K.useEffect(()=>(_.itemMap.set(b,{ref:b,...x}),()=>void _.itemMap.delete(b))),o.jsx(qs,{[u]:"",ref:C,children:y})});f.displayName=d;function h(m){const v=i(e+"CollectionConsumer",m);return K.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((_,w)=>x.indexOf(_.ref.current)-x.indexOf(w.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}function GO(e,t){const n=p.createContext(t),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Tr(e,t=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const d=f=>{var x;const{scope:h,children:m,...v}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})};d.displayName=i+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,QO(s,...t)]}function QO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var XO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=XO.reduce((e,t)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?qs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l0(e,t){e&&eo.flushSync(()=>e.dispatchEvent(t))}function ln(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function JO(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ZO="DismissableLayer",Xg="dismissableLayer.update",e4="dismissableLayer.pointerDownOutside",t4="dismissableLayer.focusOutside",Cb,K_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),to=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,d=p.useContext(K_),[u,f]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),v=Qe(t,k=>f(k)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),b=u?g.indexOf(u):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,w=r4(k=>{const S=k.target,N=[...d.branches].some(O=>O.contains(S));!_||N||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},h),D=s4(k=>{const S=k.target;[...d.branches].some(O=>O.contains(S))||(i==null||i(k),a==null||a(k),k.defaultPrevented||l==null||l())},h);return JO(k=>{b===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Cb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Sb(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Cb)}},[u,h,n,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Sb())},[u,d]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(Xg,k),()=>document.removeEventListener(Xg,k)},[]),o.jsx(Ne.div,{...c,ref:v,style:{pointerEvents:C?_?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,w.onPointerDownCapture)})});to.displayName=ZO;var n4="DismissableLayerBranch",Y_=p.forwardRef((e,t)=>{const n=p.useContext(K_),r=p.useRef(null),s=Qe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ne.div,{...e,ref:s})});Y_.displayName=n4;function r4(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){G_(e4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s4(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&G_(t4,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Sb(){const e=new CustomEvent(Xg);document.dispatchEvent(e)}function G_(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?l0(s,i):s.dispatchEvent(i)}var i4=to,a4=Y_,cn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},o4="Portal",Il=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=p.useState(!1);cn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?V_.createPortal(o.jsx(Ne.div,{...r,ref:t}),a):null});Il.displayName=o4;function l4(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var rr=e=>{const{present:t,children:n}=e,r=c4(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Qe(r.ref,u4(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};rr.displayName="Presence";function c4(e){const[t,n]=p.useState(),r=p.useRef({}),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=l4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Cd(r.current);i.current=l==="mounted"?d:"none"},[l]),cn(()=>{const d=r.current,u=s.current;if(u!==e){const h=i.current,m=Cd(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),cn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=m=>{const g=Cd(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=Cd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Cd(e){return(e==null?void 0:e.animationName)||"none"}function u4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=d4({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=ln(n),c=p.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[i,e,s,l]);return[a,c]}function d4({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,s=p.useRef(r),i=ln(t);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var f4="VisuallyHidden",Ou=p.forwardRef((e,t)=>o.jsx(Ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ou.displayName=f4;var h4=Ou,c0="ToastProvider",[u0,m4,p4]=Fh("Toast"),[Q_,BX]=Tr("Toast",[p4]),[g4,Lh]=Q_(c0),X_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=p.useState(null),[d,u]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${c0}\`. Expected non-empty \`string\`.`),o.jsx(u0.Provider,{scope:t,children:o.jsx(g4,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(m=>m+1),[]),onToastRemove:p.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};X_.displayName=c0;var J_="ToastViewport",v4=["F8"],Jg="toast.viewportPause",Zg="toast.viewportResume",Z_=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=v4,label:s="Notifications ({hotkey})",...i}=e,a=Lh(J_,n),l=m4(n),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),f=p.useRef(null),h=Qe(t,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;p.useEffect(()=>{const y=x=>{var C;r.length!==0&&r.every(_=>x[_]||x.code===_)&&((C=f.current)==null||C.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),p.useEffect(()=>{const y=c.current,x=f.current;if(v&&y&&x){const b=()=>{if(!a.isClosePausedRef.current){const D=new CustomEvent(Jg);x.dispatchEvent(D),a.isClosePausedRef.current=!0}},C=()=>{if(a.isClosePausedRef.current){const D=new CustomEvent(Zg);x.dispatchEvent(D),a.isClosePausedRef.current=!1}},_=D=>{!y.contains(D.relatedTarget)&&C()},w=()=>{y.contains(document.activeElement)||C()};return y.addEventListener("focusin",b),y.addEventListener("focusout",_),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",C),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",C)}}},[v,a.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:y})=>{const b=l().map(C=>{const _=C.ref.current,w=[_,...N4(_)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const y=f.current;if(y){const x=b=>{var w,D,k;const C=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!C){const S=document.activeElement,N=b.shiftKey;if(b.target===y&&N){(w=d.current)==null||w.focus();return}const $=g({tabbingDirection:N?"backwards":"forwards"}),F=$.findIndex(E=>E===S);lp($.slice(F+1))?b.preventDefault():N?(D=d.current)==null||D.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),o.jsxs(a4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(ev,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});lp(y)}}),o.jsx(u0.Slot,{scope:n,children:o.jsx(Ne.ol,{tabIndex:-1,...i,ref:h})}),v&&o.jsx(ev,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});lp(y)}})]})});Z_.displayName=J_;var ek="ToastFocusProxy",ev=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Lh(ek,n);return o.jsx(Ou,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});ev.displayName=ek;var $h="Toast",y4="toast.swipeStart",w4="toast.swipeMove",x4="toast.swipeCancel",b4="toast.swipeEnd",tk=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=Cs({prop:r,defaultProp:s,onChange:i});return o.jsx(rr,{present:n||l,children:o.jsx(j4,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:ln(e.onPause),onResume:ln(e.onResume),onSwipeStart:ve(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tk.displayName=$h;var[C4,S4]=Q_($h,{onClose(){}}),j4=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,g=Lh($h,n),[y,x]=p.useState(null),b=Qe(t,E=>x(E)),C=p.useRef(null),_=p.useRef(null),w=s||g.duration,D=p.useRef(0),k=p.useRef(w),S=p.useRef(0),{onToastAdd:N,onToastRemove:O}=g,I=ln(()=>{var L;(y==null?void 0:y.contains(document.activeElement))&&((L=g.viewport)==null||L.focus()),a()}),$=p.useCallback(E=>{!E||E===1/0||(window.clearTimeout(S.current),D.current=new Date().getTime(),S.current=window.setTimeout(I,E))},[I]);p.useEffect(()=>{const E=g.viewport;if(E){const L=()=>{$(k.current),d==null||d()},A=()=>{const P=new Date().getTime()-D.current;k.current=k.current-P,window.clearTimeout(S.current),c==null||c()};return E.addEventListener(Jg,A),E.addEventListener(Zg,L),()=>{E.removeEventListener(Jg,A),E.removeEventListener(Zg,L)}}},[g.viewport,w,c,d,$]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&$(w)},[i,w,g.isClosePausedRef,$]),p.useEffect(()=>(N(),()=>O()),[N,O]);const F=p.useMemo(()=>y?lk(y):null,[y]);return g.viewport?o.jsxs(o.Fragment,{children:[F&&o.jsx(_4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),o.jsx(C4,{scope:n,onClose:I,children:eo.createPortal(o.jsx(u0.ItemSlot,{scope:n,children:o.jsx(i4,{asChild:!0,onEscapeKeyDown:ve(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ve(e.onPointerDown,E=>{E.button===0&&(C.current={x:E.clientX,y:E.clientY})}),onPointerMove:ve(e.onPointerMove,E=>{if(!C.current)return;const L=E.clientX-C.current.x,A=E.clientY-C.current.y,P=!!_.current,R=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,j=R?T(0,L):0,M=R?0:T(0,A),U=E.pointerType==="touch"?10:2,V={x:j,y:M},z={originalEvent:E,delta:V};P?(_.current=V,Sd(w4,f,z,{discrete:!1})):jb(V,g.swipeDirection,U)?(_.current=V,Sd(y4,u,z,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(L)>U||Math.abs(A)>U)&&(C.current=null)}),onPointerUp:ve(e.onPointerUp,E=>{const L=_.current,A=E.target;if(A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),_.current=null,C.current=null,L){const P=E.currentTarget,R={originalEvent:E,delta:L};jb(L,g.swipeDirection,g.swipeThreshold)?Sd(b4,m,R,{discrete:!0}):Sd(x4,h,R,{discrete:!0}),P.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),_4=e=>{const{__scopeToast:t,children:n,...r}=e,s=Lh($h,t),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return D4(()=>a(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(Il,{asChild:!0,children:o.jsx(Ou,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},k4="ToastTitle",nk=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(Ne.div,{...r,ref:t})});nk.displayName=k4;var P4="ToastDescription",rk=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(Ne.div,{...r,ref:t})});rk.displayName=P4;var sk="ToastAction",ik=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(ok,{altText:n,asChild:!0,children:o.jsx(d0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sk}\`. Expected non-empty \`string\`.`),null)});ik.displayName=sk;var ak="ToastClose",d0=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=S4(ak,n);return o.jsx(ok,{asChild:!0,children:o.jsx(Ne.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,s.onClose)})})});d0.displayName=ak;var ok=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function lk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),E4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...lk(r))}}),t}function Sd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?l0(s,i):s.dispatchEvent(i)}var jb=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function D4(e=()=>{}){const t=ln(e);cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function E4(e){return e.nodeType===e.ELEMENT_NODE}function N4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var T4=X_,ck=Z_,uk=tk,dk=nk,fk=rk,hk=ik,mk=d0;function pk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=pk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gk(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=pk(e))&&(r&&(r+=" "),r+=t);return r}const _b=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kb=gk,Fu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const h=_b(u)||_b(f);return s[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...d,f,h]:d},[]);return kb(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...M4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vk("lucide",s),...l},[...a.map(([d,u])=>p.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(R4,{ref:i,iconNode:t,className:vk(`lucide-${A4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Oe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Oe("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Oe("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Oe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Oe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Oe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Oe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),p0="-",e5=e=>{const t=n5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(p0);return l[0]===""&&l.length!==1&&l.shift(),kk(l,t)||t5(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},kk=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?kk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(p0);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Eb=/^\[(.+)\]$/,t5=e=>{if(Eb.test(e)){const t=Eb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},n5=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return s5(Object.entries(e.classGroups),n).forEach(([i,a])=>{sv(a,r,i,t)}),r},sv=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Nb(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(r5(s)){sv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{sv(a,Nb(t,i),n,r)})})},Nb=(e,t)=>{let n=e;return t.split(p0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},r5=e=>e.isThemeGetter,s5=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,i5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Pk="!",a5=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(d===0){if(x===s&&(r||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(x==="/"){f=y;continue}}x==="["?d++:x==="]"&&d--}const h=c.length===0?l:l.substring(u),m=h.startsWith(Pk),v=m?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},o5=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},l5=e=>({cache:i5(e.cacheSize),parseClassName:a5(e),...e5(e)}),c5=/\s+/,u5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(c5);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(d);let v=!!m,g=r(v?h.substring(0,m):h);if(!g){if(!v){l=d+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=d+(l.length>0?" "+l:l);continue}v=!1}const y=o5(u).join(":"),x=f?y+Pk:y,b=x+g;if(i.includes(b))continue;i.push(b);const C=s(g,v);for(let _=0;_<C.length;++_){const w=C[_];i.push(x+w)}l=d+(l.length>0?" "+l:l)}return l};function d5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Dk(t))&&(r&&(r+=" "),r+=n);return r}const Dk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Dk(e[r]))&&(n&&(n+=" "),n+=t);return n};function f5(e,...t){let n,r,s,i=a;function a(c){const d=t.reduce((u,f)=>f(u),e());return n=l5(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=u5(c,n);return s(c,u),u}return function(){return i(d5.apply(null,arguments))}}const yt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ek=/^\[(?:([a-z-]+):)?(.+)\]$/i,h5=/^\d+\/\d+$/,m5=new Set(["px","full","screen"]),p5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,y5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ds=e=>Wo(e)||m5.has(e)||h5.test(e),ti=e=>Fl(e,"length",P5),Wo=e=>!!e&&!Number.isNaN(Number(e)),cp=e=>Fl(e,"number",Wo),lc=e=>!!e&&Number.isInteger(Number(e)),x5=e=>e.endsWith("%")&&Wo(e.slice(0,-1)),Be=e=>Ek.test(e),ni=e=>p5.test(e),b5=new Set(["length","size","percentage"]),C5=e=>Fl(e,b5,Nk),S5=e=>Fl(e,"position",Nk),j5=new Set(["image","url"]),_5=e=>Fl(e,j5,E5),k5=e=>Fl(e,"",D5),cc=()=>!0,Fl=(e,t,n)=>{const r=Ek.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},P5=e=>g5.test(e)&&!v5.test(e),Nk=()=>!1,D5=e=>y5.test(e),E5=e=>w5.test(e),N5=()=>{const e=yt("colors"),t=yt("spacing"),n=yt("blur"),r=yt("brightness"),s=yt("borderColor"),i=yt("borderRadius"),a=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),d=yt("grayscale"),u=yt("hueRotate"),f=yt("invert"),h=yt("gap"),m=yt("gradientColorStops"),v=yt("gradientColorStopPositions"),g=yt("inset"),y=yt("margin"),x=yt("opacity"),b=yt("padding"),C=yt("saturate"),_=yt("scale"),w=yt("sepia"),D=yt("skew"),k=yt("space"),S=yt("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Be,t],$=()=>[Be,t],F=()=>["",Ds,ti],E=()=>["auto",Wo,Be],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Be],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Wo,Be];return{cacheSize:500,separator:":",theme:{colors:[cc],spacing:[Ds,ti],blur:["none","",ni,Be],brightness:M(),borderColor:[e],borderRadius:["none","","full",ni,Be],borderSpacing:$(),borderWidth:F(),contrast:M(),grayscale:T(),hueRotate:M(),invert:T(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[x5,ti],inset:I(),margin:I(),opacity:M(),padding:$(),saturate:M(),scale:M(),sepia:T(),skew:M(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[ni]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Be]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lc,Be]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",lc,Be]}],"grid-cols":[{"grid-cols":[cc]}],"col-start-end":[{col:["auto",{span:["full",lc,Be]},Be]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[cc]}],"row-start-end":[{row:["auto",{span:[lc,Be]},Be]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,t]}],"min-w":[{"min-w":[Be,t,"min","max","fit"]}],"max-w":[{"max-w":[Be,t,"none","full","min","max","fit","prose",{screen:[ni]},ni]}],h:[{h:[Be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ni,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cp]}],"font-family":[{font:[cc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Wo,cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ds,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ds,ti]}],"underline-offset":[{"underline-offset":["auto",Ds,Be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),S5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",C5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ds,Be]}],"outline-w":[{outline:[Ds,ti]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ds,ti]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ni,k5]}],"shadow-color":[{shadow:[cc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ni,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[lc,Be]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ds,ti,cp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T5=f5(N5);function ge(...e){return T5(gk(e))}function cs(e,t=1e4){return Promise.race([e,new Promise((n,r)=>setTimeout(()=>r(new Error(`Operation timed out after ${t}ms`)),t))])}const A5=T4,Tk=p.forwardRef(({className:e,...t},n)=>o.jsx(ck,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Tk.displayName=ck.displayName;const M5=Fu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ak=p.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(uk,{ref:r,className:ge(M5({variant:t}),e),...n}));Ak.displayName=uk.displayName;const R5=p.forwardRef(({className:e,...t},n)=>o.jsx(hk,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));R5.displayName=hk.displayName;const Mk=p.forwardRef(({className:e,...t},n)=>o.jsx(mk,{ref:n,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(lu,{className:"h-4 w-4"})}));Mk.displayName=mk.displayName;const Rk=p.forwardRef(({className:e,...t},n)=>o.jsx(dk,{ref:n,className:ge("text-sm font-semibold",e),...t}));Rk.displayName=dk.displayName;const Ik=p.forwardRef(({className:e,...t},n)=>o.jsx(fk,{ref:n,className:ge("text-sm opacity-90",e),...t}));Ik.displayName=fk.displayName;function I5(){const{toasts:e}=un();return o.jsxs(A5,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(Ak,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(Rk,{children:n}),r&&o.jsx(Ik,{children:r})]}),s,o.jsx(Mk,{})]},t)}),o.jsx(Tk,{})]})}var Tb=["light","dark"],O5="(prefers-color-scheme: dark)",F5=p.createContext(void 0),L5={setTheme:e=>{},themes:[]},$5=()=>{var e;return(e=p.useContext(F5))!=null?e:L5};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Tb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,y=!0)=>{let x=a?a[v]:v,b=g?v+"|| ''":`'${x}'`,C="";return s&&y&&!g&&Tb.includes(v)&&(C+=`d.style.colorScheme = '${v}';`),n==="class"?g||x?C+=`c.add(${b})`:C+="null":x&&(C+=`d[s](n,${b})`),C},m=e?`!function(){${u}${h(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${O5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var U5=e=>{switch(e){case"success":return z5;case"info":return H5;case"warning":return W5;case"error":return q5;default:return null}},B5=Array(12).fill(0),V5=({visible:e})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},K.createElement("div",{className:"sonner-spinner"},B5.map((t,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),z5=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),W5=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H5=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),q5=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),K5=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},iv=1,Y5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:iv++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async i=>{if(Q5(i)&&!i.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async i=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||iv++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},ar=new Y5,G5=(e,t)=>{let n=(t==null?void 0:t.id)||iv++;return ar.addToast({title:e,...t,id:n}),n},Q5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",X5=G5,J5=()=>ar.toasts;Object.assign(X5,{success:ar.success,info:ar.info,warning:ar.warning,error:ar.error,custom:ar.custom,message:ar.message,promise:ar.promise,dismiss:ar.dismiss,loading:ar.loading},{getHistory:J5});function Z5(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Z5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jd(e){return e.label!==void 0}var eF=3,tF="32px",nF=4e3,rF=356,sF=14,iF=20,aF=200;function oF(...e){return e.filter(Boolean).join(" ")}var lF=e=>{var t,n,r,s,i,a,l,c,d,u;let{invert:f,toast:h,unstyled:m,interacting:v,setHeights:g,visibleToasts:y,heights:x,index:b,toasts:C,expanded:_,removeToast:w,defaultRichColors:D,closeButton:k,style:S,cancelButtonStyle:N,actionButtonStyle:O,className:I="",descriptionClassName:$="",duration:F,position:E,gap:L,loadingIcon:A,expandByDefault:P,classNames:R,icons:T,closeButtonAriaLabel:j="Close toast",pauseWhenPageIsHidden:M,cn:U}=e,[V,z]=K.useState(!1),[B,q]=K.useState(!1),[W,G]=K.useState(!1),[Z,H]=K.useState(!1),[Q,re]=K.useState(0),[ee,ce]=K.useState(0),X=K.useRef(null),ne=K.useRef(null),se=b===0,he=b+1<=y,ae=h.type,oe=h.dismissible!==!1,xe=h.className||"",Ce=h.descriptionClassName||"",Pe=K.useMemo(()=>x.findIndex(fe=>fe.toastId===h.id)||0,[x,h.id]),je=K.useMemo(()=>{var fe;return(fe=h.closeButton)!=null?fe:k},[h.closeButton,k]),$e=K.useMemo(()=>h.duration||F||nF,[h.duration,F]),Ze=K.useRef(0),lt=K.useRef(0),Ae=K.useRef(0),rt=K.useRef(null),[Fe,ot]=E.split("-"),ct=K.useMemo(()=>x.reduce((fe,_e,Y)=>Y>=Pe?fe:fe+_e.height,0),[x,Pe]),St=K5(),tt=h.invert||f,dn=ae==="loading";lt.current=K.useMemo(()=>Pe*L+ct,[Pe,ct]),K.useEffect(()=>{z(!0)},[]),K.useLayoutEffect(()=>{if(!V)return;let fe=ne.current,_e=fe.style.height;fe.style.height="auto";let Y=fe.getBoundingClientRect().height;fe.style.height=_e,ce(Y),g(te=>te.find(ue=>ue.toastId===h.id)?te.map(ue=>ue.toastId===h.id?{...ue,height:Y}:ue):[{toastId:h.id,height:Y,position:h.position},...te])},[V,h.title,h.description,g,h.id]);let Qt=K.useCallback(()=>{q(!0),re(lt.current),g(fe=>fe.filter(_e=>_e.toastId!==h.id)),setTimeout(()=>{w(h)},aF)},[h,w,g,lt]);K.useEffect(()=>{if(h.promise&&ae==="loading"||h.duration===1/0||h.type==="loading")return;let fe,_e=$e;return _||v||M&&St?(()=>{if(Ae.current<Ze.current){let Y=new Date().getTime()-Ze.current;_e=_e-Y}Ae.current=new Date().getTime()})():_e!==1/0&&(Ze.current=new Date().getTime(),fe=setTimeout(()=>{var Y;(Y=h.onAutoClose)==null||Y.call(h,h),Qt()},_e)),()=>clearTimeout(fe)},[_,v,P,h,$e,Qt,h.promise,ae,M,St]),K.useEffect(()=>{let fe=ne.current;if(fe){let _e=fe.getBoundingClientRect().height;return ce(_e),g(Y=>[{toastId:h.id,height:_e,position:h.position},...Y]),()=>g(Y=>Y.filter(te=>te.toastId!==h.id))}},[g,h.id]),K.useEffect(()=>{h.delete&&Qt()},[Qt,h.delete]);function Ar(){return T!=null&&T.loading?K.createElement("div",{className:"sonner-loader","data-visible":ae==="loading"},T.loading):A?K.createElement("div",{className:"sonner-loader","data-visible":ae==="loading"},A):K.createElement(V5,{visible:ae==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ne,className:U(I,xe,R==null?void 0:R.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[ae],(n=h==null?void 0:h.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:D,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":V,"data-promise":!!h.promise,"data-removed":B,"data-visible":he,"data-y-position":Fe,"data-x-position":ot,"data-index":b,"data-front":se,"data-swiping":W,"data-dismissible":oe,"data-type":ae,"data-invert":tt,"data-swipe-out":Z,"data-expanded":!!(_||P&&V),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${B?Q:lt.current}px`,"--initial-height":P?"auto":`${ee}px`,...S,...h.style},onPointerDown:fe=>{dn||!oe||(X.current=new Date,re(lt.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(G(!0),rt.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,_e,Y,te;if(Z||!oe)return;rt.current=null;let ue=Number(((fe=ne.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ye=new Date().getTime()-((_e=X.current)==null?void 0:_e.getTime()),pe=Math.abs(ue)/ye;if(Math.abs(ue)>=iF||pe>.11){re(lt.current),(Y=h.onDismiss)==null||Y.call(h,h),Qt(),H(!0);return}(te=ne.current)==null||te.style.setProperty("--swipe-amount","0px"),G(!1)},onPointerMove:fe=>{var _e;if(!rt.current||!oe)return;let Y=fe.clientY-rt.current.y,te=fe.clientX-rt.current.x,ue=(Fe==="top"?Math.min:Math.max)(0,Y),ye=fe.pointerType==="touch"?10:2;Math.abs(ue)>ye?(_e=ne.current)==null||_e.style.setProperty("--swipe-amount",`${Y}px`):Math.abs(te)>ye&&(rt.current=null)}},je&&!h.jsx?K.createElement("button",{"aria-label":j,"data-disabled":dn,"data-close-button":!0,onClick:dn||!oe?()=>{}:()=>{var fe;Qt(),(fe=h.onDismiss)==null||fe.call(h,h)},className:U(R==null?void 0:R.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,ae||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:U(R==null?void 0:R.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ar():null,h.type!=="loading"?h.icon||(T==null?void 0:T[ae])||U5(ae):null):null,K.createElement("div",{"data-content":"",className:U(R==null?void 0:R.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:U(R==null?void 0:R.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:U($,Ce,R==null?void 0:R.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&jd(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:fe=>{var _e,Y;jd(h.cancel)&&oe&&((Y=(_e=h.cancel).onClick)==null||Y.call(_e,fe),Qt())},className:U(R==null?void 0:R.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&jd(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:fe=>{var _e,Y;jd(h.action)&&(fe.defaultPrevented||((Y=(_e=h.action).onClick)==null||Y.call(_e,fe),Qt()))},className:U(R==null?void 0:R.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function Ab(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var cF=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:h=eF,toastOptions:m,dir:v=Ab(),gap:g=sF,loadingIcon:y,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:C,cn:_=oF}=e,[w,D]=K.useState([]),k=K.useMemo(()=>Array.from(new Set([n].concat(w.filter(M=>M.position).map(M=>M.position)))),[w,n]),[S,N]=K.useState([]),[O,I]=K.useState(!1),[$,F]=K.useState(!1),[E,L]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=K.useRef(null),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=K.useRef(null),T=K.useRef(!1),j=K.useCallback(M=>{var U;(U=w.find(V=>V.id===M.id))!=null&&U.delete||ar.dismiss(M.id),D(V=>V.filter(({id:z})=>z!==M.id))},[w]);return K.useEffect(()=>ar.subscribe(M=>{if(M.dismiss){D(U=>U.map(V=>V.id===M.id?{...V,delete:!0}:V));return}setTimeout(()=>{V_.flushSync(()=>{D(U=>{let V=U.findIndex(z=>z.id===M.id);return V!==-1?[...U.slice(0,V),{...U[V],...M},...U.slice(V+1)]:[M,...U]})})})}),[]),K.useEffect(()=>{if(c!=="system"){L(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:M})=>{L(M?"dark":"light")})},[c]),K.useEffect(()=>{w.length<=1&&I(!1)},[w]),K.useEffect(()=>{let M=U=>{var V,z;r.every(B=>U[B]||U.code===B)&&(I(!0),(V=A.current)==null||V.focus()),U.code==="Escape"&&(document.activeElement===A.current||(z=A.current)!=null&&z.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[r]),K.useEffect(()=>{if(A.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,T.current=!1)}},[A.current]),w.length?K.createElement("section",{"aria-label":`${b} ${P}`,tabIndex:-1},k.map((M,U)=>{var V;let[z,B]=M.split("-");return K.createElement("ol",{key:M,dir:v==="auto"?Ab():v,tabIndex:-1,ref:A,className:a,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":z,"data-x-position":B,style:{"--front-toast-height":`${((V=S[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||tF,"--width":`${rF}px`,"--gap":`${g}px`,...f},onBlur:q=>{T.current&&!q.currentTarget.contains(q.relatedTarget)&&(T.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||T.current||(T.current=!0,R.current=q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{$||I(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},w.filter(q=>!q.position&&U===0||q.position===M).map((q,W)=>{var G,Z;return K.createElement(lF,{key:q.id,icons:x,index:W,toast:q,defaultRichColors:d,duration:(G=m==null?void 0:m.duration)!=null?G:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:i,interacting:$,position:M,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:j,toasts:w.filter(H=>H.position==q.position),heights:S.filter(H=>H.position==q.position),setHeights:N,expandByDefault:s,gap:g,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:C,cn:_})}))})):null};const uF=({...e})=>{const{theme:t="system"}=$5();return o.jsx(cF,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var dF=$S.useId||(()=>{}),fF=0;function _r(e){const[t,n]=p.useState(dF());return cn(()=>{n(r=>r??String(fF++))},[e]),t?`radix-${t}`:""}const hF=["top","right","bottom","left"],Hi=Math.min,lr=Math.max,Kf=Math.round,_d=Math.floor,qi=e=>({x:e,y:e}),mF={left:"right",right:"left",bottom:"top",top:"bottom"},pF={start:"end",end:"start"};function av(e,t,n){return lr(e,Hi(t,n))}function Ks(e,t){return typeof e=="function"?e(t):e}function Ys(e){return e.split("-")[0]}function Ll(e){return e.split("-")[1]}function g0(e){return e==="x"?"y":"x"}function v0(e){return e==="y"?"height":"width"}function Ki(e){return["top","bottom"].includes(Ys(e))?"y":"x"}function y0(e){return g0(Ki(e))}function gF(e,t,n){n===void 0&&(n=!1);const r=Ll(e),s=y0(e),i=v0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Yf(a)),[a,Yf(a)]}function vF(e){const t=Yf(e);return[ov(e),t,ov(t)]}function ov(e){return e.replace(/start|end/g,t=>pF[t])}function yF(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function wF(e,t,n,r){const s=Ll(e);let i=yF(Ys(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(ov)))),i}function Yf(e){return e.replace(/left|right|bottom|top/g,t=>mF[t])}function xF(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ok(e){return typeof e!="number"?xF(e):{top:e,right:e,bottom:e,left:e}}function Gf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Mb(e,t,n){let{reference:r,floating:s}=e;const i=Ki(t),a=y0(t),l=v0(a),c=Ys(t),d=i==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ll(t)){case"start":m[a]-=h*(n&&d?-1:1);break;case"end":m[a]+=h*(n&&d?-1:1);break}return m}const bF=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=Mb(d,r,c),h=r,m={},v=0;for(let g=0;g<l.length;g++){const{name:y,fn:x}=l[g],{x:b,y:C,data:_,reset:w}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:d,platform:a,elements:{reference:e,floating:t}});u=b??u,f=C??f,m={...m,[y]:{...m[y],..._}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:f}=Mb(d,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function cu(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ks(t,e),v=Ok(m),y=l[h?f==="floating"?"reference":"floating":f],x=Gf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},w=Gf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:C,strategy:c}):b);return{top:(x.top-w.top+v.top)/_.y,bottom:(w.bottom-x.bottom+v.bottom)/_.y,left:(x.left-w.left+v.left)/_.x,right:(w.right-x.right+v.right)/_.x}}const CF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ks(e,t)||{};if(d==null)return{};const f=Ok(u),h={x:n,y:r},m=y0(s),v=v0(m),g=await a.getDimensions(d),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",C=y?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-h[m]-i.floating[v],w=h[m]-i.reference[m],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let k=D?D[C]:0;(!k||!await(a.isElement==null?void 0:a.isElement(D)))&&(k=l.floating[C]||i.floating[v]);const S=_/2-w/2,N=k/2-g[v]/2-1,O=Hi(f[x],N),I=Hi(f[b],N),$=O,F=k-g[v]-I,E=k/2-g[v]/2+S,L=av($,E,F),A=!c.arrow&&Ll(s)!=null&&E!==L&&i.reference[v]/2-(E<$?O:I)-g[v]/2<0,P=A?E<$?E-$:E-F:0;return{[m]:h[m]+P,data:{[m]:L,centerOffset:E-L-P,...A&&{alignmentOffset:P}},reset:A}}}),SF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Ks(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ys(s),b=Ki(l),C=Ys(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(C||!g?[Yf(l)]:vF(l)),D=v!=="none";!h&&D&&w.push(...wF(l,g,v,_));const k=[l,...w],S=await cu(t,y),N=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&N.push(S[x]),f){const E=gF(s,a,_);N.push(S[E[0]],S[E[1]])}if(O=[...O,{placement:s,overflows:N}],!N.every(E=>E<=0)){var I,$;const E=(((I=i.flip)==null?void 0:I.index)||0)+1,L=k[E];if(L)return{data:{index:E,overflows:O},reset:{placement:L}};let A=($=O.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:$.placement;if(!A)switch(m){case"bestFit":{var F;const P=(F=O.filter(R=>{if(D){const T=Ki(R.placement);return T===b||T==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(T=>T>0).reduce((T,j)=>T+j,0)]).sort((R,T)=>R[1]-T[1])[0])==null?void 0:F[0];P&&(A=P);break}case"initialPlacement":A=l;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function Rb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ib(e){return hF.some(t=>e[t]>=0)}const jF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ks(e,t);switch(r){case"referenceHidden":{const i=await cu(t,{...s,elementContext:"reference"}),a=Rb(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ib(a)}}}case"escaped":{const i=await cu(t,{...s,altBoundary:!0}),a=Rb(i,n.floating);return{data:{escapedOffsets:a,escaped:Ib(a)}}}default:return{}}}}};async function _F(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ys(n),l=Ll(n),c=Ki(n)==="y",d=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,f=Ks(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const kF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await _F(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},PF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Ks(e,t),d={x:n,y:r},u=await cu(t,c),f=Ki(Ys(s)),h=g0(f);let m=d[h],v=d[f];if(i){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+u[y],C=m-u[x];m=av(b,m,C)}if(a){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+u[y],C=v-u[x];v=av(b,v,C)}const g=l.fn({...t,[h]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:a}}}}}},DF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ks(e,t),u={x:n,y:r},f=Ki(s),h=g0(f);let m=u[h],v=u[f];const g=Ks(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const C=h==="y"?"height":"width",_=i.reference[h]-i.floating[C]+y.mainAxis,w=i.reference[h]+i.reference[C]-y.mainAxis;m<_?m=_:m>w&&(m=w)}if(d){var x,b;const C=h==="y"?"width":"height",_=["top","left"].includes(Ys(s)),w=i.reference[f]-i.floating[C]+(_&&((x=a.offset)==null?void 0:x[f])||0)+(_?0:y.crossAxis),D=i.reference[f]+i.reference[C]+(_?0:((b=a.offset)==null?void 0:b[f])||0)-(_?y.crossAxis:0);v<w?v=w:v>D&&(v=D)}return{[h]:m,[f]:v}}}},EF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...d}=Ks(e,t),u=await cu(t,d),f=Ys(s),h=Ll(s),m=Ki(s)==="y",{width:v,height:g}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=g-u.top-u.bottom,C=v-u.left-u.right,_=Hi(g-u[y],b),w=Hi(v-u[x],C),D=!t.middlewareData.shift;let k=_,S=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),D&&!h){const O=lr(u.left,0),I=lr(u.right,0),$=lr(u.top,0),F=lr(u.bottom,0);m?S=v-2*(O!==0||I!==0?O+I:lr(u.left,u.right)):k=g-2*($!==0||F!==0?$+F:lr(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:k});const N=await a.getDimensions(l.floating);return v!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function $l(e){return Fk(e)?(e.nodeName||"").toLowerCase():"#document"}function hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(Fk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fk(e){return Bh()?e instanceof Node||e instanceof hr(e).Node:!1}function Gr(e){return Bh()?e instanceof Element||e instanceof hr(e).Element:!1}function Ss(e){return Bh()?e instanceof HTMLElement||e instanceof hr(e).HTMLElement:!1}function Ob(e){return!Bh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hr(e).ShadowRoot}function $u(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function NF(e){return["table","td","th"].includes($l(e))}function Vh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function w0(e){const t=x0(),n=Gr(e)?Qr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function TF(e){let t=Yi(e);for(;Ss(t)&&!ml(t);){if(w0(t))return t;if(Vh(t))return null;t=Yi(t)}return null}function x0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ml(e){return["html","body","#document"].includes($l(e))}function Qr(e){return hr(e).getComputedStyle(e)}function zh(e){return Gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yi(e){if($l(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ob(e)&&e.host||_s(e);return Ob(t)?t.host:t}function Lk(e){const t=Yi(e);return ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ss(t)&&$u(t)?t:Lk(t)}function uu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Lk(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=hr(s);if(i){const l=lv(a);return t.concat(a,a.visualViewport||[],$u(s)?s:[],l&&n?uu(l):[])}return t.concat(s,uu(s,[],n))}function lv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $k(e){const t=Qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ss(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Kf(n)!==i||Kf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function b0(e){return Gr(e)?e:e.contextElement}function Ho(e){const t=b0(e);if(!Ss(t))return qi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=$k(t);let a=(i?Kf(n.width):n.width)/r,l=(i?Kf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const AF=qi(0);function Uk(e){const t=hr(e);return!x0()||!t.visualViewport?AF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==hr(e)?!1:t}function Ya(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=b0(e);let a=qi(1);t&&(r?Gr(r)&&(a=Ho(r)):a=Ho(e));const l=MF(i,n,r)?Uk(i):qi(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,u=s.width/a.x,f=s.height/a.y;if(i){const h=hr(i),m=r&&Gr(r)?hr(r):r;let v=h,g=lv(v);for(;g&&r&&m!==v;){const y=Ho(g),x=g.getBoundingClientRect(),b=Qr(g),C=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,_=x.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=C,d+=_,v=hr(g),g=lv(v)}}return Gf({width:u,height:f,x:c,y:d})}function RF(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=_s(r),l=t?Vh(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=qi(1);const u=qi(0),f=Ss(r);if((f||!f&&!i)&&(($l(r)!=="body"||$u(a))&&(c=zh(r)),Ss(r))){const h=Ya(r);d=Ho(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function IF(e){return Array.from(e.getClientRects())}function cv(e,t){const n=zh(e).scrollLeft;return t?t.left+n:Ya(_s(e)).left+n}function OF(e){const t=_s(e),n=zh(e),r=e.ownerDocument.body,s=lr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=lr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+cv(e);const l=-n.scrollTop;return Qr(r).direction==="rtl"&&(a+=lr(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function FF(e,t){const n=hr(e),r=_s(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const d=x0();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function LF(e,t){const n=Ya(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ss(e)?Ho(e):qi(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:a,height:l,x:c,y:d}}function Fb(e,t,n){let r;if(t==="viewport")r=FF(e,n);else if(t==="document")r=OF(_s(e));else if(Gr(t))r=LF(t,n);else{const s=Uk(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Gf(r)}function Bk(e,t){const n=Yi(e);return n===t||!Gr(n)||ml(n)?!1:Qr(n).position==="fixed"||Bk(n,t)}function $F(e,t){const n=t.get(e);if(n)return n;let r=uu(e,[],!1).filter(l=>Gr(l)&&$l(l)!=="body"),s=null;const i=Qr(e).position==="fixed";let a=i?Yi(e):e;for(;Gr(a)&&!ml(a);){const l=Qr(a),c=w0(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$u(a)&&!c&&Bk(e,a))?r=r.filter(u=>u!==a):s=l,a=Yi(a)}return t.set(e,r),r}function UF(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Vh(t)?[]:$F(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,u)=>{const f=Fb(t,u,s);return d.top=lr(f.top,d.top),d.right=Hi(f.right,d.right),d.bottom=Hi(f.bottom,d.bottom),d.left=lr(f.left,d.left),d},Fb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BF(e){const{width:t,height:n}=$k(e);return{width:t,height:n}}function VF(e,t,n){const r=Ss(t),s=_s(t),i=n==="fixed",a=Ya(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=qi(0);if(r||!r&&!i)if(($l(t)!=="body"||$u(s))&&(l=zh(t)),r){const m=Ya(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=cv(s));let d=0,u=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();u=m.top+l.scrollTop,d=m.left+l.scrollLeft-cv(s,m)}const f=a.left+l.scrollLeft-c.x-d,h=a.top+l.scrollTop-c.y-u;return{x:f,y:h,width:a.width,height:a.height}}function up(e){return Qr(e).position==="static"}function Lb(e,t){if(!Ss(e)||Qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _s(e)===n&&(n=n.ownerDocument.body),n}function Vk(e,t){const n=hr(e);if(Vh(e))return n;if(!Ss(e)){let s=Yi(e);for(;s&&!ml(s);){if(Gr(s)&&!up(s))return s;s=Yi(s)}return n}let r=Lb(e,t);for(;r&&NF(r)&&up(r);)r=Lb(r,t);return r&&ml(r)&&up(r)&&!w0(r)?n:r||TF(e)||n}const zF=async function(e){const t=this.getOffsetParent||Vk,n=this.getDimensions,r=await n(e.floating);return{reference:VF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WF(e){return Qr(e).direction==="rtl"}const HF={convertOffsetParentRelativeRectToViewportRelativeRect:RF,getDocumentElement:_s,getClippingRect:UF,getOffsetParent:Vk,getElementRects:zF,getClientRects:IF,getDimensions:BF,getScale:Ho,isElement:Gr,isRTL:WF};function qF(e,t){let n=null,r;const s=_s(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=_d(u),v=_d(s.clientWidth-(d+f)),g=_d(s.clientHeight-(u+h)),y=_d(d),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:lr(0,Hi(1,c))||1};let C=!0;function _(w){const D=w[0].intersectionRatio;if(D!==c){if(!C)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),i}function KF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=b0(e),u=s||i?[...d?uu(d):[],...uu(t)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?qF(d,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(t)})),n()}),d&&!c&&m.observe(d),m.observe(t));let v,g=c?Ya(e):null;c&&y();function y(){const x=Ya(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{var x;u.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const YF=kF,GF=PF,QF=SF,XF=EF,JF=jF,$b=CF,ZF=DF,eL=(e,t,n)=>{const r=new Map,s={platform:HF,...n},i={...s.platform,_c:r};return bF(e,t,{...s,platform:i})};var df=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Qf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Qf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function zk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ub(e,t){const n=zk(e);return Math.round(t*n)/n}function dp(e){const t=p.useRef(e);return df(()=>{t.current=e}),t}function tL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Qf(h,r)||m(r);const[v,g]=p.useState(null),[y,x]=p.useState(null),b=p.useCallback(R=>{R!==D.current&&(D.current=R,g(R))},[]),C=p.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[]),_=i||v,w=a||y,D=p.useRef(null),k=p.useRef(null),S=p.useRef(u),N=c!=null,O=dp(c),I=dp(s),$=dp(d),F=p.useCallback(()=>{if(!D.current||!k.current)return;const R={placement:t,strategy:n,middleware:h};I.current&&(R.platform=I.current),eL(D.current,k.current,R).then(T=>{const j={...T,isPositioned:$.current!==!1};E.current&&!Qf(S.current,j)&&(S.current=j,eo.flushSync(()=>{f(j)}))})},[h,t,n,I,$]);df(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[d]);const E=p.useRef(!1);df(()=>(E.current=!0,()=>{E.current=!1}),[]),df(()=>{if(_&&(D.current=_),w&&(k.current=w),_&&w){if(O.current)return O.current(_,w,F);F()}},[_,w,F,O,N]);const L=p.useMemo(()=>({reference:D,floating:k,setReference:b,setFloating:C}),[b,C]),A=p.useMemo(()=>({reference:_,floating:w}),[_,w]),P=p.useMemo(()=>{const R={position:n,left:0,top:0};if(!A.floating)return R;const T=Ub(A.floating,u.x),j=Ub(A.floating,u.y);return l?{...R,transform:"translate("+T+"px, "+j+"px)",...zk(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:j}},[n,l,A.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:F,refs:L,elements:A,floatingStyles:P}),[u,F,L,A,P])}const nL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$b({element:r.current,padding:s}).fn(n):{}:r?$b({element:r,padding:s}).fn(n):{}}}},rL=(e,t)=>({...YF(e),options:[e,t]}),sL=(e,t)=>({...GF(e),options:[e,t]}),iL=(e,t)=>({...ZF(e),options:[e,t]}),aL=(e,t)=>({...QF(e),options:[e,t]}),oL=(e,t)=>({...XF(e),options:[e,t]}),lL=(e,t)=>({...JF(e),options:[e,t]}),cL=(e,t)=>({...nL(e),options:[e,t]});var uL="Arrow",Wk=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(Ne.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wk.displayName=uL;var dL=Wk;function fL(e,t=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,hL(s,...t)]}function hL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Hk(e){const[t,n]=p.useState(void 0);return cn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var C0="Popper",[qk,ta]=fL(C0),[mL,Kk]=qk(C0),Yk=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return o.jsx(mL,{scope:t,anchor:r,onAnchorChange:s,children:n})};Yk.displayName=C0;var Gk="PopperAnchor",Qk=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Kk(Gk,n),a=p.useRef(null),l=Qe(t,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ne.div,{...s,ref:l})});Qk.displayName=Gk;var S0="PopperContent",[pL,gL]=qk(S0),Xk=p.forwardRef((e,t)=>{var W,G,Z,H,Q,re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,y=Kk(S0,n),[x,b]=p.useState(null),C=Qe(t,ee=>b(ee)),[_,w]=p.useState(null),D=Hk(_),k=(D==null?void 0:D.width)??0,S=(D==null?void 0:D.height)??0,N=r+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],$=I.length>0,F={padding:O,boundary:I.filter(yL),altBoundary:$},{refs:E,floatingStyles:L,placement:A,isPositioned:P,middlewareData:R}=tL({strategy:"fixed",placement:N,whileElementsMounted:(...ee)=>KF(...ee,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[rL({mainAxis:s+S,alignmentAxis:a}),c&&sL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?iL():void 0,...F}),c&&aL({...F}),oL({...F,apply:({elements:ee,rects:ce,availableWidth:X,availableHeight:ne})=>{const{width:se,height:he}=ce.reference,ae=ee.floating.style;ae.setProperty("--radix-popper-available-width",`${X}px`),ae.setProperty("--radix-popper-available-height",`${ne}px`),ae.setProperty("--radix-popper-anchor-width",`${se}px`),ae.setProperty("--radix-popper-anchor-height",`${he}px`)}}),_&&cL({element:_,padding:l}),wL({arrowWidth:k,arrowHeight:S}),h&&lL({strategy:"referenceHidden",...F})]}),[T,j]=eP(A),M=ln(v);cn(()=>{P&&(M==null||M())},[P,M]);const U=(W=R.arrow)==null?void 0:W.x,V=(G=R.arrow)==null?void 0:G.y,z=((Z=R.arrow)==null?void 0:Z.centerOffset)!==0,[B,q]=p.useState();return cn(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:P?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(H=R.transformOrigin)==null?void 0:H.x,(Q=R.transformOrigin)==null?void 0:Q.y].join(" "),...((re=R.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(pL,{scope:n,placedSide:T,onArrowChange:w,arrowX:U,arrowY:V,shouldHideArrow:z,children:o.jsx(Ne.div,{"data-side":T,"data-align":j,...g,ref:C,style:{...g.style,animation:P?void 0:"none"}})})})});Xk.displayName=S0;var Jk="PopperArrow",vL={top:"bottom",right:"left",bottom:"top",left:"right"},Zk=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=gL(Jk,r),a=vL[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(dL,{...s,ref:n,style:{...s.style,display:"block"}})})});Zk.displayName=Jk;function yL(e){return e!==null}var wL=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:n,rects:r,middlewareData:s}=t,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[d,u]=eP(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",g="";return d==="bottom"?(v=a?f:`${h}px`,g=`${-c}px`):d==="top"?(v=a?f:`${h}px`,g=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,g=a?f:`${m}px`):d==="left"&&(v=`${r.floating.width+c}px`,g=a?f:`${m}px`),{data:{x:v,y:g}}}});function eP(e){const[t,n="center"]=e.split("-");return[t,n]}var Wh=Yk,Uu=Qk,Hh=Xk,qh=Zk,[Kh,VX]=Tr("Tooltip",[ta]),Yh=ta(),tP="TooltipProvider",xL=700,uv="tooltip.open",[bL,j0]=Kh(tP),nP=e=>{const{__scopeTooltip:t,delayDuration:n=xL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[a,l]=p.useState(!0),c=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),o.jsx(bL,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};nP.displayName=tP;var Gh="Tooltip",[CL,Qh]=Kh(Gh),rP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,c=j0(Gh,e.__scopeTooltip),d=Yh(t),[u,f]=p.useState(null),h=_r(),m=p.useRef(0),v=a??c.disableHoverableContent,g=l??c.delayDuration,y=p.useRef(!1),[x=!1,b]=Cs({prop:r,defaultProp:s,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(uv))):c.onClose(),i==null||i(k)}}),C=p.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),_=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,b(!0)},[b]),w=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),D=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,b(!0),m.current=0},g)},[g,b]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(Wh,{...d,children:o.jsx(CL,{scope:t,contentId:h,open:x,stateAttribute:C,trigger:u,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?D():_()},[c.isOpenDelayed,D,_]),onTriggerLeave:p.useCallback(()=>{v?w():(window.clearTimeout(m.current),m.current=0)},[w,v]),onOpen:_,onClose:w,disableHoverableContent:v,children:n})})};rP.displayName=Gh;var dv="TooltipTrigger",sP=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Qh(dv,n),i=j0(dv,n),a=Yh(n),l=p.useRef(null),c=Qe(t,l,s.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Uu,{asChild:!0,...a,children:o.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ve(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:ve(e.onBlur,s.onClose),onClick:ve(e.onClick,s.onClose)})})});sP.displayName=dv;var SL="TooltipPortal",[zX,jL]=Kh(SL,{forceMount:void 0}),pl="TooltipContent",iP=p.forwardRef((e,t)=>{const n=jL(pl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Qh(pl,e.__scopeTooltip);return o.jsx(rr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(aP,{side:s,...i,ref:t}):o.jsx(_L,{side:s,...i,ref:t})})}),_L=p.forwardRef((e,t)=>{const n=Qh(pl,e.__scopeTooltip),r=j0(pl,e.__scopeTooltip),s=p.useRef(null),i=Qe(t,s),[a,l]=p.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((v,g)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},b=EL(x,y.getBoundingClientRect()),C=NL(x,b),_=TL(g.getBoundingClientRect()),w=ML([...C,..._]);l(w),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&u){const v=y=>m(y,u),g=y=>m(y,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[c,u,m,h]),p.useEffect(()=>{if(a){const v=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),C=!AL(x,a);b?h():C&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,a,d,h]),o.jsx(aP,{...e,ref:i})}),[kL,PL]=Kh(Gh,{isInside:!1}),aP=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Qh(pl,n),d=Yh(n),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(uv,u),()=>document.removeEventListener(uv,u)),[u]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),o.jsx(to,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:o.jsxs(Hh,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(o0,{children:r}),o.jsx(kL,{scope:n,isInside:!0,children:o.jsx(h4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});iP.displayName=pl;var oP="TooltipArrow",DL=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Yh(n);return PL(oP,n).isInside?null:o.jsx(qh,{...s,...r,ref:t})});DL.displayName=oP;function EL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function NL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function TL(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function AL(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,d=t[a].x,u=t[a].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function ML(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),RL(t)}function RL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var IL=nP,OL=rP,FL=sP,lP=iP;const cP=IL,LL=OL,$L=FL,uP=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(lP,{ref:r,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));uP.displayName=lP.displayName;var Xh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jh=typeof window>"u"||"Deno"in globalThis;function $r(){}function UL(e,t){return typeof e=="function"?e(t):e}function BL(e){return typeof e=="number"&&e>=0&&e!==1/0}function VL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bb(e,t){return typeof e=="function"?e(t):e}function zL(e,t){return typeof e=="function"?e(t):e}function Vb(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==_0(a,t.options))return!1}else if(!fu(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function zb(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(du(t.options.mutationKey)!==du(i))return!1}else if(!fu(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _0(e,t){return((t==null?void 0:t.queryKeyHashFn)||du)(e)}function du(e){return JSON.stringify(e,(t,n)=>fv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!fu(e[n],t[n])):!1}function dP(e,t){if(e===t)return e;const n=Wb(e)&&Wb(t);if(n||fv(e)&&fv(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let d=0;d<a;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=dP(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function Wb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fv(e){if(!Hb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Hb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hb(e){return Object.prototype.toString.call(e)==="[object Object]"}function WL(e){return new Promise(t=>{setTimeout(t,e)})}function HL(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?dP(e,t):t}function qL(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function KL(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var k0=Symbol();function fP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===k0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Na,wi,Xo,xS,YL=(xS=class extends Xh{constructor(){super();nt(this,Na);nt(this,wi);nt(this,Xo);ze(this,Xo,t=>{if(!Jh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,wi)||this.setEventListener(le(this,Xo))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,wi))==null||t.call(this),ze(this,wi,void 0))}setEventListener(t){var n;ze(this,Xo,t),(n=le(this,wi))==null||n.call(this),ze(this,wi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){le(this,Na)!==t&&(ze(this,Na,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof le(this,Na)=="boolean"?le(this,Na):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Na=new WeakMap,wi=new WeakMap,Xo=new WeakMap,xS),hP=new YL,Jo,xi,Zo,bS,GL=(bS=class extends Xh{constructor(){super();nt(this,Jo,!0);nt(this,xi);nt(this,Zo);ze(this,Zo,t=>{if(!Jh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){le(this,xi)||this.setEventListener(le(this,Zo))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,xi))==null||t.call(this),ze(this,xi,void 0))}setEventListener(t){var n;ze(this,Zo,t),(n=le(this,xi))==null||n.call(this),ze(this,xi,t(this.setOnline.bind(this)))}setOnline(t){le(this,Jo)!==t&&(ze(this,Jo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return le(this,Jo)}},Jo=new WeakMap,xi=new WeakMap,Zo=new WeakMap,bS),Xf=new GL;function QL(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function XL(e){return Math.min(1e3*2**e,3e4)}function mP(e){return(e??"online")==="online"?Xf.isOnline():!0}var pP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fp(e){return e instanceof pP}function gP(e){let t=!1,n=0,r=!1,s;const i=QL(),a=g=>{var y;r||(h(new pP(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>hP.isFocused()&&(e.networkMode==="always"||Xf.isOnline())&&e.canRun(),u=()=>mP(e.networkMode)&&e.canRun(),f=g=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var y;s=x=>{(r||d())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(r)return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var D;if(r)return;const b=e.retry??(Jh?0:3),C=e.retryDelay??XL,_=typeof C=="function"?C(n,x):C,w=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(t||!w){h(x);return}n++,(D=e.onFail)==null||D.call(e,n,x),WL(_).then(()=>d()?void 0:m()).then(()=>{t?h(x):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():m().then(v),i)}}function JL(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var An=JL(),Ta,CS,vP=(CS=class{constructor(){nt(this,Ta)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BL(this.gcTime)&&ze(this,Ta,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jh?1/0:5*60*1e3))}clearGcTimeout(){le(this,Ta)&&(clearTimeout(le(this,Ta)),ze(this,Ta,void 0))}},Ta=new WeakMap,CS),el,tl,wr,_n,Eu,Aa,Ur,Ns,SS,ZL=(SS=class extends vP{constructor(t){super();nt(this,Ur);nt(this,el);nt(this,tl);nt(this,wr);nt(this,_n);nt(this,Eu);nt(this,Aa);ze(this,Aa,!1),ze(this,Eu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ze(this,wr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ze(this,el,t3(this.options)),this.state=t.state??le(this,el),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,_n))==null?void 0:t.promise}setOptions(t){this.options={...le(this,Eu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,wr).remove(this)}setData(t,n){const r=HL(this.state.data,t,this.options);return xn(this,Ur,Ns).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){xn(this,Ur,Ns).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=le(this,_n))==null?void 0:r.promise;return(s=le(this,_n))==null||s.cancel(t),n?n.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,el))}isActive(){return this.observers.some(t=>zL(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!VL(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,_n))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,_n))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,wr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(le(this,_n)&&(le(this,Aa)?le(this,_n).cancel({revert:!0}):le(this,_n).cancelRetry()),this.scheduleGc()),le(this,wr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xn(this,Ur,Ns).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,_n))return le(this,_n).continueRetry(),le(this,_n).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ze(this,Aa,!0),r.signal)})},i=()=>{const f=fP(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),ze(this,Aa,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ze(this,tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&xn(this,Ur,Ns).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,m,v,g;fp(f)&&f.silent||xn(this,Ur,Ns).call(this,{type:"error",error:f}),fp(f)||((m=(h=le(this,wr).config).onError)==null||m.call(h,f,this),(g=(v=le(this,wr).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return ze(this,_n,gP({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,m,v,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(m=(h=le(this,wr).config).onSuccess)==null||m.call(h,f,this),(g=(v=le(this,wr).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{xn(this,Ur,Ns).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{xn(this,Ur,Ns).call(this,{type:"pause"})},onContinue:()=>{xn(this,Ur,Ns).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),le(this,_n).start()}},el=new WeakMap,tl=new WeakMap,wr=new WeakMap,_n=new WeakMap,Eu=new WeakMap,Aa=new WeakMap,Ur=new WeakSet,Ns=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...e3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return fp(s)&&s.revert&&le(this,tl)?{...le(this,tl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),An.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),le(this,wr).notify({query:this,type:"updated",action:t})})},SS);function e3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function t3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var as,jS,n3=(jS=class extends Xh{constructor(t={}){super();nt(this,as);this.config=t,ze(this,as,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??_0(s,n);let a=this.get(i);return a||(a=new ZL({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){le(this,as).has(t.queryHash)||(le(this,as).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=le(this,as).get(t.queryHash);n&&(t.destroy(),n===t&&le(this,as).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,as).get(t)}getAll(){return[...le(this,as).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vb(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Vb(t,r)):n}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},as=new WeakMap,jS),os,Nn,Ma,ls,ai,_S,r3=(_S=class extends vP{constructor(t){super();nt(this,ls);nt(this,os);nt(this,Nn);nt(this,Ma);this.mutationId=t.mutationId,ze(this,Nn,t.mutationCache),ze(this,os,[]),this.state=t.state||s3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,os).includes(t)||(le(this,os).push(t),this.clearGcTimeout(),le(this,Nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ze(this,os,le(this,os).filter(n=>n!==t)),this.scheduleGc(),le(this,Nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,os).length||(this.state.status==="pending"?this.scheduleGc():le(this,Nn).remove(this))}continue(){var t;return((t=le(this,Ma))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,d,u,f,h,m,v,g,y,x,b,C,_,w,D,k;ze(this,Ma,gP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,N)=>{xn(this,ls,ai).call(this,{type:"failed",failureCount:S,error:N})},onPause:()=>{xn(this,ls,ai).call(this,{type:"pause"})},onContinue:()=>{xn(this,ls,ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,Nn).canRun(this)}));const n=this.state.status==="pending",r=!le(this,Ma).canStart();try{if(!n){xn(this,ls,ai).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=le(this,Nn).config).onMutate)==null?void 0:i.call(s,t,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));N!==this.state.context&&xn(this,ls,ai).call(this,{type:"pending",context:N,variables:t,isPaused:r})}const S=await le(this,Ma).start();return await((d=(c=le(this,Nn).config).onSuccess)==null?void 0:d.call(c,S,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,S,t,this.state.context)),await((m=(h=le(this,Nn).config).onSettled)==null?void 0:m.call(h,S,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,S,null,t,this.state.context)),xn(this,ls,ai).call(this,{type:"success",data:S}),S}catch(S){try{throw await((x=(y=le(this,Nn).config).onError)==null?void 0:x.call(y,S,t,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,S,t,this.state.context)),await((w=(_=le(this,Nn).config).onSettled)==null?void 0:w.call(_,void 0,S,this.state.variables,this.state.context,this)),await((k=(D=this.options).onSettled)==null?void 0:k.call(D,void 0,S,t,this.state.context)),S}finally{xn(this,ls,ai).call(this,{type:"error",error:S})}}finally{le(this,Nn).runNext(this)}}},os=new WeakMap,Nn=new WeakMap,Ma=new WeakMap,ls=new WeakSet,ai=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),An.batch(()=>{le(this,os).forEach(r=>{r.onMutationUpdate(t)}),le(this,Nn).notify({mutation:this,type:"updated",action:t})})},_S);function s3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ir,Nu,kS,i3=(kS=class extends Xh{constructor(t={}){super();nt(this,ir);nt(this,Nu);this.config=t,ze(this,ir,new Map),ze(this,Nu,Date.now())}build(t,n,r){const s=new r3({mutationCache:this,mutationId:++sd(this,Nu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=kd(t),r=le(this,ir).get(n)??[];r.push(t),le(this,ir).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kd(t);if(le(this,ir).has(n)){const s=(r=le(this,ir).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?le(this,ir).delete(n):le(this,ir).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=le(this,ir).get(kd(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=le(this,ir).get(kd(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...le(this,ir).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zb(n,r))}findAll(t={}){return this.getAll().filter(n=>zb(t,n))}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return An.batch(()=>Promise.all(t.map(n=>n.continue().catch($r))))}},ir=new WeakMap,Nu=new WeakMap,kS);function kd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function qb(e){return{onFetch:(t,n)=>{var u,f,h,m,v;const r=t.options,s=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=fP(t.options,t.fetchOptions),b=async(C,_,w)=>{if(g)return Promise.reject();if(_==null&&C.pages.length)return Promise.resolve(C);const D={queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};y(D);const k=await x(D),{maxPages:S}=t.options,N=w?KL:qL;return{pages:N(C.pages,k,S),pageParams:N(C.pageParams,_,S)}};if(s&&i.length){const C=s==="backward",_=C?a3:Kb,w={pages:i,pageParams:a},D=_(r,w);l=await b(w,D,C)}else{const C=e??i.length;do{const _=c===0?a[0]??r.initialPageParam:Kb(r,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<C)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Kb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function a3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Mt,bi,Ci,nl,rl,Si,sl,il,PS,o3=(PS=class{constructor(e={}){nt(this,Mt);nt(this,bi);nt(this,Ci);nt(this,nl);nt(this,rl);nt(this,Si);nt(this,sl);nt(this,il);ze(this,Mt,e.queryCache||new n3),ze(this,bi,e.mutationCache||new i3),ze(this,Ci,e.defaultOptions||{}),ze(this,nl,new Map),ze(this,rl,new Map),ze(this,Si,0)}mount(){sd(this,Si)._++,le(this,Si)===1&&(ze(this,sl,hP.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Mt).onFocus())})),ze(this,il,Xf.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Mt).onOnline())})))}unmount(){var e,t;sd(this,Si)._--,le(this,Si)===0&&((e=le(this,sl))==null||e.call(this),ze(this,sl,void 0),(t=le(this,il))==null||t.call(this),ze(this,il,void 0))}isFetching(e){return le(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,bi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,Mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=le(this,Mt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Bb(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return le(this,Mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=le(this,Mt).get(r.queryHash),i=s==null?void 0:s.state.data,a=UL(t,i);if(a!==void 0)return le(this,Mt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return An.batch(()=>le(this,Mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,Mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=le(this,Mt);An.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=le(this,Mt),r={type:"active",...e};return An.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=An.batch(()=>le(this,Mt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(e={},t={}){return An.batch(()=>{if(le(this,Mt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=An.batch(()=>le(this,Mt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch($r)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then($r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=le(this,Mt).build(this,t);return n.isStaleByTime(Bb(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($r).catch($r)}fetchInfiniteQuery(e){return e.behavior=qb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($r).catch($r)}ensureInfiniteQueryData(e){return e.behavior=qb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xf.isOnline()?le(this,bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Mt)}getMutationCache(){return le(this,bi)}getDefaultOptions(){return le(this,Ci)}setDefaultOptions(e){ze(this,Ci,e)}setQueryDefaults(e,t){le(this,nl).set(du(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,nl).values()];let n={};return t.forEach(r=>{fu(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){le(this,rl).set(du(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,rl).values()];let n={};return t.forEach(r=>{fu(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Ci).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===k0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Ci).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,Mt).clear(),le(this,bi).clear()}},Mt=new WeakMap,bi=new WeakMap,Ci=new WeakMap,nl=new WeakMap,rl=new WeakMap,Si=new WeakMap,sl=new WeakMap,il=new WeakMap,PS),l3=p.createContext(void 0),c3=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(l3.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(this,arguments)}var Pi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pi||(Pi={}));const Yb="popstate";function u3(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return hv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Jf(s)}return f3(t,n,null,e)}function zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d3(){return Math.random().toString(36).substr(2,8)}function Gb(e,t){return{usr:e.state,key:e.key,idx:t}}function hv(e,t,n,r){return n===void 0&&(n=null),hu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ul(t):t,{state:n,key:t&&t.key||r||d3()})}function Jf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f3(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Pi.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(hu({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function f(){l=Pi.Pop;let y=u(),x=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:x})}function h(y,x){l=Pi.Push;let b=hv(g.location,y,x);d=u()+1;let C=Gb(b,d),_=g.createHref(b);try{a.pushState(C,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(y,x){l=Pi.Replace;let b=hv(g.location,y,x);d=u();let C=Gb(b,d),_=g.createHref(b);a.replaceState(C,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function v(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:Jf(y);return b=b.replace(/ $/,"%20"),zt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Yb,f),c=y,()=>{s.removeEventListener(Yb,f),c=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return a.go(y)}};return g}var Qb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qb||(Qb={}));function h3(e,t,n){return n===void 0&&(n="/"),m3(e,t,n,!1)}function m3(e,t,n,r){let s=typeof t=="string"?Ul(t):t,i=P0(s.pathname||"/",n);if(i==null)return null;let a=wP(e);p3(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=k3(i);l=j3(a[c],d,r)}return l}function wP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(zt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Fi([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),wP(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:C3(d,i.index),routesMeta:u})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of xP(i.path))s(i,a,c)}),t}function xP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=xP(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function p3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:S3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g3=/^:[\w-]+$/,v3=3,y3=2,w3=1,x3=10,b3=-2,Xb=e=>e==="*";function C3(e,t){let n=e.split("/"),r=n.length;return n.some(Xb)&&(r+=b3),t&&(r+=y3),n.filter(s=>!Xb(s)).reduce((s,i)=>s+(g3.test(i)?v3:i===""?w3:x3),r)}function S3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function j3(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Jb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Jb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Fi([i,f.pathname]),pathnameBase:N3(Fi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Fi([i,f.pathnameBase]))}return a}function Jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_3(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=l[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function _3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function k3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function P0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function P3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ul(e):e;return{pathname:n?n.startsWith("/")?n:D3(n,t):t,search:T3(r),hash:A3(s)}}function D3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function D0(e,t){let n=E3(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function E0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ul(e):(s=hu({},e),zt(!s.pathname||!s.pathname.includes("?"),hp("?","pathname","search",s)),zt(!s.pathname||!s.pathname.includes("#"),hp("#","pathname","hash",s)),zt(!s.search||!s.search.includes("#"),hp("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=P3(s,l),d=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Fi=e=>e.join("/").replace(/\/\/+/g,"/"),N3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bP=["post","put","patch","delete"];new Set(bP);const R3=["get",...bP];new Set(R3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mu.apply(this,arguments)}const N0=p.createContext(null),I3=p.createContext(null),na=p.createContext(null),Zh=p.createContext(null),ks=p.createContext({outlet:null,matches:[],isDataRoute:!1}),CP=p.createContext(null);function O3(e,t){let{relative:n}=t===void 0?{}:t;Bl()||zt(!1);let{basename:r,navigator:s}=p.useContext(na),{hash:i,pathname:a,search:l}=jP(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Fi([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Bl(){return p.useContext(Zh)!=null}function Js(){return Bl()||zt(!1),p.useContext(Zh).location}function SP(e){p.useContext(na).static||p.useLayoutEffect(e)}function wn(){let{isDataRoute:e}=p.useContext(ks);return e?X3():F3()}function F3(){Bl()||zt(!1);let e=p.useContext(N0),{basename:t,future:n,navigator:r}=p.useContext(na),{matches:s}=p.useContext(ks),{pathname:i}=Js(),a=JSON.stringify(D0(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return SP(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=E0(d,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fi([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,a,i,e])}const L3=p.createContext(null);function $3(e){let t=p.useContext(ks).outlet;return t&&p.createElement(L3.Provider,{value:e},t)}function T0(){let{matches:e}=p.useContext(ks),t=e[e.length-1];return t?t.params:{}}function jP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(na),{matches:s}=p.useContext(ks),{pathname:i}=Js(),a=JSON.stringify(D0(s,r.v7_relativeSplatPath));return p.useMemo(()=>E0(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function U3(e,t){return B3(e,t)}function B3(e,t,n,r){Bl()||zt(!1);let{navigator:s}=p.useContext(na),{matches:i}=p.useContext(ks),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Js(),u;if(t){var f;let y=typeof t=="string"?Ul(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||zt(!1),u=y}else u=d;let h=u.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=h3(e,{pathname:m}),g=q3(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Fi([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Fi([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?p.createElement(Zh.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Pi.Pop}},g):g}function V3(){let e=Q3(),t=M3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const z3=p.createElement(V3,null);class W3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(ks.Provider,{value:this.props.routeContext},p.createElement(CP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H3(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(N0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ks.Provider,{value:t},r)}function q3(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||zt(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,f,h)=>{let m,v=!1,g=null,y=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||z3,c&&(d<0&&h===0?(v=!0,y=null):d===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),b=()=>{let C;return m?C=g:v?C=y:f.route.Component?C=p.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=u,p.createElement(H3,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(W3,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var _P=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_P||{}),Zf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zf||{});function K3(e){let t=p.useContext(N0);return t||zt(!1),t}function Y3(e){let t=p.useContext(I3);return t||zt(!1),t}function G3(e){let t=p.useContext(ks);return t||zt(!1),t}function kP(e){let t=G3(),n=t.matches[t.matches.length-1];return n.route.id||zt(!1),n.route.id}function Q3(){var e;let t=p.useContext(CP),n=Y3(Zf.UseRouteError),r=kP(Zf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function X3(){let{router:e}=K3(_P.UseNavigateStable),t=kP(Zf.UseNavigateStable),n=p.useRef(!1);return SP(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,mu({fromRouteId:t},i)))},[e,t])}function J3(e){let{to:t,replace:n,state:r,relative:s}=e;Bl()||zt(!1);let{future:i,static:a}=p.useContext(na),{matches:l}=p.useContext(ks),{pathname:c}=Js(),d=wn(),u=E0(t,D0(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return p.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function Z3(e){return $3(e.context)}function Ht(e){zt(!1)}function e$(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Pi.Pop,navigator:i,static:a=!1,future:l}=e;Bl()&&zt(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:a,future:mu({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ul(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:v="default"}=r,g=p.useMemo(()=>{let y=P0(u,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:v},navigationType:s}},[c,u,f,h,m,v,s]);return g==null?null:p.createElement(na.Provider,{value:d},p.createElement(Zh.Provider,{children:n,value:g}))}function t$(e){let{children:t,location:n}=e;return U3(mv(t),n)}new Promise(()=>{});function mv(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,mv(r.props.children,i));return}r.type!==Ht&&zt(!1),!r.props.index||!r.props.children||zt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mv(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(this,arguments)}function n$(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function r$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s$(e,t){return e.button===0&&(!t||t==="_self")&&!r$(e)}function gv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function i$(e,t){let n=gv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const a$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o$="6";try{window.__reactRouterVersion=o$}catch{}const l$="startTransition",Zb=$S[l$];function c$(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=u3({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},u=p.useCallback(f=>{d&&Zb?Zb(()=>c(f)):c(f)},[c,d]);return p.useLayoutEffect(()=>a.listen(u),[a,u]),p.createElement(e$,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const u$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=n$(t,a$),{basename:m}=p.useContext(na),v,g=!1;if(typeof d=="string"&&d$.test(d)&&(v=d,u$))try{let C=new URL(window.location.href),_=d.startsWith("//")?new URL(C.protocol+d):new URL(d),w=P0(_.pathname,m);_.origin===C.origin&&w!=null?d=w+_.search+_.hash:g=!0}catch{}let y=O3(d,{relative:s}),x=f$(d,{replace:a,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function b(C){r&&r(C),C.defaultPrevented||x(C)}return p.createElement("a",pv({},h,{href:v||y,onClick:g||i?r:b,ref:n,target:c}))});var e1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(e1||(e1={}));var t1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(t1||(t1={}));function f$(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=wn(),d=Js(),u=jP(e,{relative:a});return p.useCallback(f=>{if(s$(f,n)){f.preventDefault();let h=r!==void 0?r:Jf(d)===Jf(u);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,u,r,s,n,e,i,a,l])}function A0(e){let t=p.useRef(gv(e)),n=p.useRef(!1),r=Js(),s=p.useMemo(()=>i$(r.search,n.current?null:t.current),[r.search]),i=wn(),a=p.useCallback((l,c)=>{const d=gv(typeof l=="function"?l(s):l);n.current=!0,i("?"+d,c)},[i,s]);return[s,a]}var n1={},h$="@vercel/analytics",m$="1.6.1",p$=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function PP(){return typeof window<"u"}function DP(){try{const e="production"}catch{}return"production"}function g$(e="auto"){if(e==="auto"){window.vam=DP();return}window.vam=e}function v$(){return(PP()?window.vam:DP())||"production"}function vv(){return v$()==="development"}function y$(e){return e.scriptSrc?e.scriptSrc:vv()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function w$(e={debug:!0}){var t;if(!PP())return;g$(e.mode),p$(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=y$(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=h$+(e.framework?`/${e.framework}`:""),r.dataset.sdkv=m$,e.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{const s=vv()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${s}`)},vv()&&e.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}function x$({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function b$(){if(!(typeof process>"u"||typeof n1>"u"))return n1.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function C$(e){return p.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),p.useEffect(()=>{w$({framework:e.framework||"react",basePath:e.basePath??b$(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),p.useEffect(()=>{e.route&&e.path&&x$({route:e.route,path:e.path})},[e.route,e.path]),null}const S$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bt(async()=>{const{default:r}=await Promise.resolve().then(()=>Vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class M0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class j$ extends M0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _$ extends M0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class k$ extends M0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yv||(yv={}));var P$=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class D${constructor(t,{headers:n={},customFetch:r,region:s=yv.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=S$(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return P$(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new j$(v)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new _$(u);if(!u.ok)throw new k$(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var zn={},R0={},em={},Bu={},tm={},nm={},E$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gl=E$();const N$=gl.fetch,EP=gl.fetch.bind(gl),NP=gl.Headers,T$=gl.Request,A$=gl.Response,Vl=Object.freeze(Object.defineProperty({__proto__:null,Headers:NP,Request:T$,Response:A$,default:EP,fetch:N$},Symbol.toStringTag,{value:"Module"})),M$=YM(Vl);var rm={};Object.defineProperty(rm,"__esModule",{value:!0});let R$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rm.default=R$;var TP=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nm,"__esModule",{value:!0});const I$=TP(M$),O$=TP(rm);let F$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=I$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let d=null,u=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{d=JSON.parse(g),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,m="OK")}catch{i.status===404&&g===""?(h=204,m="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,h=200,m="OK"),d&&this.shouldThrowOnError)throw new O$.default(d)}return{error:d,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};nm.default=F$;var L$=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tm,"__esModule",{value:!0});const $$=L$(nm);let U$=class extends $$.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tm.default=U$;var B$=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bu,"__esModule",{value:!0});const V$=B$(tm);let z$=class extends V$.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Bu.default=z$;var W$=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(em,"__esModule",{value:!0});const uc=W$(Bu);let H$=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new uc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new uc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new uc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new uc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new uc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};em.default=H$;var sm={},im={};Object.defineProperty(im,"__esModule",{value:!0});im.version=void 0;im.version="0.0.0-automated";Object.defineProperty(sm,"__esModule",{value:!0});sm.DEFAULT_HEADERS=void 0;const q$=im;sm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${q$.version}`};var AP=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R0,"__esModule",{value:!0});const K$=AP(em),Y$=AP(Bu),G$=sm;let Q$=class MP{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},G$.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new K$.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new MP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(a="POST",c=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Y$.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};R0.default=Q$;var zl=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const RP=zl(R0);zn.PostgrestClient=RP.default;const IP=zl(em);zn.PostgrestQueryBuilder=IP.default;const OP=zl(Bu);zn.PostgrestFilterBuilder=OP.default;const FP=zl(tm);zn.PostgrestTransformBuilder=FP.default;const LP=zl(nm);zn.PostgrestBuilder=LP.default;const $P=zl(rm);zn.PostgrestError=$P.default;var X$=zn.default={PostgrestClient:RP.default,PostgrestQueryBuilder:IP.default,PostgrestFilterBuilder:OP.default,PostgrestTransformBuilder:FP.default,PostgrestBuilder:LP.default,PostgrestError:$P.default};const{PostgrestClient:J$,PostgrestQueryBuilder:GX,PostgrestFilterBuilder:QX,PostgrestTransformBuilder:XX,PostgrestBuilder:JX,PostgrestError:ZX}=X$,Z$="2.11.2",e6={"X-Client-Info":`realtime-js/${Z$}`},t6="1.0.0",UP=1e4,n6=1e3;var qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qo||(qo={}));var sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sr||(sr={}));var Vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vr||(Vr={}));var wv;(function(e){e.websocket="websocket"})(wv||(wv={}));var ya;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ya||(ya={}));class r6{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class BP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const r1=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=s6(a,e,t,s),i),{})},s6=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?VP(i,a):xv(a)},VP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return l6(t,n)}switch(e){case ft.bool:return i6(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return a6(t);case ft.json:case ft.jsonb:return o6(t);case ft.timestamp:return c6(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return xv(t);default:return xv(t)}},xv=e=>e,i6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},a6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},o6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},l6=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>VP(t,l))}return e},c6=e=>typeof e=="string"?e.replace(" ","T"):e,zP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mp{constructor(t,n,r={},s=UP){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var s1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(s1||(s1={}));class Rc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Rc.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rc.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{a[d]||(c[d]=u)}),this.map(a,(d,u)=>{const f=i[d];if(f){const h=u.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),v=u.filter(y=>m.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[d]=v),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,u,c)}),this.map(a,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(i1||(i1={}));var a1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(a1||(a1={}));var As;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(As||(As={}));class I0{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mp(this,Vr.join,this.params,this.timeout),this.rejoinTimer=new BP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rc(this),this.broadcastEndpointURL=zP(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(u=>t==null?void 0:t(As.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(As.CLOSED));const c={},d={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(As.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<m;g++){const y=h[g],{filter:{event:x,schema:b,table:C,filter:_}}=y,w=u&&u[g];if(w&&w.event===x&&w.schema===b&&w.table===C&&w.filter===_)v.push(Object.assign(Object.assign({},y),{id:w.id}));else{this.unsubscribe(),t==null||t(As.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(As.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(As.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(As.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new mp(this,Vr.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mp(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Vr;if(r&&[l,c,d,u].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,g,y,x,b,C;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,w=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:x,type:b,errors:C}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:C}),this._getPayloadRecords(v))}m.callback(h,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&I0.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vr.close,{},t)}_onError(t){this._on(Vr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=r1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=r1(t.columns,t.old_record)),n}}const u6=()=>{},d6=typeof WebSocket<"u",f6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h6{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=e6,this.params={},this.timeout=UP,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=u6,this.conn=null,this.sendBuffer=[],this.serializer=new r6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Bt(async()=>{const{default:c}=await Promise.resolve().then(()=>Vl);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${wv.websocket}`,this.httpEndpoint=zP(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new BP(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(d6){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new m6(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bt(async()=>{const{default:t}=await import("./browser-C_ushJ7L.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t6}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return ya.Connecting;case qo.open:return ya.Open;case qo.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}channel(t,n={config:{}}){const r=new I0(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(Vr.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(n6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([f6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class m6{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class O0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class p6 extends O0{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bv extends O0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var g6=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const WP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bt(async()=>{const{default:r}=await Promise.resolve().then(()=>Vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},v6=()=>g6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bt(()=>Promise.resolve().then(()=>Vl),void 0)).Response:Response}),Cv=e=>{if(Array.isArray(e))return e.map(n=>Cv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Cv(r)}),t};var no=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const pp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),y6=(e,t,n)=>no(void 0,void 0,void 0,function*(){const r=yield v6();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new p6(pp(s),e.status||500))}).catch(s=>{t(new bv(pp(s),s))}):t(new bv(pp(e),e))}),w6=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Vu(e,t,n,r,s,i){return no(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,w6(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>y6(c,l,r))})})}function eh(e,t,n,r){return no(this,void 0,void 0,function*(){return Vu(e,"GET",t,n,r)})}function pi(e,t,n,r,s){return no(this,void 0,void 0,function*(){return Vu(e,"POST",t,r,s,n)})}function x6(e,t,n,r,s){return no(this,void 0,void 0,function*(){return Vu(e,"PUT",t,r,s,n)})}function b6(e,t,n,r){return no(this,void 0,void 0,function*(){return Vu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function HP(e,t,n,r,s){return no(this,void 0,void 0,function*(){return Vu(e,"DELETE",t,r,s,n)})}var Bn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const C6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},o1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S6{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=WP(s)}uploadOrUpdate(t,n,r,s){return Bn(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},o1),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(nn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Bn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:o1.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(nn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Bn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new O0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Bn(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(nn(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Bn(this,void 0,void 0,function*(){try{return{data:{path:(yield pi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(nn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Bn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield pi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(nn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Bn(this,void 0,void 0,function*(){try{const s=yield pi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(nn(s))return{data:null,error:s};throw s}})}download(t,n){return Bn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield eh(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(nn(l))return{data:null,error:l};throw l}})}info(t){return Bn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield eh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cv(r),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}exists(t){return Bn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield b6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(nn(r)&&r instanceof bv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield HP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Bn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},C6),n),{prefix:t||""});return{data:yield pi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(nn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const j6="2.7.1",_6={"X-Client-Info":`storage-js/${j6}`};var oo=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class k6{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},_6),n),this.fetch=WP(r)}listBuckets(){return oo(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nn(t))return{data:null,error:t};throw t}})}getBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return oo(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return oo(this,void 0,void 0,function*(){try{return{data:yield x6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return oo(this,void 0,void 0,function*(){try{return{data:yield HP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(nn(n))return{data:null,error:n};throw n}})}}class P6 extends k6{constructor(t,n={},r){super(t,n,r)}from(t){return new S6(this.url,this.headers,t,this.fetch)}}const D6="2.49.7";let wc="";typeof Deno<"u"?wc="deno":typeof document<"u"?wc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wc="react-native":wc="node";const E6={"X-Client-Info":`supabase-js-${wc}/${D6}`},N6={headers:E6},T6={schema:"public"},A6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M6={};var R6=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const I6=e=>{let t;return e?t=e:typeof fetch>"u"?t=EP:t=fetch,(...n)=>t(...n)},O6=()=>typeof Headers>"u"?NP:Headers,F6=(e,t,n)=>{const r=I6(n),s=O6();return(i,a)=>R6(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:d}))})};var L6=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};function $6(e){return e.replace(/\/$/,"")}function U6(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L6(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const qP="2.69.1",wo=30*1e3,Sv=3,gp=Sv*wo,B6="http://localhost:9999",V6="supabase.auth.token",z6={"X-Client-Info":`gotrue-js/${qP}`},jv="X-Supabase-Api-Version",KP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H6=6e5;class F0 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class q6 extends F0{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function K6(e){return Ve(e)&&e.name==="AuthApiError"}class YP extends F0{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ra extends F0{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class oi extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Y6(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class vp extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dd extends ra{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G6(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class l1 extends ra{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _v extends ra{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function yp(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class c1 extends ra{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ic extends ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const u1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d1=` 	
\r=`.split(""),Q6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<d1.length;t+=1)e[d1[t].charCodeAt(0)]=-2;for(let t=0;t<u1.length;t+=1)e[u1[t].charCodeAt(0)]=t;return e})();function GP(e,t,n){const r=Q6[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function f1(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Z6(a,r,n)};for(let a=0;a<e.length;a+=1)GP(e.charCodeAt(a),s,i);return t.join("")}function X6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function J6(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}X6(r,t)}}function Z6(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function eU(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)GP(e.charCodeAt(s),n,r);return new Uint8Array(t)}function tU(e){const t=[];return J6(e,n=>t.push(n)),new Uint8Array(t)}function nU(e){return Math.round(Date.now()/1e3)+e}function rU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ss=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},Oc=()=>{if(!ss())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function sU(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const QP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bt(async()=>{const{default:r}=await Promise.resolve().then(()=>Vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",XP=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ed=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nd=async(e,t)=>{await e.removeItem(t)};class am{constructor(){this.promise=new am.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}am.promiseConstructor=Promise;function wp(e){const t=e.split(".");if(t.length!==3)throw new Ic("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!W6.test(t[r]))throw new Ic("JWT not in base64url format");return{header:JSON.parse(f1(t[0])),payload:JSON.parse(f1(t[1])),signature:eU(t[2]),raw:{header:t[0],payload:t[1]}}}async function aU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oU(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function lU(e){return("0"+e.toString(16)).substr(-2)}function cU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,lU).join("")}async function uU(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function dU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uU(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(e,t,n=!1){const r=cU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await XP(e,`${t}-code-verifier`,s);const i=await dU(r);return[i,r===i?"plain":"s256"]}const fU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hU(e){const t=e.headers.get(jv);if(!t||!t.match(fU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ma=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vU=[502,503,504];async function h1(e){var t;if(!iU(e))throw new _v(ma(e),0);if(vU.includes(e.status))throw new _v(ma(e),e.status);let n;try{n=await e.json()}catch(i){throw new YP(ma(i),i)}let r;const s=hU(e);if(s&&s.getTime()>=KP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new c1(ma(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new oi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new c1(ma(n),e.status,n.weak_password.reasons);throw new q6(ma(n),e.status||500,r)}const yU=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ye(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jv]||(i[jv]=KP["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await wU(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function wU(e,t,n,r,s,i){const a=yU(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new _v(ma(c),0)}if(l.ok||await h1(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await h1(c)}}function li(e){var t;let n=null;SU(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nU(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function m1(e){const t=li(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xU(e){return{data:e,error:null}}function bU(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=gU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function CU(e){return e}function SU(e){return e.access_token&&e.refresh_token&&e.expires_in}var jU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class _U{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=QP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yi})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jU(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yi})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:CU});if(u.error)throw u.error;const f=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Ve(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yi})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yi})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yi})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}const kU={getItem:e=>Oc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Oc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Oc()&&globalThis.localStorage.removeItem(e)}};function p1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function PU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const co={debug:!!(globalThis&&Oc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DU extends JP{}async function EU(e,t,n){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(co.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}PU();const NU={url:B6,storageKey:V6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:z6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function g1(e,t,n){return await n()}class pu{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pu.nextInstanceID,pu.nextInstanceID+=1,this.instanceID>0&&ss()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},NU),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _U({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=QP(s.fetch),this.lock=s.lock||g1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ss()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=EU:this.lock=g1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Oc()?this.storage=kU:(this.memoryStorage={},this.storage=p1(this.memoryStorage)):(this.memoryStorage={},this.storage=p1(this.memoryStorage)),ss()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ss()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),G6(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?{error:n}:{error:new YP("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:li}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await lo(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:li})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:li})}else throw new Pd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:m1})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:m1})}else throw new Pd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ed(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:li});if(await Nd(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:li}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await lo(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Pd("You must provide either an email or phone number.")}catch(l){if(Ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:li});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await lo(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:xU})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new oi;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Pd("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ed(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yi}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oi}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yi})})}catch(n){if(Ve(n))return Y6(n)&&(await this._removeSession(),await Nd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new oi;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await lo(this.storage,this.storageKey));const{data:d,error:u}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:yi});if(u)throw u;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new oi;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=wp(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new oi;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ss())throw new Dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new l1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new l1("No code detected.");const{data:b,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!a||!d)throw new Dd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let h=u+f;c&&(h=parseInt(c));const m=h-u;m*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ed(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(K6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Nd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=rU(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await lo(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,d,u;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ss()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oU(async s=>(s>0&&await aU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:li})),(s,i)=>{const a=200*Math.pow(2,s);return i&&yp(i)&&Date.now()+a-r<wo})}catch(r){if(this._debug(n,"error",r),Ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ss()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ed(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gp}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),yp(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new oi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new am;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new oi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ve(i)){const a={session:null,error:i};return yp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await XP(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Nd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ss()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wo}ms, refresh threshold is ${Sv} ticks`),s<=Sv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof JP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ss()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await lo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=wp(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r||(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+H6>Date.now()))return r;const{data:s,error:i}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ic("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===t),!r)throw new Ic("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=wp(r);if(mU(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=pU(s.alg),u=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,tU(`${l}.${c}`)))throw new Ic("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}pu.nextInstanceID=0;const TU=pu;class AU extends TU{constructor(t){super(t)}}var MU=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class RU{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=$6(t),c=new URL(l);this.realtimeUrl=new URL("/realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",c),this.storageUrl=new URL("/storage/v1",c),this.functionsUrl=new URL("/functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:T6,realtime:M6,auth:Object.assign(Object.assign({},A6),{storageKey:d}),global:N6},f=U6(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=F6(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new J$(`${l}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new D$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new P6(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return MU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new h6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IU=(e,t,n)=>new RU(e,t,n),xp=a0("Preferences",{web:()=>Bt(()=>import("./web-Bs7LKjoL.js"),[]).then(e=>new e.PreferencesWeb)}),OU=()=>Wi.isNativePlatform()?{getItem:async t=>{try{const{value:n}=await xp.get({key:t});return n}catch(n){return console.error("Error getting item from storage:",n),null}},setItem:async(t,n)=>{try{await xp.set({key:t,value:n})}catch(r){throw console.error("Error setting item in storage:",r),r}},removeItem:async t=>{try{await xp.remove({key:t})}catch(n){throw console.error("Error removing item from storage:",n),n}}}:{getItem:t=>{try{return window.localStorage.getItem(t)}catch(n){return console.error("Error getting item from localStorage:",n),null}},setItem:(t,n)=>{try{window.localStorage.setItem(t,n)}catch(r){throw console.error("Error setting item in localStorage:",r),r}},removeItem:t=>{try{window.localStorage.removeItem(t)}catch(n){throw console.error("Error removing item from localStorage:",n),n}}},ZP="https://qyxywpbesnhegngqupdh.supabase.co",FU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5eHl3cGJlc25oZWduZ3F1cGRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MzIzODAsImV4cCI6MjA2MzQwODM4MH0.nBGj4sGCMkZJ49pnw8PMzgAm7BYYlcYkJiLN4KBrNms";console.log("Initializing Supabase client with URL:",ZP);const J=IU(ZP,FU,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:OU(),storageKey:"supabase.auth.token"},db:{schema:"public"}}),LU=()=>Wi.isNativePlatform()?"com.saiko.app://":window.location.origin,$U=(e="")=>`${LU()}${e}`,eD=p.createContext(void 0),UU=({children:e})=>{const[t,n]=p.useState(null),[r,s]=p.useState(!0),i=p.useRef(null);p.useEffect(()=>{i.current=t},[t]),p.useEffect(()=>{cs(J.auth.getSession(),5e3).then(({data:{session:h},error:m})=>{m?(console.error("Error getting session:",m),h&&h.user&&n({id:h.user.id,email:h.user.email,name:h.user.user_metadata.name||"",avatarUrl:h.user.user_metadata.avatar_url||""})):h!=null&&h.user&&n({id:h.user.id,email:h.user.email,name:h.user.user_metadata.name||"",avatarUrl:h.user.user_metadata.avatar_url||""}),s(!1)}).catch(h=>{console.error("Timeout or error getting session:",h),s(!1)});const{data:{subscription:u}}=J.auth.onAuthStateChange(async(h,m)=>{var v;if(console.log("Auth state change:",h,(v=m==null?void 0:m.user)==null?void 0:v.id),h==="SIGNED_OUT"){n(null),s(!1);return}if(m!=null&&m.user)n({id:m.user.id,email:m.user.email,name:m.user.user_metadata.name||"",avatarUrl:m.user.user_metadata.avatar_url||""});else if(h==="TOKEN_REFRESHED")setTimeout(async()=>{const{data:{session:g}}=await J.auth.getSession();g!=null&&g.user&&n({id:g.user.id,email:g.user.email,name:g.user.user_metadata.name||"",avatarUrl:g.user.user_metadata.avatar_url||""})},100);else if(!m&&h!=="SIGNED_OUT")try{const{data:{session:g}}=await J.auth.getSession();g!=null&&g.user?n({id:g.user.id,email:g.user.email,name:g.user.user_metadata.name||"",avatarUrl:g.user.user_metadata.avatar_url||""}):n(null)}catch(g){console.error("Error refreshing session:",g)}s(!1)}),f=setInterval(async()=>{const h=i.current;if(h)try{const{data:{session:m},error:v}=await J.auth.getSession();if(v)console.error("Periodic session check error:",v),m&&m.user&&m.user.id!==h.id&&n({id:m.user.id,email:m.user.email,name:m.user.user_metadata.name||"",avatarUrl:m.user.user_metadata.avatar_url||""});else if(m!=null&&m.user)m.user.id===h.id&&n({id:m.user.id,email:m.user.email,name:m.user.user_metadata.name||"",avatarUrl:m.user.user_metadata.avatar_url||""});else if(!m&&h){console.log("Session lost during periodic check, attempting refresh...");const{data:{session:g}}=await J.auth.getSession();g!=null&&g.user||(console.log("No session found after refresh, clearing user"),n(null))}}catch(m){console.error("Error in periodic session check:",m)}},5*60*1e3);return()=>{u.unsubscribe(),clearInterval(f)}},[]);const a=async(u,f)=>{const{error:h}=await J.auth.signInWithPassword({email:u,password:f});if(h)throw h},l=async(u,f,h)=>{try{const{data:m,error:v}=await J.auth.signUp({email:f,password:h,options:{data:{name:u},emailRedirectTo:$U("/login")}});if(v)throw console.error("Signup error details:",{message:v.message,status:v.status,name:v.name}),v;if(!m.user)throw new Error("No user data returned from signup");try{const{error:g}=await J.from("user_profiles").upsert({id:m.user.id,name:u,avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});g&&console.error("Error creating user profile:",g)}catch(g){console.error("Error creating user profile:",g)}return{user:{id:m.user.id,email:m.user.email,name:m.user.user_metadata.name||"",avatarUrl:m.user.user_metadata.avatar_url||""},session:m.session}}catch(m){throw console.error("Signup failed:",m),m}},c=async u=>{try{const{data:f,error:h}=await J.auth.resend({type:"signup",email:u});if(h)throw console.error("Resend confirmation error:",h),h;return f}catch(f){throw console.error("Resend confirmation failed:",f),f}},d=async()=>{try{n(null);const{error:u}=await J.auth.signOut();u&&(console.error("Logout error:",u),n(null))}catch(u){console.error("Unexpected logout error:",u),n(null)}};return o.jsx(eD.Provider,{value:{user:t,isLoading:r,login:a,signup:l,logout:d,checkEmailConfirmation:c},children:e})},Ct=()=>{const e=p.useContext(eD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Rn(e){const t=e||new Date,n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}function L0(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r,0,0,0,0)}function ht(e){const t=typeof e=="string"?new Date(e):e;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Fc(e){return L0(e).toISOString()}function Lc(e){const t=L0(e);return t.setHours(23,59,59,999),t.toISOString()}function Oa(e){const t=new Date(e);return Rn(t)}function Td(e){return Rn(e)}function tD(e,t){const n=ht(e),r=ht(t);return n.setHours(0,0,0,0),r.setHours(23,59,59,999),{startUTC:n.toISOString(),endUTC:r.toISOString()}}const kv={async getTodaysRandomChallenge(e){const t=Rn(),{data:n,error:r}=await J.from("daily_challenges").select("id").eq("is_active",!0);if(r)throw r;if(console.log("Total active daily challenges in system:",(n==null?void 0:n.length)||0),!n||n.length===0)return console.log("No active daily challenges found in system"),null;const{data:s,error:i}=await J.from("daily_challenge_entries").select("daily_challenge_id").eq("user_id",e).eq("completed_date",t);if(i)throw i;if(console.log("User entries for today:",(s==null?void 0:s.length)||0),s&&s.length>0)return console.log("User has completed challenges today, showing completion message"),null;const{data:a,error:l}=await J.from("daily_challenges").select("*").eq("is_active",!0);if(l)throw l;if(!a||a.length===0)return null;const c=Math.floor(Math.random()*a.length),d=a[c];return console.log("Random challenge loaded:",(d==null?void 0:d.title)||"none"),d},async checkTodaysCompletion(e,t){const n=Rn(),{data:r,error:s}=await J.from("daily_challenge_entries").select("id").eq("user_id",e).eq("daily_challenge_id",t).eq("completed_date",n).single();if(s&&s.code!=="PGRST116")throw s;return!!r},async completeDailyChallenge(e,t,n,r){const{data:s,error:i}=await J.from("daily_challenges").select("points").eq("id",t).single();if(i)throw i;const{data:a,error:l}=await J.from("daily_challenge_entries").insert({user_id:e,daily_challenge_id:t,value_achieved:n,points_earned:s.points,notes:r,completed_date:Rn()}).select().single();if(l)throw l;return a},async getUserDailyChallengeHistory(e,t=30){const n=new Date;n.setDate(n.getDate()-t);const{data:r,error:s}=await J.from("daily_challenge_entries").select(`
        *,
        daily_challenges (
          title,
          description,
          category
        )
      `).eq("user_id",e).gte("completed_at",n.toISOString()).order("completed_at",{ascending:!1});if(s)throw s;return r||[]}},v1={de:{challenges:"Herausforderungen",quest:"Quest",leaderboard:"Bestenliste",profile:"Profil",myChallenges:"Meine Herausforderungen",login:"Anmelden",signup:"Registrieren",logout:"Abmelden",myAccount:"Mein Konto",copyright:"Alle Rechte vorbehalten",privacyPolicy:"Datenschutzerklrung",termsOfService:"Nutzungsbedingungen",app:"App",footerDescription:"Erstelle und trete spannenden Herausforderungen mit Freunden bei",heroTitlePart1:"Erstelle und meistere",heroTitlePart2:"Herausforderungen",heroTitlePart3:"mit Freunden",heroSubtitle:"Setze Ziele, verfolge Fortschritte und wetteifere mit Freunden in anpassbaren Herausforderungen, die dich motivieren.",getStarted:"Loslegen",createChallenge:"Erstellen",browseChallenges:"Herausforderungen durchsuchen",goToDashboard:"Zum Dashboard",welcomeBack:"Willkommen zurck, {name}! ",trackProgress:"Verfolge deinen Fortschritt bei aktiven Herausforderungen",noActiveChallenges:"Keine aktiven Herausforderungen",noActiveChallengesDescription:"Du hast noch keine aktiven Herausforderungen. Tritt einer bei, um loszulegen!",progress:"Fortschritt",objectives:"Ziele",points:"Pkt",ends:"Endet",streakDay:"Tag",streakDays:"Tage",streak:"Serie",daysLeft:"Tage brig",daysUntilStart:"Tage bis Start",startingToday:"Startet heute",startsOn:"Startet am",challengeNotStartedYet:"Diese Herausforderung hat noch nicht begonnen",weeklyActivity:"Wchentliche Aktivitt",dailyChallenge:"Tgliche Herausforderung",dailyChallengeTitle:"Tgliche Herausforderung",tapToComplete:"Heute abschlieen",challengeCompleted:"Herausforderung fr heute erledigt! ",challengeInactive:"Inaktiv",challengeInactiveDescription:"Diese Herausforderung ist derzeit nicht aktiv. Du kannst nur whrend des aktiven Zeitraums Fortschritte hinzufgen.",howItWorks:"So funktioniert's",howItWorksDescription:"Saiko macht es einfach, Herausforderungen zu erstellen, beizutreten und zu meistern",createChallenges:"Herausforderungen erstellen",createChallengesDescription:"Gestalte individuelle Herausforderungen mit spezifischen Zielen, Vorgaben und Belohnungen",trackProgressDescription:"berwache deine Erfolge und siehe Echtzeit-Updates zu deinen Zielen",winPoints:"Punkte gewinnen",winPointsDescription:"Sammle Punkte fr jeden Meilenstein und konkurriere auf der Bestenliste",createNewChallenge:"Herausforderung erstellen",challengeTitle:"Titel der Herausforderung",challengeTitlePlaceholder:"z.B., 30-Tage Fitness Challenge",description:"Beschreibung",descriptionPlaceholder:"Beschreibe, worum es bei dieser Herausforderung geht...",challengeDuration:"Dauer der Herausforderung",pickDateRange:"Datumsbereich auswhlen",startDate:"Startdatum",endDate:"Enddatum",pickStartDate:"Startdatum auswhlen",pickEndDate:"Enddatum auswhlen",challengeObjectives:"Herausforderungsziele",addObjective:"Ziel hinzufgen",objectiveTitle:"Zieltitel",objectiveTitlePlaceholder:"z.B., Tgliche Schritte",objectiveDescription:"Beschreibung",objectiveDescriptionPlaceholder:"Beschreibe, was die Teilnehmer tun mssen...",targetValue:"Zielwert",targetValuePlaceholder:"z.B., 10000",unit:"Einheit",unitPlaceholder:"z.B., Schritte",pointsPerUnit:"Punkte pro Einheit",pointsPerUnitPlaceholder:"z.B., 1",capedPoints:"Punkte auf Zielwert begrenzen",noEndDate:"Kein Enddatum (laufende Herausforderung)",ongoing:"Laufend",repeatingChallenge:"Individuell",repeatingChallengeDurationHint:"Jeder Nutzer erhlt diese Anzahl von Tagen ab seinem Beitrittsdatum",collaborativeChallenge:"Gemeinsame Herausforderung",collaborativeChallengeDescription:"Alle Teilnehmer tragen zu gemeinsamen Zielen bei. Der Fortschritt wird ber alle Teilnehmer hinweg aggregiert.",individualChallenge:"Individuelle Herausforderung",individualChallengeDescription:"Jeder Teilnehmer verfolgt seinen eigenen Fortschritt zu den Zielen. Jeder hat seine eigenen Eintrge und Punkte.",challengeMode:"Herausforderungsmodus",challengeModeInfo:"Herausforderungsmodus",challengeType:"Herausforderungstyp",selectChallengeType:"Herausforderungstyp auswhlen",challengeTypeInfo:"Herausforderungstypen",standardChallenge:"Standard-Herausforderung",standardChallengeDescription:"Verfolge den Fortschritt zu bestimmten Zielen. Verdiene Punkte basierend darauf, wie viel du von jedem Ziel erreichst.",bingoChallenge:"Bingo-Herausforderung",bingoChallengeDescription:"Erflle Ziele in einem 5x5 Raster. Gewinne durch das Abschlieen von Reihen, Spalten oder Diagonalen. Erfordert genau 25 Ziele.",completionChallenge:"Tages-Challenge",completionChallengeDescription:"Verfolge tgliche Abschlsse. Der Fortschritt wird anhand der Anzahl der Tage gemessen, an denen du deine Ziele erreichst.",weeklyChallenge:"Wochen-Challenge",weeklyChallengeDescription:"Verfolge wchentliche Abschlsse. Der Fortschritt wird anhand der Anzahl der Wochen gemessen, in denen du deine Ziele erreichst. Nur vollstndige Wochen knnen ausgewhlt werden.",checklistChallenge:"Checkliste-Herausforderung",checklistChallengeDescription:"Einfache Checkliste. Jedes Ziel ist entweder abgeschlossen oder nicht. Perfekt zum Verfolgen von Aufgaben oder Erfolgen.",remove:"Entfernen",saving:"Wird gespeichert...",saveChallenge:"Herausforderung speichern",error:"Fehler",fillRequiredFields:"Bitte flle alle erforderlichen Felder aus",completeObjectiveDetails:"Bitte vervollstndige alle Zieldetails",joinChallenge:"Herausforderung beitreten",joinRepeatingChallenge:"Herausforderung heute starten?",joinRepeatingChallengeDescription:"Diese Herausforderung startet heute. Mchtest du wirklich beitreten und die Herausforderung jetzt starten?",startToday:"Ja, heute starten",leaveChallenge:"Herausforderung verlassen",leaveChallengeConfirmation:"Herausforderung wirklich verlassen?",leaveChallengeConfirmationDescription:"Mchtest du diese Herausforderung wirklich verlassen? Du verlierst deinen gesamten Fortschritt und kannst spter wieder beitreten.",leaving:"Wird verlassen...",challengeInfo:"Herausforderungsinformationen",editChallenge:"Herausforderung bearbeiten",shareChallenge:"Herausforderung teilen",shareChallengeMessage:"Schau dir diese Herausforderung an: {title}",linkCopied:"Link kopiert!",challengeLinkCopied:"Der Herausforderungslink wurde in die Zwischenablage kopiert",updateChallenge:"Herausforderung aktualisieren",challengeNotStartedYet:"Die Herausforderung hat noch nicht begonnen",challengeProgress:"Fortschritt",totalPoints:"Gesamtpunkte",objective:"Ziel",participants:"Teilnehmer",noParticipants:"Noch keine Teilnehmer",noChallenges:"Du hast noch keine Herausforderungen erstellt",noJoinedChallenges:"Du bist noch keiner Herausforderung beigetreten",noJoinedChallengesDescription:"Tritt bestehenden Herausforderungen bei oder erstelle deine eigene",startFirstChallenge:"Starte jetzt deine erste Herausforderung",createdBy:"Erstellt von",challengeStats:"Info",status:"Status",yourPoints:"Deine Punkte",complete:"abgeschlossen",activities:"Aktivitten",noActivities:"Keine Aktivitten",noActivitiesDescription:"Es wurden noch keine Aktivitten fr diese Herausforderung aufgezeichnet",addedValue:"{value} hinzugefgt",forObjective:"Fr Ziel",challengeNotFound:"Herausforderung nicht gefunden",challengeNotFoundDescription:"Die gesuchte Herausforderung konnte nicht gefunden werden.",backToChallenges:"Zurck zu den Herausforderungen",total:"Gesamt",yourProgress:"Dein Fortschritt",selectParticipant:"Teilnehmer auswhlen",recentActivity:"Letzte Aktivitten",updateProfile:"Profil aktualisieren",profileUpdated:"Profil aktualisiert",profileUpdatedDescription:"Dein Profil wurde erfolgreich aktualisiert.",profileUpdateFailed:"Profilaktualisierung fehlgeschlagen. Bitte versuche es erneut.",displayName:"Anzeigename",enterDisplayName:"Anzeigenamen eingeben",email:"E-Mail",enterEmail:"E-Mail-Adresse eingeben",close:"Schlieen",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",loading:"Laden...",success:"Erfolg",next:"Weiter",previous:"Zurck",morePages:"Weitere Seiten",loadMore:"Mehr laden",uploading:"Wird hochgeladen...",loadingDashboard:"Dashboard wird geladen...",errorLoadingChallenge:"Fehler beim Laden der Herausforderung",completing:"Wird abgeschlossen...",completeChallenge:"Herausforderung abschlieen",notApplicable:"N/V",installAppTitle:"Saiko installieren",installAppDescription:"Fge Saiko zu deinem Gert hinzu fr schnelleren Zugriff und ein Vollbild-Erlebnis.",installAppDismiss:"Jetzt nicht",installAppConfirm:"Als App installieren",target:"Ziel",deadline:"Frist",viewChallenge:"Herausforderung ansehen",joining:"Wird beigetreten...",active:"Aktiv",upcoming:"Kommend",available:"Verfgbar",completed:"Abgeschlossen",searchChallenges:"Herausforderungen suchen...",allChallenges:"Alle",myJoinedChallenges:"Beigetreten",createdByMe:"Von mir erstellt",noChallengesFound:"Keine Herausforderungen gefunden",noChallengesFoundDescription:"Versuche deine Suche anzupassen oder erstelle eine neue Herausforderung",noCreatedChallenges:"Du hast noch keine Herausforderungen erstellt",noCreatedChallengesDescription:"Starte jetzt deine erste Herausforderung",showCompleted:"Abgeschlossene anzeigen",hideCompleted:"Abgeschlossene ausblenden",cannotJoinCompletedChallenge:"Du kannst einer abgeschlossenen Herausforderung nicht beitreten",myProfile:"Mein Profil",profileInformation:"Profilinformationen",updatePersonalDetails:"Aktualisiere hier deine persnlichen Daten",fullName:"Vollstndiger Name",saveChanges:"nderungen speichern",logOut:"Abmelden",joinedChallenges:"Beigetretene Herausforderungen",createdChallenges:"Erstellte Herausforderungen",noJoinedChallengesYet:"Du bist noch keiner Herausforderung beigetreten",noCreatedChallengesYet:"Du hast noch keine Herausforderungen erstellt",inviteFriends:"Freunde einladen",inviteFriendsDescription:"Teile Saiko mit deinen Freunden und fordere sie heraus, dir beizutreten!",yourInviteLink:"Dein Einladungslink",copyLink:"Link kopieren",share:"Teilen",inviteLinkCopied:"Link kopiert!",inviteLinkCopiedDescription:"Der Einladungslink wurde in die Zwischenablage kopiert",failedToCopyLink:"Link konnte nicht kopiert werden. Bitte versuche es erneut.",inviteFriendsTitle:"Tritt mir auf Saiko bei!",inviteFriendsMessage:"Tritt mir auf Saiko bei und lass uns gemeinsam Herausforderungen meistern!",inviteFriendsHelp:"Sende diesen Link an deine Freunde. Wenn sie sich mit deinem Link anmelden, werden sie mit dir verbunden!",inviteFriendsNotificationTitle:"Lade deine Freunde ein!",inviteFriendsNotificationDescription:"Teile Saiko mit deinen Freunden und fordere sie heraus, dir beizutreten! Je mehr Freunde, desto mehr Spa!",joinWhatsAppCommunity:"WhatsApp Community beitreten",close:"Schlieen",leaderboardDescription:"Siehe die Top-Performer in allen Herausforderungen",leaderboardRank:"Rang",leaderboardPlayer:"Spieler",leaderboardFinish:"Fertig",leaderboardPoints:"Punkte",leaderboardChallenges:"Herausforderungen",noParticipantsDescription:"Tritt einer Herausforderung bei, um auf der Bestenliste zu erscheinen",loadingLeaderboard:"Bestenliste wird geladen...",errorLoadingLeaderboard:"Fehler beim Laden der Bestenliste",tryAgain:"Erneut versuchen",refresh:"Aktualisieren",lastUpdated:"Zuletzt aktualisiert",totalScore:"Gesamtpunktzahl",challengeCount:"Anzahl Herausforderungen",viewProfile:"Profil ansehen",filterByChallenge:"Nach Herausforderung filtern",sortBy:"Sortieren nach",sortByPoints:"Punkte",sortByChallenges:"Herausforderungen",sortByRank:"Rang",ascending:"Aufsteigend",descending:"Absteigend",dateFormatShort:"d. MMM",dateFormatLong:"d. MMM yyyy",addProgress:"Fortschritt hinzufgen",enterProgressFor:"Gib deinen Fortschritt ein fr",enterUnit:"{unit} eingeben",notes:"Notizen",value:"Wert",optional:"optional",addNotesAboutProgress:"Fge Notizen zu deinem Fortschritt hinzu...",saveProgress:"Fortschritt speichern",resetObjective:"Ziel zurcksetzen",completeObjective:"Ziel abschlieen",confirmCompleteObjective:"Bist du sicher, dass du '{objective}' abschlieen mchtest?",completeButton:"Abschlieen",currentCompletions:"Aktuelle Abschlsse",addCompletions:"Abschlsse hinzufgen",createAccount:"Konto erstellen",enterInformation:"Gib deine Informationen ein, um ein Konto zu erstellen",enterFullName:"Max Mustermann",password:"Passwort",enterPassword:"",confirmPassword:"Passwort besttigen",enterConfirmPassword:"",creatingAccount:"Konto wird erstellt...",accountCreated:"Konto erstellt!",accountCreatedDescription:"Du kannst dich jetzt in dein Konto einloggen.",registrationFailed:"Registrierung fehlgeschlagen",emailInUse:"Diese E-Mail-Adresse wird bereits verwendet.",alreadyHaveAccount:"Du hast bereits ein Konto?",passwordsDoNotMatch:"Passwrter stimmen nicht berein",passwordTooShort:"Passwort muss mindestens 6 Zeichen lang sein",checkEmail:"E-Mail berprfen",checkEmailDescription:"Bitte berprfe deine E-Mail, um dein Konto zu besttigen",emailConfirmationSent:"Eine Besttigungs-E-Mail wurde an deine Adresse gesendet",resendEmail:"E-Mail erneut senden",emailSent:"E-Mail gesendet",emailSentDescription:"Die Besttigungs-E-Mail wurde erneut gesendet",resendFailed:"E-Mail konnte nicht gesendet werden. Bitte versuche es spter erneut",confirmEmail:"E-Mail besttigen",enterConfirmEmail:"E-Mail-Adresse erneut eingeben",emailsDoNotMatch:"E-Mail-Adressen stimmen nicht berein",loginTitle:"Anmelden",loginDescription:"Gib deine E-Mail und dein Passwort ein, um auf dein Konto zuzugreifen",enterEmailAndPassword:"Bitte gib E-Mail und Passwort ein",forgotPassword:"Passwort vergessen?",loggingIn:"Wird angemeldet...",loginSuccess:"Erfolg!",loginSuccessDescription:"Du wurdest erfolgreich angemeldet.",loginFailed:"Anmeldung fehlgeschlagen",invalidCredentials:"Ungltige E-Mail oder Passwort. Bitte versuche es erneut oder registriere dich, wenn du kein Konto hast.",noAccount:"Noch kein Konto?",demoNote:"Zu Demonstrationszwecken kannst du deine registrierte E-Mail mit einem beliebigen Passwort verwenden",forgotPasswordTitle:"Passwort vergessen",forgotPasswordDescription:"Gib deine E-Mail-Adresse ein und wir senden dir einen Link zum Zurcksetzen deines Passworts",sendResetLink:"Link senden",sending:"Wird gesendet...",resetPasswordEmailSent:"Der Link zum Zurcksetzen des Passworts wurde an deine E-Mail gesendet",resetPasswordFailed:"Link konnte nicht gesendet werden. Bitte versuche es erneut.",rememberPassword:"Passwort wieder eingefallen?",resetPassword:"Passwort zurcksetzen",resetPasswordDescription:"Gib dein neues Passwort unten ein",resetting:"Wird zurckgesetzt...",passwordResetSuccess:"Dein Passwort wurde erfolgreich zurckgesetzt",passwordResetFailed:"Passwort konnte nicht zurckgesetzt werden. Bitte versuche es erneut.",enterPasswordAndConfirm:"Bitte gib dein Passwort ein und besttige es",fileTooLarge:"Datei ist zu gro. Maximale Gre ist 5MB.",invalidFileType:"Ungltiger Dateityp. Bitte whle ein Bild aus.",avatarUpdated:"Profilbild wurde erfolgreich aktualisiert.",avatarUpdateFailed:"Profilbild konnte nicht aktualisiert werden. Bitte versuche es erneut.",cropImage:"Bild zuschneiden",objectiveReset:"Ziel zurckgesetzt",progressUpdated:"Fortschritt aktualisiert",objectiveResetDescription:"Das Ziel wurde zurckgesetzt.",progressUpdatedDescription:"Dein Fortschritt wurde erfolgreich gespeichert.",editActivity:"Aktivitt bearbeiten",editActivityFor:"Aktivitt bearbeiten fr",deleteActivity:"Aktivitt lschen",deleteActivityConfirmation:"Bist du sicher, dass du diese Aktivitt lschen mchtest? Diese Aktion kann nicht rckgngig gemacht werden.",pleaseEnterValidValue:"Bitte gib einen gltigen Wert ein",failedToUpdateActivity:"Aktivitt konnte nicht aktualisiert werden. Bitte versuche es erneut.",activityUpdated:"Aktivitt aktualisiert",activityUpdatedDescription:"Deine Aktivitt wurde erfolgreich aktualisiert.",failedToDeleteActivity:"Aktivitt konnte nicht gelscht werden. Bitte versuche es erneut.",activityDeleted:"Aktivitt gelscht",activityDeletedDescription:"Deine Aktivitt wurde erfolgreich gelscht.",dailyProgress:"Tglicher Fortschritt",weeklyProgress:"Wchentlicher Fortschritt",notCompleted:"Nicht abgeschlossen",completedToday:"Heute erledigt",completedThisWeek:"Woche erledigt",notCompletedToday:"Heute offen",thisWeekEntries:"Eintrge dieser Woche",completion:"Abschluss",completions:"Abschlsse",quickCompletion:"Schnellabschluss",addPastCompletion:"Vergangenen Tag abschlieen",selectDateToAddCompletion:"Whle ein Datum aus, um einen Abschluss fr einen vergangenen Tag hinzuzufgen",selectedDate:"Ausgewhlt",addCompletion:"Abschluss hinzufgen",alreadyCompleted:"Bereits abgeschlossen",alreadyCompletedForDate:"Dieser Tag wurde bereits abgeschlossen: {date}",invalidDate:"Ungltiges Datum",dateBeforeChallengeStart:"Das ausgewhlte Datum liegt vor dem Start der Herausforderung",dateAfterChallengeEnd:"Das ausgewhlte Datum liegt nach dem Ende der Herausforderung",mustSelectFullWeeks:"Fr Wochen-Challenges mssen vollstndige Wochen ausgewhlt werden. Startdatum muss ein Montag und Enddatum muss ein Sonntag sein.",stravaAppSetup:"Strava App Einrichtung",stravaAppSetupDescription:"Richte deine Strava App-Konfiguration ein",clientId:"Client ID",enterClientId:"Strava Client ID eingeben",clientSecret:"Client Secret",enterClientSecret:"Strava Client Secret eingeben",redirectUri:"Redirect URI",enterRedirectUri:"Redirect URI eingeben",saveConfiguration:"Konfiguration speichern",configurationSaved:"Strava-Konfiguration gespeichert",configurationSavedDescription:"Deine Strava-App ist jetzt konfiguriert",configurationFailed:"Konfiguration fehlgeschlagen",configurationFailedDescription:"Strava-Konfiguration konnte nicht gespeichert werden",stravaConnection:"Strava Verbindung",stravaConnectionDescription:"Verbinde dein Strava-Konto",connectStrava:"Mit Strava verbinden",disconnectStrava:"Von Strava trennen",connectedToStrava:"Mit Strava verbunden",stravaConnected:"Strava verbunden",stravaConnectedDescription:"Dein Strava-Konto ist erfolgreich verbunden",stravaDisconnected:"Strava getrennt",stravaDisconnectedDescription:"Dein Strava-Konto wurde getrennt",importProfile:"Profil importieren",importingProfile:"Profil wird importiert...",profileImported:"Profil importiert",profileImportedDescription:"Profilinformationen wurden erfolgreich von Strava importiert",profileImportFailed:"Profil-Import fehlgeschlagen",profileImportFailedDescription:"Profil konnte nicht von Strava importiert werden",stravaActivities:"Strava Aktivitten",stravaActivitiesDescription:"Importiere und betrachte deine letzten Aktivitten von Strava",loadActivities:"Aktivitten laden",loadingActivities:"Aktivitten werden geladen...",lastDays:"Letzte",days:"Tage",totalDistance:"Gesamtstrecke",totalTime:"Gesamtzeit",elevationGain:"Hhenmeter",activityType:"Aktivittstyp",distance:"Strecke",duration:"Dauer",averageSpeed:"Durchschnittsgeschwindigkeit",elevation:"Hhenmeter",calories:"Kalorien",kudos:"Kudos",location:"Ort",noActivitiesFound:"Keine Aktivitten gefunden",noActivitiesFoundDescription:"Keine Aktivitten fr den ausgewhlten Zeitraum gefunden",activitiesLoaded:"Aktivitten geladen",activitiesLoadedDescription:"{count} Aktivitten aus den letzten {days} Tagen geladen",activitiesLoadFailed:"Aktivitten konnten nicht geladen werden",activitiesLoadFailedDescription:"Aktivitten konnten nicht von Strava geladen werden",databaseSetupRequired:"Datenbank-Setup erforderlich",databaseSetupRequiredDescription:"Die Strava-Tabellen existieren noch nicht. Bitte fhre die Datenbank-Migrationen aus.",runMigrations:"Migrationen ausfhren",migrationInstructions:"Gehe zu deinem Supabase-Projekt und fhre die SQL-Migrationen aus",redirectUriHelp:'Dies sollte mit der "Authorization Callback Domain" in deinen Strava App-Einstellungen bereinstimmen.',createStravaApp:"Strava App erstellen",howToCreateStravaApp:"So erstellst du eine Strava App",stravaAppInstruction1:"Gehe zu",stravaAppInstruction2:'Klicke auf "Create an App"',stravaAppInstruction3:"Flle die erforderlichen Informationen aus:",stravaAppInstruction4:"Nach der Erstellung kopiere die Client ID und das Client Secret",stravaAppInstruction5:"Fge sie in das Formular oben ein und speichere",stravaAppInstructionsLink:"Strava API Einstellungen",applicationName:"Anwendungsname",applicationNameValue:"Dein App-Name",category:"Kategorie",categoryValue:'Whle "Other"',authorizationCallbackDomain:"Authorization Callback Domain",authorizationCallbackDomainValue:"Deine Domain",configured:"Konfiguriert",updateConfiguration:"Konfiguration aktualisieren",currentConfiguration:"Aktuelle Konfiguration",loadingStravaConnection:"Strava-Verbindung wird geladen...",connectStravaAccount:"Verbinde dein Strava-Konto, um automatisch deine Profilinformationen zu importieren und deine Fitnessdaten zu synchronisieren.",connecting:"Wird verbunden...",connectToStrava:"Mit Strava verbinden",connected:"Verbunden",expired:"Abgelaufen",stravaAthleteId:"Strava Athleten-ID",profileImportedSuccessfully:"Profilinformationen wurden erfolgreich von Strava importiert!",disconnect:"Trennen",disconnecting:"Wird getrennt...",stravaAccountDisconnected:"Strava-Konto erfolgreich getrennt",stravaDisconnectFailed:"Strava-Konto konnte nicht getrennt werden",importStravaActivities:"Strava Aktivitten importieren",tabGeneral:"Allgemein",tabStrava:"Strava",tabPersonalBest:"Persnliche Bestleistung",personalBest:"Persnliche Bestleistung",personalBestDescription:"Verfolge deine persnlichen Rekorde und Erfolge",addPersonalBest:"Bestleistung hinzufgen",editPersonalBest:"Bestleistung bearbeiten",achievementType:"Erfolgstyp",time:"Zeit",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden",date:"Datum",dateOptional:"Datum (optional)",notesOptional:"Notizen (optional)",addNotesAboutAchievement:"Fge Notizen zu diesem Erfolg hinzu...",noPersonalBests:"Noch keine Bestleistungen. Fge deine erste hinzu!",notSet:"Nicht gesetzt",personalBestSaved:"Bestleistung gespeichert",personalBestUpdated:"Bestleistung aktualisiert",personalBestAdded:"Bestleistung hinzugefgt",personalBestDeleted:"Bestleistung gelscht",failedToSavePersonalBest:"Bestleistung konnte nicht gespeichert werden",failedToDeletePersonalBest:"Bestleistung konnte nicht gelscht werden",failedToLoadPersonalBests:"Bestleistungen konnten nicht geladen werden",pleaseEnterValidTime:"Bitte gebe eine gltige Zeit ein",pleaseEnterValidDistance:"Bitte gebe eine gltige Distanz ein",confirmDelete:"Mchtest du diese Bestleistung wirklich lschen?",achievement5k:"5K",achievement10k:"Viertelmarathon (10K)",achievementHalfMarathon:"Halbmarathon",achievementMarathon:"Marathon",achievementOlympicTriathlon:"Triathlon - Olympisch",achievementLongestRun:"Lngster Lauf",achievementLongestBikeRide:"Lngste Radtour",feedTitle:"Aktivitts-Feed",feedLoading:"Feed wird geladen...",feedEmpty:"Noch keine Aktivitten im Feed.",feedLoadMore:"Mehr laden",feedLoadingMore:"Ldt...",feedUser:"Ein Benutzer",feedObjectiveProgress:'{user} hat Fortschritt in "{title}" gemacht',feedObjectiveProgressGeneric:"{user} hat Fortschritt gemacht",feedChallengeJoin:'{user} ist "{title}" beigetreten',feedChallengeJoinGeneric:"{user} ist einer Challenge beigetreten",feedChallengeComplete:'{user} hat "{title}" abgeschlossen',feedChallengeCompleteGeneric:"{user} hat eine Challenge abgeschlossen",feedDailyChallengeComplete:'{user} hat die Tages-Challenge "{title}" abgeschlossen',feedDailyChallengeCompleteGeneric:"{user} hat eine Tages-Challenge abgeschlossen",feedQuestJoin:'{user} hat "{title}" gestartet',feedQuestJoinGeneric:"{user} hat eine Quest gestartet",feedQuestComplete:'{user} hat "{title}" abgeschlossen',feedQuestCompleteGeneric:"{user} hat eine Quest abgeschlossen",feedActivityGeneric:"{user} hat eine Aktivitt durchgefhrt"},en:{challenges:"Challenges",quest:"Quest",leaderboard:"Leaderboard",profile:"Profiles",myChallenges:"My Challenges",login:"Login",signup:"Sign Up",logout:"Logout",myAccount:"My Account",copyright:"All rights reserved",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",app:"App",footerDescription:"Create and join exciting challenges with friends",heroTitlePart1:"Create and master",heroTitlePart2:"challenges",heroTitlePart3:"with friends",heroSubtitle:"Set goals, track progress, and compete with friends in customizable challenges that motivate you.",getStarted:"Get Started",createChallenge:"Create Challenge",browseChallenges:"Browse Challenges",goToDashboard:"Go to Dashboard",welcomeBack:"Welcome back, {name}! ",trackProgress:"Track your progress on active challenges",noActiveChallenges:"No active challenges",noActiveChallengesDescription:"You don't have any active challenges yet. Join one to get started!",progress:"Progress",objectives:"Objectives",points:"pts",ends:"Ends",streakDay:"Day",streakDays:"Days",streak:"Streak",daysLeft:"d left",daysUntilStart:"d until start",startingToday:"Starting today",startsOn:"Starts on",challengeNotStartedYet:"This challenge hasn't started yet",weeklyActivity:"Weekly Activity",dailyChallenge:"Daily Challenge",dailyChallengeTitle:"Daily Challenge",tapToComplete:"Complete today",challengeCompleted:"Challenge completed for today! ",challengeInactive:"Inactive",challengeInactiveDescription:"This challenge is currently not active. You can only add progress during the active period.",howItWorks:"How It Works",howItWorksDescription:"Saiko makes it easy to create, join, and conquer challenges",createChallenges:"Create Challenges",createChallengesDescription:"Design custom challenges with specific objectives, targets, and rewards",trackProgressDescription:"Monitor your achievements and see real-time updates on your objectives",winPoints:"Win Points",winPointsDescription:"Earn points for every milestone and compete on the leaderboard",createNewChallenge:"Create New Challenge",challengeTitle:"Challenge Title",challengeTitlePlaceholder:"e.g., 30-Day Fitness Challenge",description:"Description",descriptionPlaceholder:"Describe what this challenge is about...",challengeDuration:"Challenge Duration",pickDateRange:"Pick a date range",startDate:"Start Date",endDate:"End Date",pickStartDate:"Pick start date",pickEndDate:"Pick end date",challengeObjectives:"Challenge Objectives",addObjective:"Add Objective",objectiveTitle:"Objective Title",objectiveTitlePlaceholder:"e.g., Daily Steps",objectiveDescription:"Description",objectiveDescriptionPlaceholder:"Describe what participants need to do...",targetValue:"Target Value",targetValuePlaceholder:"e.g., 10000",unit:"Unit",unitPlaceholder:"e.g., steps",pointsPerUnit:"Points per Unit",pointsPerUnitPlaceholder:"e.g., 1",capedPoints:"Cap points at target value",noEndDate:"No end date (ongoing challenge)",ongoing:"Ongoing",repeatingChallenge:"Individual",repeatingChallengeDurationHint:"Each user will get this many days starting from when they join",collaborativeChallenge:"Collaborative Challenge",collaborativeChallengeDescription:"All participants contribute to shared objectives. Progress is aggregated across all participants.",individualChallenge:"Individual Challenge",individualChallengeDescription:"Each participant tracks their own progress toward objectives. Everyone has their own entries and points.",challengeMode:"Challenge Mode",challengeModeInfo:"Challenge Mode",challengeType:"Challenge Type",selectChallengeType:"Select challenge type",challengeTypeInfo:"Challenge Types",standardChallenge:"Standard Challenge",standardChallengeDescription:"Track progress toward specific targets. Earn points based on how much you complete each objective.",bingoChallenge:"Bingo Challenge",bingoChallengeDescription:"Complete objectives in a 5x5 grid. Win by completing rows, columns, or diagonals. Requires exactly 25 objectives.",completionChallenge:"Daily Challenge",completionChallengeDescription:"Track daily completion. Progress is measured by the number of days you complete your objectives.",weeklyChallenge:"Weekly Challenge",weeklyChallengeDescription:"Track weekly completion. Progress is measured by the number of weeks you complete your objectives. Only full weeks can be selected.",checklistChallenge:"Checklist Challenge",checklistChallengeDescription:"Simple check-off list. Each objective is either completed or not. Perfect for tracking tasks or achievements.",remove:"Remove",saving:"Saving...",saveChallenge:"Save Challenge",error:"Error",fillRequiredFields:"Please fill out all required fields",completeObjectiveDetails:"Please complete all objective details",joinChallenge:"Join Challenge",joinRepeatingChallenge:"Start Challenge Today?",joinRepeatingChallengeDescription:"This challenge will start today. Are you sure you want to join and start the challenge now?",startToday:"Yes, start today",leaveChallenge:"Leave Challenge",leaveChallengeConfirmation:"Leave Challenge?",leaveChallengeConfirmationDescription:"Are you sure you want to leave this challenge? You will lose all your progress and can rejoin later.",leaving:"Leaving...",challengeInfo:"Challenge Information",editChallenge:"Edit Challenge",shareChallenge:"Share Challenge",shareChallengeMessage:"Check out this challenge: {title}",linkCopied:"Link copied!",challengeLinkCopied:"Challenge link has been copied to your clipboard",updateChallenge:"Update Challenge",challengeNotStartedYet:"Challenge has not started yet",challengeProgress:"Progress",totalPoints:"Total Points",objective:"Objective",participants:"Participants",noParticipants:"No participants yet",noChallenges:"You haven't created any challenges yet",noJoinedChallenges:"You haven't joined any challenges yet",noJoinedChallengesDescription:"Join existing challenges or create your own",startFirstChallenge:"Start your first challenge now",createdBy:"Created by",challengeStats:"Info",status:"Status",yourPoints:"Your Points",complete:"complete",activities:"Activities",noActivities:"No Activities",noActivitiesDescription:"No activities have been recorded for this challenge yet",addedValue:"Added {value}",forObjective:"For objective",challengeNotFound:"Challenge not found",challengeNotFoundDescription:"The requested challenge could not be found.",backToChallenges:"Back to Challenges",total:"Total",yourProgress:"Your Progress",selectParticipant:"Select Participant",recentActivity:"Recent Activity",updateProfile:"Update Profile",profileUpdated:"Profile updated",profileUpdatedDescription:"Your profile has been updated successfully.",profileUpdateFailed:"Failed to update profile. Please try again.",displayName:"Display Name",enterDisplayName:"Enter display name",email:"Email",enterEmail:"Enter email address",close:"Close",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",success:"Success",next:"Next",previous:"Previous",morePages:"More Pages",loadMore:"Load More",uploading:"Uploading...",loadingDashboard:"Loading dashboard...",errorLoadingChallenge:"Error loading challenge",completing:"Completing...",completeChallenge:"Complete Challenge",notApplicable:"N/A",installAppTitle:"Install Saiko",installAppDescription:"Add Saiko to your device for faster access and a full-screen experience.",installAppDismiss:"Not now",installAppConfirm:"Install as app",target:"Target",deadline:"Deadline",viewChallenge:"View Challenge",joining:"Joining...",active:"Active",upcoming:"Upcoming",available:"Available",completed:"Completed",searchChallenges:"Search challenges...",allChallenges:"All ",myJoinedChallenges:"Joined",createdByMe:"Created by Me",noChallengesFound:"No challenges found",noChallengesFoundDescription:"Try adjusting your search or create a new challenge",noCreatedChallenges:"You haven't created any challenges yet",noCreatedChallengesDescription:"Start your first challenge now",showCompleted:"Show Completed",hideCompleted:"Hide Completed",cannotJoinCompletedChallenge:"Cannot join a completed challenge",myProfile:"My Profile",profileInformation:"Profile Information",updatePersonalDetails:"Update your personal details here",fullName:"Full Name",saveChanges:"Save Changes",logOut:"Log Out",joinedChallenges:"Joined Challenges",createdChallenges:"Created Challenges",noJoinedChallengesYet:"You haven't joined any challenges yet",noCreatedChallengesYet:"You haven't created any challenges yet",inviteFriends:"Invite Friends",inviteFriendsDescription:"Share Saiko with your friends and challenge them to join you!",yourInviteLink:"Your Invite Link",copyLink:"Copy link",share:"Share",inviteLinkCopied:"Link copied!",inviteLinkCopiedDescription:"The invite link has been copied to your clipboard",failedToCopyLink:"Failed to copy link. Please try again.",inviteFriendsTitle:"Join me on Saiko!",inviteFriendsMessage:"Join me on Saiko and let's take on challenges together!",inviteFriendsHelp:"Send this link to your friends. When they sign up using your link, they'll be connected to you!",inviteFriendsNotificationTitle:"Invite Your Friends!",inviteFriendsNotificationDescription:"Share Saiko with your friends and challenge them to join you! The more friends, the more fun!",joinWhatsAppCommunity:"Join WhatsApp Community",leaderboardDescription:"See the top performers across all challenges",leaderboardRank:"Rank",leaderboardPlayer:"Player",leaderboardFinish:"Finish",leaderboardPoints:"Points",leaderboardChallenges:"Challenges",noParticipantsDescription:"Join a challenge to appear on the leaderboard",loadingLeaderboard:"Loading leaderboard...",errorLoadingLeaderboard:"Error loading leaderboard",tryAgain:"Try again",refresh:"Refresh",lastUpdated:"Last updated",totalScore:"Total Score",challengeCount:"Challenge Count",viewProfile:"View Profile",filterByChallenge:"Filter by challenge",sortBy:"Sort by",sortByPoints:"Points",sortByChallenges:"Challenges",sortByRank:"Rank",ascending:"Ascending",descending:"Descending",dateFormatShort:"MMM d",dateFormatLong:"MMM d, yyyy",addProgress:"Add Progress",enterProgressFor:"Enter your progress for",enterUnit:"Enter {unit}",notes:"Notes",value:"Value",optional:"optional",addNotesAboutProgress:"Add any notes about your progress...",saveProgress:"Save Progress",resetObjective:"Reset Objective",completeObjective:"Complete Objective",confirmCompleteObjective:"Are you sure you want to complete '{objective}'?",completeButton:"Complete",currentCompletions:"Current Completions",addCompletions:"Add Completions",createAccount:"Create Account",enterInformation:"Enter your information to create an account",enterFullName:"John Doe",password:"Password",enterPassword:"",confirmPassword:"Confirm Password",enterConfirmPassword:"",creatingAccount:"Creating Account...",accountCreated:"Account created!",accountCreatedDescription:"You can now log in to your account.",registrationFailed:"Registration failed",emailInUse:"This email may already be in use.",alreadyHaveAccount:"Already have an account?",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",checkEmail:"Check Your Email",checkEmailDescription:"Please check your email to confirm your account",emailConfirmationSent:"A confirmation email has been sent to your address",resendEmail:"Resend Email",emailSent:"Email Sent",emailSentDescription:"The confirmation email has been resent",resendFailed:"Failed to send email. Please try again later",confirmEmail:"Confirm Email",enterConfirmEmail:"Enter email address again",emailsDoNotMatch:"Email addresses do not match",loginTitle:"Login",loginDescription:"Enter your email and password to access your account",enterEmailAndPassword:"Please enter both email and password",forgotPassword:"Forgot password?",loggingIn:"Logging in...",loginSuccess:"Success!",loginSuccessDescription:"You have been logged in.",loginFailed:"Login Failed",invalidCredentials:"Invalid email or password. Please try again or sign up if you don't have an account.",noAccount:"Don't have an account?",demoNote:"For demo purposes, you can use your registered email with any password",forgotPasswordTitle:"Forgot Password",forgotPasswordDescription:"Enter your email address and we'll send you a link to reset your password",sendResetLink:"Send Reset Link",sending:"Sending...",resetPasswordEmailSent:"Password reset link has been sent to your email",resetPasswordFailed:"Failed to send reset link. Please try again.",rememberPassword:"Remember your password?",resetPassword:"Reset Password",resetPasswordDescription:"Enter your new password below",resetting:"Resetting...",passwordResetSuccess:"Your password has been reset successfully",passwordResetFailed:"Failed to reset password. Please try again.",enterPasswordAndConfirm:"Please enter and confirm your password",fileTooLarge:"File is too large. Maximum size is 5MB.",invalidFileType:"Invalid file type. Please select an image.",avatarUpdated:"Profile picture has been updated successfully.",avatarUpdateFailed:"Failed to update profile picture. Please try again.",cropImage:"Crop Image",objectiveReset:"Objective Reset",progressUpdated:"Progress Updated",objectiveResetDescription:"The objective has been reset.",progressUpdatedDescription:"Your progress has been saved successfully.",editActivity:"Edit Activity",editActivityFor:"Edit activity for",deleteActivity:"Delete Activity",deleteActivityConfirmation:"Are you sure you want to delete this activity? This action cannot be undone.",pleaseEnterValidValue:"Please enter a valid value",failedToUpdateActivity:"Failed to update activity. Please try again.",activityUpdated:"Activity Updated",activityUpdatedDescription:"Your activity has been updated successfully.",failedToDeleteActivity:"Failed to delete activity. Please try again.",activityDeleted:"Activity Deleted",activityDeletedDescription:"Your activity has been deleted successfully.",dailyProgress:"Daily Progress",weeklyProgress:"Weekly Progress",notCompleted:"Not completed",completedToday:"Completed today",completedThisWeek:"Week completed",notCompletedToday:"Not completed today",thisWeekEntries:"This Week's Entries",completion:"completion",completions:"completions",quickCompletion:"Quick Completion",addPastCompletion:"Add Past Completion",selectDateToAddCompletion:"Select a date to add a completion for a past day",selectedDate:"Selected",addCompletion:"Add Completion",alreadyCompleted:"Already Completed",alreadyCompletedForDate:"This date has already been completed: {date}",invalidDate:"Invalid Date",dateBeforeChallengeStart:"The selected date is before the challenge start date",dateAfterChallengeEnd:"The selected date is after the challenge end date",mustSelectFullWeeks:"For weekly challenges, you must select full weeks. Start date must be a Monday and end date must be a Sunday.",stravaAppSetup:"Strava App Setup",stravaAppSetupDescription:"Set up your Strava app configuration",clientId:"Client ID",enterClientId:"Enter Strava Client ID",clientSecret:"Client Secret",enterClientSecret:"Enter Strava Client Secret",redirectUri:"Redirect URI",enterRedirectUri:"Enter Redirect URI",saveConfiguration:"Save Configuration",configurationSaved:"Strava configuration saved",configurationSavedDescription:"Your Strava app is now configured",configurationFailed:"Configuration failed",configurationFailedDescription:"Strava configuration could not be saved",stravaConnection:"Strava Connection",stravaConnectionDescription:"Connect your Strava account",connectStrava:"Connect to Strava",disconnectStrava:"Disconnect from Strava",connectedToStrava:"Connected to Strava",stravaConnected:"Strava connected",stravaConnectedDescription:"Your Strava account has been successfully connected",stravaDisconnected:"Strava disconnected",stravaDisconnectedDescription:"Your Strava account has been disconnected",importProfile:"Import Profile",importingProfile:"Importing profile...",profileImported:"Profile imported",profileImportedDescription:"Profile information has been successfully imported from Strava",profileImportFailed:"Profile import failed",profileImportFailedDescription:"Profile could not be imported from Strava",stravaActivities:"Strava Activities",stravaActivitiesDescription:"Import and view your recent activities from Strava",loadActivities:"Load Activities",loadingActivities:"Loading activities...",lastDays:"Last",days:"days",totalDistance:"Total Distance",totalTime:"Total Time",elevationGain:"Elevation Gain",activityType:"Activity Type",distance:"Distance",duration:"Duration",averageSpeed:"Average Speed",elevation:"Elevation",calories:"Calories",kudos:"Kudos",location:"Location",noActivitiesFound:"No activities found",noActivitiesFoundDescription:"No activities found for the selected time period",activitiesLoaded:"Activities loaded",activitiesLoadedDescription:"Loaded {count} activities from the last {days} days",activitiesLoadFailed:"Failed to load activities",activitiesLoadFailedDescription:"Activities could not be loaded from Strava",databaseSetupRequired:"Database setup required",databaseSetupRequiredDescription:"The Strava tables don't exist yet. Please run the database migrations.",runMigrations:"Run migrations",migrationInstructions:"Go to your Supabase project and run the SQL migrations",redirectUriHelp:'This should match the "Authorization Callback Domain" in your Strava app settings.',createStravaApp:"Create Strava App",howToCreateStravaApp:"How to Create a Strava App",stravaAppInstruction1:"Go to",stravaAppInstruction2:'Click "Create an App"',stravaAppInstruction3:"Fill in the required information:",stravaAppInstruction4:"After creation, copy the Client ID and Client Secret",stravaAppInstruction5:"Paste them in the form above and save",stravaAppInstructionsLink:"Strava API Settings",applicationName:"Application Name",applicationNameValue:"Your app name",category:"Category",categoryValue:'Choose "Other"',authorizationCallbackDomain:"Authorization Callback Domain",authorizationCallbackDomainValue:"Your domain",configured:"Configured",updateConfiguration:"Update Configuration",currentConfiguration:"Current Configuration",loadingStravaConnection:"Loading Strava connection...",connectStravaAccount:"Connect your Strava account to automatically import your profile information and sync your fitness data.",connecting:"Connecting...",connectToStrava:"Connect to Strava",connected:"Connected",expired:"Expired",stravaAthleteId:"Strava Athlete ID",profileImportedSuccessfully:"Profile information imported from Strava successfully!",disconnect:"Disconnect",disconnecting:"Disconnecting...",stravaAccountDisconnected:"Strava account disconnected successfully",stravaDisconnectFailed:"Failed to disconnect Strava account",importStravaActivities:"Import Strava Activities",tabGeneral:"General",tabStrava:"Strava",tabPersonalBest:"Personal Best",personalBest:"Personal Best",personalBestDescription:"Track your personal records and achievements",addPersonalBest:"Add Personal Best",editPersonalBest:"Edit Personal Best",achievementType:"Achievement Type",time:"Time",hours:"Hours",minutes:"Minutes",seconds:"Seconds",date:"Date",dateOptional:"Date (optional)",notesOptional:"Notes (optional)",addNotesAboutAchievement:"Add any notes about this achievement...",noPersonalBests:"No personal bests yet. Add your first one!",notSet:"Not set",personalBestSaved:"Personal best saved",personalBestUpdated:"Personal best updated",personalBestAdded:"Personal best added",personalBestDeleted:"Personal best deleted",failedToSavePersonalBest:"Failed to save personal best",failedToDeletePersonalBest:"Failed to delete personal best",failedToLoadPersonalBests:"Failed to load personal bests",pleaseEnterValidTime:"Please enter a valid time",pleaseEnterValidDistance:"Please enter a valid distance",confirmDelete:"Are you sure you want to delete this personal best?",achievement5k:"5K",achievement10k:"Quarter Marathon (10K)",achievementHalfMarathon:"Half Marathon",achievementMarathon:"Marathon",achievementOlympicTriathlon:"Olympic Triathlon",achievementLongestRun:"Longest Run",achievementLongestBikeRide:"Longest Bike Ride",feedTitle:"Activity Feed",feedLoading:"Loading feed...",feedEmpty:"No activities in the feed yet.",feedLoadMore:"Load more",feedLoadingMore:"Loading...",feedUser:"A user",feedObjectiveProgress:'{user} made progress in "{title}"',feedObjectiveProgressGeneric:"{user} made progress",feedChallengeJoin:'{user} joined "{title}"',feedChallengeJoinGeneric:"{user} joined a challenge",feedChallengeComplete:'{user} completed "{title}"',feedChallengeCompleteGeneric:"{user} completed a challenge",feedDailyChallengeComplete:'{user} completed the daily challenge "{title}"',feedDailyChallengeCompleteGeneric:"{user} completed a daily challenge",feedQuestJoin:'{user} started "{title}"',feedQuestJoinGeneric:"{user} started a quest",feedQuestComplete:'{user} completed "{title}"',feedQuestCompleteGeneric:"{user} completed a quest",feedActivityGeneric:"{user} performed an activity"}},pt=(e="en")=>p.useMemo(()=>({t:t=>v1[e][t]||v1.en[t]}),[e]),nD=p.createContext(void 0);function BU({children:e}){const[t,n]=p.useState(()=>{const r=localStorage.getItem("language");return r||(navigator.language.split("-")[0]==="de"?"de":"en")});return p.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]),o.jsx(nD.Provider,{value:{language:t,setLanguage:n},children:e})}function gt(){const e=p.useContext(nD);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function rD(e,t,n=!1){return n?Math.min(t,e.targetValue)*e.pointsPerUnit:t*e.pointsPerUnit}function gu(e,t,n=!1,r){return t.reduce((s,i)=>{const a=e.find(l=>l.id===i.objectiveId);return a?r==="completion"||r==="weekly"?s+i.currentValue*a.pointsPerUnit:r==="checklist"||r==="collection"?s+(i.currentValue>=1?1:0):s+rD(a,i.currentValue,n):s},0)}function Mn(e){const t=new Date(e),n=t.getDay();let r;n===0?r=-6:r=-(n-1);const s=new Date(t);return s.setDate(t.getDate()+r),s.setHours(0,0,0,0),s}function pn(e){const t=Mn(e),n=new Date(t);return n.setDate(n.getDate()+6),n.setHours(23,59,59,999),n}function rn(e){const t=Mn(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}function sD(e,t){const n=Mn(e),r=pn(t),s=new Date(e);s.setHours(0,0,0,0);const i=new Date(n);i.setHours(0,0,0,0);const a=new Date(t);a.setHours(0,0,0,0);const l=new Date(r);l.setHours(0,0,0,0);const c=e.getDay()===1,d=s.getTime()===i.getTime(),u=t.getDay()===0,f=a.getTime()===l.getTime();return c&&d&&u&&f}function ps(e,t){const n=new Date(e);n.setHours(0,0,0,0);const r=new Date(t);r.setHours(0,0,0,0);const s=r.getTime()-n.getTime();return Math.ceil(s/(1e3*60*60*24))+1===7?1:VU(e,t).length}function VU(e,t){const n=[],r=new Date(Mn(e)),s=new Date(pn(t));for(;r<=s;)n.push(rn(r)),r.setDate(r.getDate()+7);return n}const zU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function $c(e){return typeof e=="string"&&zU.test(e)}const fn=[];for(let e=0;e<256;++e)fn.push((e+256).toString(16).slice(1));function WU(e,t=0){return(fn[e[t+0]]+fn[e[t+1]]+fn[e[t+2]]+fn[e[t+3]]+"-"+fn[e[t+4]]+fn[e[t+5]]+"-"+fn[e[t+6]]+fn[e[t+7]]+"-"+fn[e[t+8]]+fn[e[t+9]]+"-"+fn[e[t+10]]+fn[e[t+11]]+fn[e[t+12]]+fn[e[t+13]]+fn[e[t+14]]+fn[e[t+15]]).toLowerCase()}let bp;const HU=new Uint8Array(16);function qU(){if(!bp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bp=crypto.getRandomValues.bind(crypto)}return bp(HU)}const KU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y1={randomUUID:KU};function Hr(e,t,n){var s;if(y1.randomUUID&&!t&&!e)return y1.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??qU();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,WU(r)}const iD=p.createContext(void 0),YU=({children:e})=>{const{user:t}=Ct(),{toast:n}=un(),{language:r}=gt(),{t:s}=pt(r),i=async k=>{try{const{data:S,error:N}=await J.from("challenges").select("*").eq("id",k).single();if(N)return n({title:"Error",description:N.message,variant:"destructive"}),null;if(!S)return null;const{data:O,error:I}=await J.from("objectives").select("*").eq("challenge_id",k).order("order",{ascending:!0});let $=[];I?S.objectives&&Array.isArray(S.objectives)&&($=S.objectives):O&&O.length>0?$=O.map(L=>({id:L.id,title:L.title,description:L.description||void 0,targetValue:L.target_value!==null?Number(L.target_value):void 0,unit:L.unit||void 0,pointsPerUnit:L.points_per_unit!==null?Number(L.points_per_unit):void 0})):S.objectives&&Array.isArray(S.objectives)&&($=S.objectives);const F=Array.isArray(S.participants)?S.participants:[];return{...S,objectives:$,participants:F,isRepeating:S.isRepeating||!1,isCollaborative:S.isCollaborative||!1,startDate:S.startDate||"",endDate:S.endDate||void 0}}catch{return n({title:"Error",description:"Failed to load challenge",variant:"destructive"}),null}},a=async()=>{if(!t)return[];try{const{data:k,error:S}=await J.from("challenges").select("*");if(S)return n({title:"Error",description:S.message,variant:"destructive"}),[];const N=(k||[]).filter(E=>(Array.isArray(E.participants)?E.participants:[]).includes(t.id)),O=N.map(E=>E.id),{data:I}=await J.from("objectives").select("*").in("challenge_id",O).order("challenge_id",{ascending:!0}).order("order",{ascending:!0}),$={};return I&&I.forEach(E=>{$[E.challenge_id]||($[E.challenge_id]=[]),$[E.challenge_id].push({id:E.id,title:E.title,description:E.description||void 0,targetValue:E.target_value!==null?Number(E.target_value):void 0,unit:E.unit||void 0,pointsPerUnit:E.points_per_unit!==null?Number(E.points_per_unit):void 0})}),await Promise.all(N.map(async E=>{const L=$[E.id]||(Array.isArray(E.objectives)?E.objectives:[]),A=await l(E.id,E.challengeType),P=gu(L,A,E.capedPoints,E.challengeType);return{userId:t.id,challengeId:E.id,joinedAt:new Date().toISOString(),totalScore:P}}))}catch{return n({title:"Error",description:"Failed to load user challenges",variant:"destructive"}),[]}},l=async(k,S)=>{if(!t)return[];try{const N=await i(k),O=(N==null?void 0:N.isCollaborative)||!1;let I=J.from("entries").select("*").eq("challenge_id",k);O||(I=I.eq("user_id",t.id));const{data:$,error:F}=await I.order("created_at",{ascending:!1}).returns();if(F)return n({title:"Error",description:"Failed to load progress data",variant:"destructive"}),[];if($){const E=N||await i(k);if(!E)return[];if(S==="weekly"){const P=O?"collective":t.id,R={};return N.objectives.forEach(j=>{const M=`${k}-${j.id}`;R[M]={userId:P,challengeId:k,objectiveId:j.id,currentValue:0}}),$.forEach(j=>{const M=`${j.challenge_id}-${j.objective_id}`;R[M]&&(R[M].currentValue+=1)}),Object.values(R)}if(S==="completion"){const P={},R={},T=O?"collective":t.id;return $.forEach(M=>{const U=`${M.challenge_id}-${M.objective_id}`;P[U]||(P[U]={userId:T,challengeId:M.challenge_id,objectiveId:M.objective_id,currentValue:0});const V=Oa(M.created_at);R[M.objective_id]||(R[M.objective_id]=new Set),R[M.objective_id].add(V)}),E.objectives.forEach(M=>{var z;const U=`${k}-${M.id}`;P[U]||(P[U]={userId:T,challengeId:k,objectiveId:M.id,currentValue:0});const V=((z=R[M.id])==null?void 0:z.size)||0;P[U].currentValue=V}),Object.values(P)}const L=$.reduce((P,R)=>{const T=`${R.challenge_id}-${R.objective_id}`;return P[T]||(P[T]={userId:R.user_id,challengeId:R.challenge_id,objectiveId:R.objective_id,currentValue:0}),P[T].currentValue+=R.value||0,P},{});return Object.values(L)}return[]}catch{return n({title:"Error",description:"Failed to load challenge progress",variant:"destructive"}),[]}},c=async k=>{var P,R,T,j,M,U,V,z;if(!t)return n({title:"Error",description:"You must be logged in to create a challenge",variant:"destructive"}),!1;let S;if(k.isRepeating)k.challengeType==="completion"?S=365*(((P=k.objectives[0])==null?void 0:P.pointsPerUnit)||1):k.challengeType==="weekly"?S=52*(((R=k.objectives[0])==null?void 0:R.pointsPerUnit)||1):k.challengeType==="checklist"||k.challengeType==="collection"?S=k.objectives.length:S=k.objectives.reduce((B,q)=>B+(q.targetValue||0)*(q.pointsPerUnit||0),0);else if(k.challengeType==="completion"){const B=k.startDate?new Date(k.startDate):null,q=k.endDate?new Date(k.endDate):null;if(B&&q){const W=Math.ceil((q.getTime()-B.getTime())/864e5)+1,G=((T=k.objectives[0])==null?void 0:T.pointsPerUnit)||1;S=W*G}else S=365*(((j=k.objectives[0])==null?void 0:j.pointsPerUnit)||1)}else if(k.challengeType==="weekly"){const B=k.startDate?new Date(k.startDate):null,q=k.endDate?new Date(k.endDate):null;if(B&&q){const W=ps(B,q),G=((M=k.objectives[0])==null?void 0:M.pointsPerUnit)||1;S=W*G}else S=52*(((U=k.objectives[0])==null?void 0:U.pointsPerUnit)||1)}else k.challengeType==="checklist"||k.challengeType==="collection"?S=k.objectives.length:S=k.objectives.reduce((B,q)=>B+(q.targetValue||0)*(q.pointsPerUnit||0),0);const N={...k,createdById:t.id,creatorName:t.name,participants:[],totalPoints:S,objectives:k.objectives,challengeType:k.challengeType||"standard",isRepeating:k.isRepeating||!1,isCollaborative:k.isCollaborative||!1,startDate:k.isRepeating?void 0:k.startDate,endDate:k.isRepeating?void 0:k.endDate},O=N.objectives.map(B=>$c(B.id)?B:(console.warn(`Invalid UUID for objective "${B.title}", generating new one`),{...B,id:Hr()})),I={...N,objectives:O},{id:$,...F}=I,E={title:F.title,description:F.description,objectives:F.objectives,participants:F.participants,challengeType:F.challengeType||"standard",isCollaborative:F.isCollaborative||!1,isRepeating:F.isRepeating||!1,capedPoints:F.capedPoints||!1,createdById:F.createdById,creatorName:F.creatorName,startDate:F.startDate||null,endDate:F.endDate||null,totalPoints:F.totalPoints},{data:L,error:A}=await J.from("challenges").insert([E]).select().single();if(A)return A.code==="23505"||(V=A.message)!=null&&V.includes("duplicate key")||(z=A.message)!=null&&z.includes("challenges_pkey")?(n({title:"Error",description:"A challenge with this ID already exists. Please try again or contact support if this persists.",variant:"destructive"}),console.error("Duplicate key error - database sequence may be out of sync:",A)):n({title:"Error",description:A.message,variant:"destructive"}),!1;if(!L)return n({title:"Error",description:"Challenge created but failed to retrieve data",variant:"destructive"}),!1;if(O.length>0){const B=O.map((W,G)=>({id:W.id,challenge_id:L.id,title:W.title,description:W.description||null,target_value:W.targetValue!==void 0?W.targetValue:null,unit:W.unit||null,points_per_unit:W.pointsPerUnit!==void 0?W.pointsPerUnit:null,order:G})),{error:q}=await J.from("objectives").insert(B);q&&n({title:"Warning",description:"Challenge created but some objectives may not have been saved correctly",variant:"destructive"})}return n({title:"Success!",description:"Challenge created successfully"}),!0},D={createChallenge:c,updateChallenge:async(k,S)=>{var E,L,A,P,R,T;if(!t){n({title:"Error",description:"You must be logged in to update a challenge",variant:"destructive"});return}const N=await i(k);if(!N){n({title:"Error",description:"Challenge not found",variant:"destructive"});return}if(N.createdById!==t.id){n({title:"Error",description:"You can only edit challenges you created",variant:"destructive"});return}let O;if(S.isRepeating)S.challengeType==="completion"?O=365*(((E=S.objectives[0])==null?void 0:E.pointsPerUnit)||1):S.challengeType==="weekly"?O=52*(((L=S.objectives[0])==null?void 0:L.pointsPerUnit)||1):S.challengeType==="checklist"||S.challengeType==="collection"?O=S.objectives.length:O=S.objectives.reduce((j,M)=>j+(M.targetValue||0)*(M.pointsPerUnit||0),0);else if(S.challengeType==="completion"){const j=S.startDate?new Date(S.startDate):null,M=S.endDate?new Date(S.endDate):null;if(j&&M){const U=Math.ceil((M.getTime()-j.getTime())/864e5)+1,V=((A=S.objectives[0])==null?void 0:A.pointsPerUnit)||1;O=U*V}else O=365*(((P=S.objectives[0])==null?void 0:P.pointsPerUnit)||1)}else if(S.challengeType==="weekly"){const j=S.startDate?new Date(S.startDate):null,M=S.endDate?new Date(S.endDate):null;if(j&&M){const U=ps(j,M),V=((R=S.objectives[0])==null?void 0:R.pointsPerUnit)||1;O=U*V}else O=52*(((T=S.objectives[0])==null?void 0:T.pointsPerUnit)||1)}else S.challengeType==="checklist"||S.challengeType==="collection"?O=S.objectives.length:O=S.objectives.reduce((j,M)=>j+(M.targetValue||0)*(M.pointsPerUnit||0),0);const I=S.objectives.map(j=>$c(j.id)?j:(console.warn(`Invalid UUID for objective "${j.title}", generating new one`),{...j,id:Hr()})),$={title:S.title,description:S.description,startDate:S.isRepeating?null:S.startDate,endDate:S.isRepeating?null:S.endDate,challengeType:S.challengeType||"standard",capedPoints:S.capedPoints,objectives:I,totalPoints:O,isRepeating:S.isRepeating||!1,isCollaborative:S.isCollaborative||!1},{error:F}=await J.from("challenges").update($).eq("id",k);if(F){n({title:"Error",description:F.message,variant:"destructive"});return}if(await J.from("objectives").delete().eq("challenge_id",k),I.length>0){const j=I.map((U,V)=>({id:U.id,challenge_id:k,title:U.title,description:U.description||null,target_value:U.targetValue!==void 0?U.targetValue:null,unit:U.unit||null,points_per_unit:U.pointsPerUnit!==void 0?U.pointsPerUnit:null,order:V})),{error:M}=await J.from("objectives").insert(j);M&&n({title:"Warning",description:"Challenge updated but some objectives may not have been saved correctly",variant:"destructive"})}n({title:"Success!",description:"Challenge updated successfully"})},joinChallenge:async k=>{if(!t){n({title:"Error",description:"You must be logged in to join a challenge",variant:"destructive"});return}try{const{data:S,error:N}=await J.from("challenges").select("participants, startDate, endDate, isRepeating").eq("id",k).single();if(N)throw N;const O=(S==null?void 0:S.isRepeating)||!1;if(!O&&(S!=null&&S.endDate)){const E=new Date(S.endDate);if(new Date>E){n({title:s("error"),description:s("cannotJoinCompletedChallenge"),variant:"destructive"});return}}const I=Array.isArray(S==null?void 0:S.participants)?S.participants:[];if(I.includes(t.id)){n({title:"Info",description:"You've already joined this challenge"});return}const{error:$}=await J.from("challenges").update({participants:[...I,t.id]}).eq("id",k);if($)throw $;if(O){const E=new Date;E.setHours(0,0,0,0);let L=null;if(S!=null&&S.startDate&&(S!=null&&S.endDate)){const P=new Date(S.startDate),R=new Date(S.endDate);P.setHours(0,0,0,0),R.setHours(23,59,59,999);const T=R.getTime()-P.getTime();L=new Date(E.getTime()+T),L.setHours(23,59,59,999)}else L=new Date(E),L.setDate(L.getDate()+30),L.setHours(23,59,59,999);const{error:A}=await J.from("user_challenge_starts").upsert({user_id:t.id,challenge_id:k,start_date:E.toISOString(),end_date:L.toISOString()},{onConflict:"user_id,challenge_id"});A&&console.error("Error recording challenge start date:",A)}const{activityFeedService:F}=await Bt(async()=>{const{activityFeedService:E}=await Promise.resolve().then(()=>Rs);return{activityFeedService:E}},void 0);F.createActivity(t.id,"challenge_join",{challengeId:k}).catch(E=>console.error("Failed to create activity feed entry:",E)),n({title:"Success!",description:"You've joined the challenge successfully"})}catch{n({title:"Error",description:"Failed to join challenge",variant:"destructive"})}},leaveChallenge:async k=>{if(!t){n({title:"Error",description:"You must be logged in to leave a challenge",variant:"destructive"});return}try{const{data:S,error:N}=await J.from("challenges").select("participants").eq("id",k).single();if(N)throw N;const O=Array.isArray(S==null?void 0:S.participants)?S.participants:[];if(!O.includes(t.id)){n({title:"Info",description:"You're not a participant in this challenge"});return}const{error:I}=await J.from("challenges").update({participants:O.filter(L=>L!==t.id)}).eq("id",k);if(I)throw I;const{error:$}=await J.from("entries").delete().eq("user_id",t.id).eq("challenge_id",k);$&&console.error("Error deleting entries:",$);const{error:F}=await J.from("user_challenge_starts").delete().eq("user_id",t.id).eq("challenge_id",k);F&&console.error("Error deleting user challenge start/end dates:",F);const{activityFeedService:E}=await Bt(async()=>{const{activityFeedService:L}=await Promise.resolve().then(()=>Rs);return{activityFeedService:L}},void 0);E.deleteActivitiesForChallenge(t.id,k).catch(L=>console.error("Failed to delete activity feed entries:",L)),n({title:"Success!",description:"You've left the challenge successfully"})}catch(S){throw n({title:"Error",description:"Failed to leave challenge",variant:"destructive"}),S}},updateProgress:async(k,S,N,O,I)=>{if(t)try{if(N===0){const{error:$}=await J.from("entries").delete().eq("user_id",t.id).eq("challenge_id",k).eq("objective_id",S);if($)return;const{activityFeedService:F}=await Bt(async()=>{const{activityFeedService:E}=await Promise.resolve().then(()=>Rs);return{activityFeedService:E}},void 0);F.deleteActivitiesForObjective(t.id,k,S).catch(E=>console.error("Failed to delete activity feed entries:",E))}else{if(!$c(S)){n({title:"Error",description:"Invalid objective ID. Please refresh the challenge and try again.",variant:"destructive"});return}const $={user_id:t.id,challenge_id:k,objective_id:S,value:N,notes:(O==null?void 0:O.trim())||null,username:t.name||`User ${t.id}`};if(I){const E=L0(I);E.setHours(12,0,0,0),$.created_at=E.toISOString()}const{error:F}=await J.from("entries").insert($);if(F){console.error("Error inserting entry:",F),n({title:"Error",description:F.message||"Failed to update progress. Please try again.",variant:"destructive"});return}if(N>0){const{activityFeedService:E}=await Bt(async()=>{const{activityFeedService:L}=await Promise.resolve().then(()=>Rs);return{activityFeedService:L}},void 0);E.createActivity(t.id,"objective_progress",{challengeId:k,objectiveId:S,metadata:{value:N,notes:(O==null?void 0:O.trim())||null}}).catch(L=>console.error("Failed to create activity feed entry:",L))}}}catch{n({title:"Error",description:"Failed to update progress. Please try again.",variant:"destructive"})}},getChallenge:i,getUserChallenges:a,getChallengeProgress:l,createMockBingoChallenge:async()=>{const k=[{title:"150 Kniebeugen",description:"Complete 150 squats"},{title:"20 km Laufen",description:"Run 20 kilometers"},{title:"60 min Rad",description:"Bike for 60 minutes"},{title:"8 km Rad",description:"Bike 8 kilometers"},{title:"20 Pullups",description:"Complete 20 pullups"},{title:"30 min Rad",description:"Bike for 30 minutes"}].map((N,O)=>({id:crypto.randomUUID(),title:N.title,description:N.description,targetValue:1,unit:"Abschluss",pointsPerUnit:1})),S={title:"June of Pain - Bingo Edition",description:"5 Felder in einer Reihe (horizontal, vertikal, diagonal) = BINGO! Pro Tag maximal 2 Felder abhaken! Alle Ziele sind einzeln zu bewerten",startDate:new Date("2025-06-01T00:00:00Z").toISOString(),endDate:new Date("2025-06-30T23:59:59Z").toISOString(),objectives:k,challengeType:"bingo"};await c(S)},getParticipantProgress:async(k,S)=>{try{const{data:N,error:O}=await J.from("entries").select("*").eq("user_id",S).eq("challenge_id",k).order("created_at",{ascending:!1}).returns();if(O)return n({title:"Error",description:"Failed to load progress data",variant:"destructive"}),[];if(N){const I=await i(k);if(!I)return[];if(I.challengeType==="weekly"){const E={};return I.objectives.forEach(A=>{const P=`${k}-${A.id}`;E[P]={userId:S,challengeId:k,objectiveId:A.id,currentValue:0}}),N.forEach(A=>{const P=`${A.challenge_id}-${A.objective_id}`;E[P]&&(E[P].currentValue+=1)}),Object.values(E)}if(I.challengeType==="completion"){const E={},L={};return N.forEach(P=>{const R=`${P.challenge_id}-${P.objective_id}`;E[R]||(E[R]={userId:P.user_id,challengeId:P.challenge_id,objectiveId:P.objective_id,currentValue:0});const T=Oa(P.created_at);L[P.objective_id]||(L[P.objective_id]=new Set),L[P.objective_id].add(T)}),I.objectives.forEach(P=>{var j;const R=`${k}-${P.id}`;E[R]||(E[R]={userId:S,challengeId:k,objectiveId:P.id,currentValue:0});const T=((j=L[P.id])==null?void 0:j.size)||0;E[R].currentValue=T}),Object.values(E)}const $=N.reduce((E,L)=>{const A=`${L.challenge_id}-${L.objective_id}`;return E[A]||(E[A]={userId:L.user_id,challengeId:L.challenge_id,objectiveId:L.objective_id,currentValue:0}),E[A].currentValue+=L.value||0,E},{});return Object.values($)}return[]}catch{return n({title:"Error",description:"Failed to load challenge progress",variant:"destructive"}),[]}},getParticipants:async k=>{try{const{data:S,error:N}=await J.from("challenges").select("participants").eq("id",k).single();if(N||!S)return[];const{data:O,error:I}=await J.from("user_profiles").select("id, name, avatar_url").in("id",S.participants);return I?S.participants.map(F=>({id:F,name:`User ${F.slice(0,4)}`,avatar:void 0})):S.participants.map(F=>{const E=O==null?void 0:O.find(L=>L.id===F);return{id:F,name:(E==null?void 0:E.name)||`User ${F.slice(0,4)}`,avatar:E==null?void 0:E.avatar_url}})}catch{return[]}},createOrUpdateUserProfile:async(k,S,N)=>{try{const{error:O}=await J.from("user_profiles").upsert({id:k,name:S,avatar_url:N,updated_at:new Date().toISOString()});if(O)throw O}catch(O){throw O}},getCreatorAvatar:async k=>{try{const{data:S,error:N}=await J.from("user_profiles").select("avatar_url").eq("id",k).single();return N||S==null?void 0:S.avatar_url}catch{return}},getUserChallengeStartDate:async(k,S)=>{try{const{data:N,error:O}=await J.from("user_challenge_starts").select("start_date, end_date").eq("challenge_id",k).eq("user_id",S).maybeSingle();return O?(console.error("Error fetching user challenge start date:",O),null):(N==null?void 0:N.start_date)||null}catch(N){return console.error("Exception fetching user challenge start date:",N),null}},getUserChallengeEndDate:async(k,S)=>{try{const{data:N,error:O}=await J.from("user_challenge_starts").select("start_date, end_date").eq("challenge_id",k).eq("user_id",S).maybeSingle();return O?(console.error("Error fetching user challenge end date:",O),null):(N==null?void 0:N.end_date)||null}catch(N){return console.error("Exception fetching user challenge end date:",N),null}},getUserActivityDates:async(k,S)=>{if(!t)return[];try{const N=Fc(k),O=Lc(S),{data:I,error:$}=await J.from("entries").select("created_at").eq("user_id",t.id).gte("created_at",N).lte("created_at",O).order("created_at",{ascending:!1});if($)return[];const F=(I==null?void 0:I.map(E=>Oa(E.created_at)))||[];return[...new Set(F)]}catch{return[]}},completeDailyChallenge:async(k,S,N)=>{if(t)try{await kv.completeDailyChallenge(t.id,k,S,N);const{activityFeedService:O}=await Bt(async()=>{const{activityFeedService:I}=await Promise.resolve().then(()=>Rs);return{activityFeedService:I}},void 0);O.createActivity(t.id,"challenge_complete",{metadata:{dailyChallengeId:k,valueAchieved:S,notes:(N==null?void 0:N.trim())||null,isDaily:!0}}).catch(I=>console.error("Failed to create activity feed entry:",I)),n({title:"Challenge Completed! ",description:"Great job! You've completed today's challenge.",variant:"default"})}catch{n({title:"Error",description:"Failed to complete challenge",variant:"destructive"})}}};return o.jsx(iD.Provider,{value:D,children:e})},Xr=()=>{const e=p.useContext(iD);if(e===void 0)throw new Error("useChallenges must be used within a ChallengeProvider");return e},Cp=768;function zu(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Cp-1}px)`),r=()=>{t(window.innerWidth<Cp)};return n.addEventListener("change",r),t(window.innerWidth<Cp),()=>n.removeEventListener("change",r)},[]),!!e}function GU(e={}){const{threshold:t=80,onRefresh:n,enabled:r=!0}=e,[s,i]=p.useState(!1),[a,l]=p.useState(0),c=p.useRef(0),d=p.useRef(0),u=p.useRef(null),f=p.useRef(!1),h=p.useRef(!1),m=p.useCallback(()=>{l(0),f.current=!1,h.current=!1},[]),v=p.useCallback(async()=>{if(!s){i(!0),m();try{n?await n():window.location.reload()}catch(g){console.error("Pull to refresh failed:",g)}finally{i(!1)}}},[s,n,m]);return p.useEffect(()=>{if(!r)return;const g=u.current;if(!g)return;const y=_=>{window.scrollY===0&&!f.current&&!s&&(c.current=_.touches[0].clientY,f.current=!0,h.current=!1)},x=_=>{if(!f.current||s)return;d.current=_.touches[0].clientY;const w=d.current-c.current,D=_.touches[0].clientX;if(Math.abs(D-(_.touches[0].clientX||D))>10){h.current=!0;return}if(w>0&&!h.current){_.preventDefault();const k=Math.min(w*.5,t*2);l(k)}},b=()=>{!f.current||s||(a>=t&&!h.current?v():m())},C=()=>{window.scrollY>0&&f.current&&m()};return g.addEventListener("touchstart",y,{passive:!1}),g.addEventListener("touchmove",x,{passive:!1}),g.addEventListener("touchend",b,{passive:!1}),window.addEventListener("scroll",C,{passive:!0}),()=>{g.removeEventListener("touchstart",y),g.removeEventListener("touchmove",x),g.removeEventListener("touchend",b),window.removeEventListener("scroll",C)}},[r,t,a,s,v,m]),{elementRef:u,isRefreshing:s,pullDistance:a,threshold:t,resetPull:m}}function QU({children:e,threshold:t=80,onRefresh:n,className:r}){const{elementRef:s,isRefreshing:i,pullDistance:a,threshold:l}=GU({threshold:t,onRefresh:n}),c=Math.min(a/l*100,100),d=a>0,u=a>=l;return o.jsxs("div",{ref:s,className:ge("pull-to-refresh-container relative",r),children:[d&&o.jsx("div",{className:"pull-to-refresh-indicator absolute top-0 left-0 right-0 z-50 flex justify-center items-center bg-background/80 backdrop-blur-sm",children:o.jsx("div",{className:"flex flex-col items-center gap-2 py-4",children:i?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Refreshing..."})]}):o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-muted-foreground/30 rounded-full relative",children:o.jsx("div",{className:ge("absolute inset-0 border-2 rounded-full transition-all duration-200",u?"border-primary":"border-muted-foreground/50"),style:{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",transform:`rotate(${c*3.6}deg)`}})}),o.jsx("span",{className:ge("text-xs transition-colors duration-200",u?"text-primary":"text-muted-foreground"),children:u?"Release to refresh":"Pull to refresh"})]})})}),o.jsx("div",{className:ge("transition-all duration-200 ease-out",d&&"transform"),style:{transform:d?`translateY(${Math.min(a*.3,20)}px)`:"none",opacity:d?.95:1},children:e})]})}var Sp="focusScope.autoFocusOnMount",jp="focusScope.autoFocusOnUnmount",w1={bubbles:!1,cancelable:!0},XU="FocusScope",Wu=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=p.useState(null),d=ln(s),u=ln(i),f=p.useRef(null),h=Qe(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(C){if(m.paused||!l)return;const _=C.target;l.contains(_)?f.current=_:ci(f.current,{select:!0})},y=function(C){if(m.paused||!l)return;const _=C.relatedTarget;_!==null&&(l.contains(_)||ci(f.current,{select:!0}))},x=function(C){if(document.activeElement===document.body)for(const w of C)w.removedNodes.length>0&&ci(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){b1.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Sp,w1);l.addEventListener(Sp,d),l.dispatchEvent(x),x.defaultPrevented||(JU(r8(aD(l)),{select:!0}),document.activeElement===g&&ci(l))}return()=>{l.removeEventListener(Sp,d),setTimeout(()=>{const x=new CustomEvent(jp,w1);l.addEventListener(jp,u),l.dispatchEvent(x),x.defaultPrevented||ci(g??document.body,{select:!0}),l.removeEventListener(jp,u),b1.remove(m)},0)}}},[l,d,u,m]);const v=p.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const b=g.currentTarget,[C,_]=ZU(b);C&&_?!g.shiftKey&&x===_?(g.preventDefault(),n&&ci(C,{select:!0})):g.shiftKey&&x===C&&(g.preventDefault(),n&&ci(_,{select:!0})):x===b&&g.preventDefault()}},[n,r,m.paused]);return o.jsx(Ne.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});Wu.displayName=XU;function JU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ci(r,{select:t}),document.activeElement!==n)return}function ZU(e){const t=aD(e),n=x1(t,e),r=x1(t.reverse(),e);return[n,r]}function aD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function x1(e,t){for(const n of e)if(!e8(n,{upTo:t}))return n}function e8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function t8(e){return e instanceof HTMLInputElement&&"select"in e}function ci(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&t8(e)&&t&&e.select()}}var b1=n8();function n8(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=C1(e,t),e.unshift(t)},remove(t){var n;e=C1(e,t),(n=e[0])==null||n.resume()}}}function C1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function r8(e){return e.filter(t=>t.tagName!=="A")}var _p=0;function om(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??S1()),document.body.insertAdjacentElement("beforeend",e[1]??S1()),_p++,()=>{_p===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_p--}},[])}function S1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fs=function(){return fs=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fs.apply(this,arguments)};function oD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function s8(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ff="right-scroll-bar-position",hf="width-before-scroll-bar",i8="with-scroll-bars-hidden",a8="--removed-body-scroll-bar-size";function kp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function o8(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var l8=typeof window<"u"?p.useLayoutEffect:p.useEffect,j1=new WeakMap;function c8(e,t){var n=o8(null,function(r){return e.forEach(function(s){return kp(s,r)})});return l8(function(){var r=j1.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||kp(l,null)}),i.forEach(function(l){s.has(l)||kp(l,a)})}j1.set(n,e)},[e]),n}function u8(e){return e}function d8(e,t){t===void 0&&(t=u8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var u=a;a=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){a.push(u),d()},filter:function(u){return a=a.filter(u),n}}}};return s}function f8(e){e===void 0&&(e={});var t=d8(null);return t.options=fs({async:!0,ssr:!1},e),t}var lD=function(e){var t=e.sideCar,n=oD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,fs({},n))};lD.isSideCarExport=!0;function h8(e,t){return e.useMedium(t),lD}var cD=f8(),Pp=function(){},lm=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Pp,onWheelCapture:Pp,onTouchMoveCapture:Pp}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,g=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,C=oD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=c8([n,t]),D=fs(fs({},C),s);return p.createElement(p.Fragment,null,u&&p.createElement(_,{sideCar:cD,removeScrollBar:d,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:b}),a?p.cloneElement(p.Children.only(l),fs(fs({},D),{ref:w})):p.createElement(x,fs({},D,{className:c,ref:w}),l))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:hf,zeroRight:ff};var m8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m8();return t&&e.setAttribute("nonce",t),e}function g8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function v8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var y8=function(){var e=0,t=null;return{add:function(n){e==0&&(t=p8())&&(g8(t,n),v8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w8=function(){var e=y8();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uD=function(){var e=w8(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},x8={left:0,top:0,right:0,gap:0},Dp=function(e){return parseInt(e||"",10)||0},b8=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Dp(n),Dp(r),Dp(s)]},C8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return x8;var t=b8(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},S8=uD(),Ko="data-scroll-locked",j8=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(i8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ff,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hf," .").concat(hf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ko,`] {
    `).concat(a8,": ").concat(l,`px;
  }
`)},_1=function(){var e=parseInt(document.body.getAttribute(Ko)||"0",10);return isFinite(e)?e:0},_8=function(){p.useEffect(function(){return document.body.setAttribute(Ko,(_1()+1).toString()),function(){var e=_1()-1;e<=0?document.body.removeAttribute(Ko):document.body.setAttribute(Ko,e.toString())}},[])},k8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;_8();var i=p.useMemo(function(){return C8(s)},[s]);return p.createElement(S8,{styles:j8(i,!t,s,n?"":"!important")})},Pv=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return Pv=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{Pv=!1}var uo=Pv?{passive:!1}:!1,P8=function(e){return e.tagName==="TEXTAREA"},dD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!P8(e)&&n[t]==="visible")},D8=function(e){return dD(e,"overflowY")},E8=function(e){return dD(e,"overflowX")},k1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fD(e,r);if(s){var i=hD(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},N8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},T8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fD=function(e,t){return e==="v"?D8(t):E8(t)},hD=function(e,t){return e==="v"?N8(t):T8(t)},A8=function(e,t){return e==="h"&&t==="rtl"?-1:1},M8=function(e,t,n,r,s){var i=A8(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),d=!1,u=a>0,f=0,h=0;do{var m=hD(e,l),v=m[0],g=m[1],y=m[2],x=g-y-i*v;(v||x)&&fD(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(d=!0),d},Md=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P1=function(e){return[e.deltaX,e.deltaY]},D1=function(e){return e&&"current"in e?e.current:e},R8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},I8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},O8=0,fo=[];function F8(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(O8++)[0],i=p.useState(uD)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=s8([e.lockRef.current],(e.shards||[]).map(D1),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=Md(g),b=n.current,C="deltaX"in g?g.deltaX:b[0]-x[0],_="deltaY"in g?g.deltaY:b[1]-x[1],w,D=g.target,k=Math.abs(C)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&D.type==="range")return!1;var S=k1(k,D);if(!S)return!0;if(S?w=k:(w=k==="v"?"h":"v",S=k1(k,D)),!S)return!1;if(!r.current&&"changedTouches"in g&&(C||_)&&(r.current=w),!w)return!0;var N=r.current||w;return M8(N,y,g,N==="h"?C:_,!0)},[]),c=p.useCallback(function(g){var y=g;if(!(!fo.length||fo[fo.length-1]!==i)){var x="deltaY"in y?P1(y):Md(y),b=t.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&R8(w.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var C=(a.current.shards||[]).map(D1).filter(Boolean).filter(function(w){return w.contains(y.target)}),_=C.length>0?l(y,C[0]):!a.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),d=p.useCallback(function(g,y,x,b){var C={name:g,delta:y,target:x,should:b,shadowParent:L8(x)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(_){return _!==C})},1)},[]),u=p.useCallback(function(g){n.current=Md(g),r.current=void 0},[]),f=p.useCallback(function(g){d(g.type,P1(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){d(g.type,Md(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return fo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,uo),document.addEventListener("touchmove",c,uo),document.addEventListener("touchstart",u,uo),function(){fo=fo.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,uo),document.removeEventListener("touchmove",c,uo),document.removeEventListener("touchstart",u,uo)}},[]);var m=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(i,{styles:I8(s)}):null,m?p.createElement(k8,{gapMode:e.gapMode}):null)}function L8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $8=h8(cD,F8);var Hu=p.forwardRef(function(e,t){return p.createElement(lm,fs({},e,{ref:t,sideCar:$8}))});Hu.classNames=lm.classNames;var U8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ho=new WeakMap,Rd=new WeakMap,Id={},Ep=0,mD=function(e){return e&&(e.host||mD(e.parentNode))},B8=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=mD(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},V8=function(e,t,n,r){var s=B8(t,Array.isArray(e)?e:[e]);Id[n]||(Id[n]=new WeakMap);var i=Id[n],a=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",g=(ho.get(h)||0)+1,y=(i.get(h)||0)+1;ho.set(h,g),i.set(h,y),a.push(h),g===1&&v&&Rd.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(t),l.clear(),Ep++,function(){a.forEach(function(f){var h=ho.get(f)-1,m=i.get(f)-1;ho.set(f,h),i.set(f,m),h||(Rd.has(f)||f.removeAttribute(r),Rd.delete(f)),m||f.removeAttribute(n)}),Ep--,Ep||(ho=new WeakMap,ho=new WeakMap,Rd=new WeakMap,Id={})}},cm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=U8(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),V8(r,s,n,"aria-hidden")):function(){return null}},$0="Dialog",[pD,gD]=Tr($0),[z8,es]=pD($0),vD=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[d=!1,u]=Cs({prop:r,defaultProp:s,onChange:i});return o.jsx(z8,{scope:t,triggerRef:l,contentRef:c,contentId:_r(),titleId:_r(),descriptionId:_r(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};vD.displayName=$0;var yD="DialogTrigger",wD=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=es(yD,n),i=Qe(t,s.triggerRef);return o.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V0(s.open),...r,ref:i,onClick:ve(e.onClick,s.onOpenToggle)})});wD.displayName=yD;var U0="DialogPortal",[W8,xD]=pD(U0,{forceMount:void 0}),bD=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=es(U0,t);return o.jsx(W8,{scope:t,forceMount:n,children:p.Children.map(r,a=>o.jsx(rr,{present:n||i.open,children:o.jsx(Il,{asChild:!0,container:s,children:a})}))})};bD.displayName=U0;var th="DialogOverlay",CD=p.forwardRef((e,t)=>{const n=xD(th,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=es(th,e.__scopeDialog);return i.modal?o.jsx(rr,{present:r||i.open,children:o.jsx(H8,{...s,ref:t})}):null});CD.displayName=th;var H8=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=es(th,n);return o.jsx(Hu,{as:qs,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ne.div,{"data-state":V0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ga="DialogContent",SD=p.forwardRef((e,t)=>{const n=xD(Ga,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=es(Ga,e.__scopeDialog);return o.jsx(rr,{present:r||i.open,children:i.modal?o.jsx(q8,{...s,ref:t}):o.jsx(K8,{...s,ref:t})})});SD.displayName=Ga;var q8=p.forwardRef((e,t)=>{const n=es(Ga,e.__scopeDialog),r=p.useRef(null),s=Qe(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return cm(i)},[]),o.jsx(jD,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault())})}),K8=p.forwardRef((e,t)=>{const n=es(Ga,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(jD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),jD=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=es(Ga,n),c=p.useRef(null),d=Qe(t,c);return om(),o.jsxs(o.Fragment,{children:[o.jsx(Wu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(to,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":V0(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(G8,{titleId:l.titleId}),o.jsx(X8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),B0="DialogTitle",_D=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=es(B0,n);return o.jsx(Ne.h2,{id:s.titleId,...r,ref:t})});_D.displayName=B0;var kD="DialogDescription",PD=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=es(kD,n);return o.jsx(Ne.p,{id:s.descriptionId,...r,ref:t})});PD.displayName=kD;var DD="DialogClose",ED=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=es(DD,n);return o.jsx(Ne.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>s.onOpenChange(!1))})});ED.displayName=DD;function V0(e){return e?"open":"closed"}var ND="DialogTitleWarning",[Y8,TD]=GO(ND,{contentName:Ga,titleName:B0,docsSlug:"dialog"}),G8=({titleId:e})=>{const t=TD(ND),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Q8="DialogDescriptionWarning",X8=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TD(Q8).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},z0=vD,W0=wD,H0=bD,um=CD,dm=SD,fm=_D,hm=PD,mm=ED;const cr=z0,xc=W0,J8=H0,AD=p.forwardRef(({className:e,...t},n)=>o.jsx(um,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AD.displayName=um.displayName;const Wn=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(J8,{children:[o.jsx(AD,{}),o.jsxs(dm,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(mm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(lu,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wn.displayName=dm.displayName;const Hn=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hn.displayName="DialogHeader";const Wr=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wr.displayName="DialogFooter";const qn=p.forwardRef(({className:e,...t},n)=>o.jsx(fm,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));qn.displayName=fm.displayName;const Cr=p.forwardRef(({className:e,...t},n)=>o.jsx(hm,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));Cr.displayName=hm.displayName;const vu=Fu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?qs:"button";return o.jsx(a,{className:ge(vu({variant:t,size:n,className:e})),ref:i,...s})});de.displayName="Button";const Od="pwa-install-dismissed",E1=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;function Z8(){const[e,t]=p.useState(null),[n,r]=p.useState(E1()),[s,i]=p.useState(!1);p.useEffect(()=>{const d=f=>{f.preventDefault(),t(f),!(localStorage.getItem(Od)==="true")&&!E1()&&i(!0)},u=()=>{t(null),r(!0),i(!1),localStorage.removeItem(Od)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",u)}},[]),p.useEffect(()=>{const d=window.matchMedia("(display-mode: standalone)"),u=f=>{f.matches&&(r(!0),i(!1))};return d.matches&&r(!0),d.addEventListener("change",u),()=>{d.removeEventListener("change",u)}},[]);const a=p.useCallback(async()=>{if(e)try{await e.prompt(),(await e.userChoice).outcome==="accepted"||localStorage.setItem(Od,"true"),i(!1)}finally{t(null)}},[e]),l=p.useCallback(()=>{localStorage.setItem(Od,"true"),i(!1)},[]);return p.useMemo(()=>({canInstall:!!e&&!n,shouldShowPrompt:s,promptInstall:a,dismissPrompt:l}),[e,l,n,a,s])}const MD=p.createContext(null);function eB({children:e}){const t=Z8(),n=p.useMemo(()=>t,[t]);return o.jsx(MD.Provider,{value:n,children:e})}function RD(){const e=p.useContext(MD);if(!e)throw new Error("usePWAInstall must be used within a PWAInstallProvider");return e}function tB(){const{language:e}=gt(),{t}=pt(e),{canInstall:n,shouldShowPrompt:r,promptInstall:s,dismissPrompt:i}=RD();return n?o.jsx(cr,{open:r,onOpenChange:a=>{a||i()},children:o.jsxs(Wn,{children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:t("installAppTitle")}),o.jsx(Cr,{children:t("installAppDescription")})]}),o.jsxs(Wr,{children:[o.jsx(de,{variant:"ghost",onClick:i,children:t("installAppDismiss")}),o.jsx(de,{onClick:s,children:t("installAppConfirm")})]})]})}):null}var q0="Avatar",[nB,eJ]=Tr(q0),[rB,ID]=nB(q0),OD=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=p.useState("idle");return o.jsx(rB,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(Ne.span,{...r,ref:t})})});OD.displayName=q0;var FD="AvatarImage",LD=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=ID(FD,n),l=sB(r,i.referrerPolicy),c=ln(d=>{s(d),a.onImageLoadingStatusChange(d)});return cn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Ne.img,{...i,ref:t,src:r}):null});LD.displayName=FD;var $D="AvatarFallback",UD=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=ID($D,n),[a,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(Ne.span,{...s,ref:t}):null});UD.displayName=$D;function sB(e,t){const[n,r]=p.useState("idle");return cn(()=>{if(!e){r("error");return}let s=!0;const i=new window.Image,a=l=>()=>{s&&r(l)};return r("loading"),i.onload=a("loaded"),i.onerror=a("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var BD=OD,VD=LD,zD=UD;const Ls=p.forwardRef(({className:e,...t},n)=>o.jsx(BD,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ls.displayName=BD.displayName;const $s=p.forwardRef(({className:e,...t},n)=>o.jsx(VD,{ref:n,className:ge("aspect-square h-full w-full",e),...t}));$s.displayName=VD.displayName;const Us=p.forwardRef(({className:e,...t},n)=>o.jsx(zD,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Us.displayName=zD.displayName;var iB=p.createContext(void 0);function pm(e){const t=p.useContext(iB);return e||t||"ltr"}function aB(e,t=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,oB(s,...t)]}function oB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Np="rovingFocusGroup.onEntryFocus",lB={bubbles:!1,cancelable:!0},gm="RovingFocusGroup",[Dv,WD,cB]=Fh(gm),[uB,vm]=aB(gm,[cB]),[dB,fB]=uB(gm),HD=p.forwardRef((e,t)=>o.jsx(Dv.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Dv.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(hB,{...e,ref:t})})}));HD.displayName=gm;var hB=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=p.useRef(null),m=Qe(t,h),v=pm(i),[g=null,y]=Cs({prop:a,defaultProp:l,onChange:c}),[x,b]=p.useState(!1),C=ln(d),_=WD(n),w=p.useRef(!1),[D,k]=p.useState(0);return p.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(Np,C),()=>S.removeEventListener(Np,C)},[C]),o.jsx(dB,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(S=>y(S),[y]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>k(S=>S-1),[]),children:o.jsx(Ne.div,{tabIndex:x||D===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{w.current=!0}),onFocus:ve(e.onFocus,S=>{const N=!w.current;if(S.target===S.currentTarget&&N&&!x){const O=new CustomEvent(Np,lB);if(S.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=_().filter(A=>A.focusable),$=I.find(A=>A.active),F=I.find(A=>A.id===g),L=[$,F,...I].filter(Boolean).map(A=>A.ref.current);YD(L,u)}}w.current=!1}),onBlur:ve(e.onBlur,()=>b(!1))})})}),qD="RovingFocusGroupItem",KD=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=e,l=_r(),c=i||l,d=fB(qD,n),u=d.currentTabStopId===c,f=WD(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=d;return p.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),o.jsx(Dv.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(Ne.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ve(e.onMouseDown,v=>{r?d.onItemFocus(c):v.preventDefault()}),onFocus:ve(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ve(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=gB(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=d.loop?vB(x,b+1):x.slice(b+1)}setTimeout(()=>YD(x))}})})})});KD.displayName=qD;var mB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gB(e,t,n){const r=pB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mB[r]}function YD(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function vB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var GD=HD,QD=KD,Ev=["Enter"," "],yB=["ArrowDown","PageUp","Home"],XD=["ArrowUp","PageDown","End"],wB=[...yB,...XD],xB={ltr:[...Ev,"ArrowRight"],rtl:[...Ev,"ArrowLeft"]},bB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qu="Menu",[yu,CB,SB]=Fh(qu),[ro,ym]=Tr(qu,[SB,ta,vm]),wm=ta(),JD=vm(),[jB,so]=ro(qu),[_B,Ku]=ro(qu),ZD=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=e,l=wm(t),[c,d]=p.useState(null),u=p.useRef(!1),f=ln(i),h=pm(s);return p.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(Wh,{...l,children:o.jsx(jB,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:d,children:o.jsx(_B,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:a,children:r})})})};ZD.displayName=qu;var kB="MenuAnchor",K0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=wm(n);return o.jsx(Uu,{...s,...r,ref:t})});K0.displayName=kB;var Y0="MenuPortal",[PB,eE]=ro(Y0,{forceMount:void 0}),tE=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=so(Y0,t);return o.jsx(PB,{scope:t,forceMount:n,children:o.jsx(rr,{present:n||i.open,children:o.jsx(Il,{asChild:!0,container:s,children:r})})})};tE.displayName=Y0;var kr="MenuContent",[DB,G0]=ro(kr),nE=p.forwardRef((e,t)=>{const n=eE(kr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=so(kr,e.__scopeMenu),a=Ku(kr,e.__scopeMenu);return o.jsx(yu.Provider,{scope:e.__scopeMenu,children:o.jsx(rr,{present:r||i.open,children:o.jsx(yu.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(EB,{...s,ref:t}):o.jsx(NB,{...s,ref:t})})})})}),EB=p.forwardRef((e,t)=>{const n=so(kr,e.__scopeMenu),r=p.useRef(null),s=Qe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return cm(i)},[]),o.jsx(Q0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),NB=p.forwardRef((e,t)=>{const n=so(kr,e.__scopeMenu);return o.jsx(Q0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q0=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...g}=e,y=so(kr,n),x=Ku(kr,n),b=wm(n),C=JD(n),_=CB(n),[w,D]=p.useState(null),k=p.useRef(null),S=Qe(t,k,y.onContentChange),N=p.useRef(0),O=p.useRef(""),I=p.useRef(0),$=p.useRef(null),F=p.useRef("right"),E=p.useRef(0),L=v?Hu:p.Fragment,A=v?{as:qs,allowPinchZoom:!0}:void 0,P=T=>{var W,G;const j=O.current+T,M=_().filter(Z=>!Z.disabled),U=document.activeElement,V=(W=M.find(Z=>Z.ref.current===U))==null?void 0:W.textValue,z=M.map(Z=>Z.textValue),B=VB(z,j,V),q=(G=M.find(Z=>Z.textValue===B))==null?void 0:G.ref.current;(function Z(H){O.current=H,window.clearTimeout(N.current),H!==""&&(N.current=window.setTimeout(()=>Z(""),1e3))})(j),q&&setTimeout(()=>q.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),om();const R=p.useCallback(T=>{var M,U;return F.current===((M=$.current)==null?void 0:M.side)&&WB(T,(U=$.current)==null?void 0:U.area)},[]);return o.jsx(DB,{scope:n,searchRef:O,onItemEnter:p.useCallback(T=>{R(T)&&T.preventDefault()},[R]),onItemLeave:p.useCallback(T=>{var j;R(T)||((j=k.current)==null||j.focus(),D(null))},[R]),onTriggerLeave:p.useCallback(T=>{R(T)&&T.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:p.useCallback(T=>{$.current=T},[]),children:o.jsx(L,{...A,children:o.jsx(Wu,{asChild:!0,trapped:s,onMountAutoFocus:ve(i,T=>{var j;T.preventDefault(),(j=k.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(to,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(GD,{asChild:!0,...C,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:D,onEntryFocus:ve(c,T=>{x.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Hh,{role:"menu","aria-orientation":"vertical","data-state":yE(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:ve(g.onKeyDown,T=>{const M=T.target.closest("[data-radix-menu-content]")===T.currentTarget,U=T.ctrlKey||T.altKey||T.metaKey,V=T.key.length===1;M&&(T.key==="Tab"&&T.preventDefault(),!U&&V&&P(T.key));const z=k.current;if(T.target!==z||!wB.includes(T.key))return;T.preventDefault();const q=_().filter(W=>!W.disabled).map(W=>W.ref.current);XD.includes(T.key)&&q.reverse(),UB(q)}),onBlur:ve(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(N.current),O.current="")}),onPointerMove:ve(e.onPointerMove,wu(T=>{const j=T.target,M=E.current!==T.clientX;if(T.currentTarget.contains(j)&&M){const U=T.clientX>E.current?"right":"left";F.current=U,E.current=T.clientX}}))})})})})})})});nE.displayName=kr;var TB="MenuGroup",X0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Ne.div,{role:"group",...r,ref:t})});X0.displayName=TB;var AB="MenuLabel",rE=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Ne.div,{...r,ref:t})});rE.displayName=AB;var nh="MenuItem",N1="menu.itemSelect",xm=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=p.useRef(null),a=Ku(nh,e.__scopeMenu),l=G0(nh,e.__scopeMenu),c=Qe(t,i),d=p.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(N1,{bubbles:!0,cancelable:!0});f.addEventListener(N1,m=>r==null?void 0:r(m),{once:!0}),l0(f,h),h.defaultPrevented?d.current=!1:a.onClose()}};return o.jsx(sE,{...s,ref:c,disabled:n,onClick:ve(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:ve(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ve(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Ev.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xm.displayName=nh;var sE=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,a=G0(nh,n),l=JD(n),c=p.useRef(null),d=Qe(t,c),[u,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),o.jsx(yu.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:o.jsx(QD,{asChild:!0,...l,focusable:!r,children:o.jsx(Ne.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ve(e.onPointerMove,wu(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(e.onPointerLeave,wu(v=>a.onItemLeave(v))),onFocus:ve(e.onFocus,()=>f(!0)),onBlur:ve(e.onBlur,()=>f(!1))})})})}),MB="MenuCheckboxItem",iE=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(uE,{scope:e.__scopeMenu,checked:n,children:o.jsx(xm,{role:"menuitemcheckbox","aria-checked":rh(n)?"mixed":n,...s,ref:t,"data-state":Z0(n),onSelect:ve(s.onSelect,()=>r==null?void 0:r(rh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});iE.displayName=MB;var aE="MenuRadioGroup",[RB,IB]=ro(aE,{value:void 0,onValueChange:()=>{}}),oE=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=ln(r);return o.jsx(RB,{scope:e.__scopeMenu,value:n,onValueChange:i,children:o.jsx(X0,{...s,ref:t})})});oE.displayName=aE;var lE="MenuRadioItem",cE=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=IB(lE,e.__scopeMenu),i=n===s.value;return o.jsx(uE,{scope:e.__scopeMenu,checked:i,children:o.jsx(xm,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Z0(i),onSelect:ve(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});cE.displayName=lE;var J0="MenuItemIndicator",[uE,OB]=ro(J0,{checked:!1}),dE=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=OB(J0,n);return o.jsx(rr,{present:r||rh(i.checked)||i.checked===!0,children:o.jsx(Ne.span,{...s,ref:t,"data-state":Z0(i.checked)})})});dE.displayName=J0;var FB="MenuSeparator",fE=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});fE.displayName=FB;var LB="MenuArrow",hE=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=wm(n);return o.jsx(qh,{...s,...r,ref:t})});hE.displayName=LB;var $B="MenuSub",[tJ,mE]=ro($B),bc="MenuSubTrigger",pE=p.forwardRef((e,t)=>{const n=so(bc,e.__scopeMenu),r=Ku(bc,e.__scopeMenu),s=mE(bc,e.__scopeMenu),i=G0(bc,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(K0,{asChild:!0,...d,children:o.jsx(sE,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":yE(n.open),...e,ref:Oh(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ve(e.onPointerMove,wu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ve(e.onPointerLeave,wu(f=>{var m,v;u();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(v=n.content)==null?void 0:v.dataset.side,y=g==="right",x=y?-5:5,b=h[y?"left":"right"],C=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:C,y:h.top},{x:C,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ve(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||xB[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});pE.displayName=bc;var gE="MenuSubContent",vE=p.forwardRef((e,t)=>{const n=eE(kr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=so(kr,e.__scopeMenu),a=Ku(kr,e.__scopeMenu),l=mE(gE,e.__scopeMenu),c=p.useRef(null),d=Qe(t,c);return o.jsx(yu.Provider,{scope:e.__scopeMenu,children:o.jsx(rr,{present:r||i.open,children:o.jsx(yu.Slot,{scope:e.__scopeMenu,children:o.jsx(Q0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ve(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ve(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:ve(e.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=bB[a.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),u.preventDefault())})})})})})});vE.displayName=gE;function yE(e){return e?"open":"closed"}function rh(e){return e==="indeterminate"}function Z0(e){return rh(e)?"indeterminate":e?"checked":"unchecked"}function UB(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function BB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function VB(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=BB(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function zB(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,d=t[a].x,u=t[a].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function WB(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zB(n,t)}function wu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wE=ZD,xE=K0,bE=tE,CE=nE,SE=X0,jE=rE,_E=xm,kE=iE,PE=oE,DE=cE,EE=dE,NE=fE,TE=hE,AE=pE,ME=vE,ew="DropdownMenu",[HB,nJ]=Tr(ew,[ym]),$n=ym(),[qB,RE]=HB(ew),IE=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,c=$n(t),d=p.useRef(null),[u=!1,f]=Cs({prop:s,defaultProp:i,onChange:a});return o.jsx(qB,{scope:t,triggerId:_r(),triggerRef:d,contentId:_r(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(wE,{...c,open:u,onOpenChange:f,dir:r,modal:l,children:n})})};IE.displayName=ew;var OE="DropdownMenuTrigger",FE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=RE(OE,n),a=$n(n);return o.jsx(xE,{asChild:!0,...a,children:o.jsx(Ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Oh(t,i.triggerRef),onPointerDown:ve(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ve(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});FE.displayName=OE;var KB="DropdownMenuPortal",LE=e=>{const{__scopeDropdownMenu:t,...n}=e,r=$n(t);return o.jsx(bE,{...r,...n})};LE.displayName=KB;var $E="DropdownMenuContent",UE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=RE($E,n),i=$n(n),a=p.useRef(!1);return o.jsx(CE,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:ve(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ve(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UE.displayName=$E;var YB="DropdownMenuGroup",GB=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(SE,{...s,...r,ref:t})});GB.displayName=YB;var QB="DropdownMenuLabel",BE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(jE,{...s,...r,ref:t})});BE.displayName=QB;var XB="DropdownMenuItem",VE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(_E,{...s,...r,ref:t})});VE.displayName=XB;var JB="DropdownMenuCheckboxItem",zE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(kE,{...s,...r,ref:t})});zE.displayName=JB;var ZB="DropdownMenuRadioGroup",eV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(PE,{...s,...r,ref:t})});eV.displayName=ZB;var tV="DropdownMenuRadioItem",WE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(DE,{...s,...r,ref:t})});WE.displayName=tV;var nV="DropdownMenuItemIndicator",HE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(EE,{...s,...r,ref:t})});HE.displayName=nV;var rV="DropdownMenuSeparator",qE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(NE,{...s,...r,ref:t})});qE.displayName=rV;var sV="DropdownMenuArrow",iV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(TE,{...s,...r,ref:t})});iV.displayName=sV;var aV="DropdownMenuSubTrigger",KE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(AE,{...s,...r,ref:t})});KE.displayName=aV;var oV="DropdownMenuSubContent",YE=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=$n(n);return o.jsx(ME,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YE.displayName=oV;var lV=IE,cV=FE,uV=LE,GE=UE,QE=BE,XE=VE,JE=zE,ZE=WE,eN=HE,tN=qE,nN=KE,rN=YE;const T1=lV,A1=cV,dV=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(nN,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(Uh,{className:"ml-auto h-4 w-4"})]}));dV.displayName=nN.displayName;const fV=p.forwardRef(({className:e,...t},n)=>o.jsx(rN,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fV.displayName=rN.displayName;const Nv=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(uV,{children:o.jsx(GE,{ref:r,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Nv.displayName=GE.displayName;const pa=p.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(XE,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));pa.displayName=XE.displayName;const hV=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(JE,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(eN,{children:o.jsx(Ol,{className:"h-4 w-4"})})}),t]}));hV.displayName=JE.displayName;const mV=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(ZE,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(eN,{children:o.jsx(xk,{className:"h-2 w-2 fill-current"})})}),t]}));mV.displayName=ZE.displayName;const sN=p.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(QE,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));sN.displayName=QE.displayName;const Tv=p.forwardRef(({className:e,...t},n)=>o.jsx(tN,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));Tv.displayName=tN.displayName;const pV=Fu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function an({className:e,variant:t,...n}){return o.jsx("div",{className:ge(pV({variant:t}),e),...n})}function gV(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const iN=K.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Wl=()=>{const e=K.useContext(iN);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};gV(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const vV=24,yV=typeof window<"u"?p.useLayoutEffect:p.useEffect;function M1(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function wV(){return tw(/^Mac/)}function xV(){return tw(/^iPhone/)}function R1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function bV(){return tw(/^iPad/)||wV()&&navigator.maxTouchPoints>1}function aN(){return xV()||bV()}function tw(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Tp=typeof document<"u"&&window.visualViewport;function I1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function oN(e){for(I1(e)&&(e=e.parentElement);e&&!I1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const CV=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Fd=0,Ap;function SV(e={}){let{isDisabled:t}=e;yV(()=>{if(!t)return Fd++,Fd===1&&aN()&&(Ap=jV()),()=>{Fd--,Fd===0&&(Ap==null||Ap())}},[t])}function jV(){let e,t=0,n=f=>{e=oN(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,m=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((m<=0&&h>t||m>=v&&h<t)&&f.preventDefault(),t=h)},s=f=>{let h=f.target;Av(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},i=f=>{let h=f.target;Av(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Tp&&(Tp.height<window.innerHeight?requestAnimationFrame(()=>{O1(h)}):Tp.addEventListener("resize",()=>O1(h),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,d=M1(_V(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=M1(dc(document,"touchstart",n,{passive:!1,capture:!0}),dc(document,"touchmove",r,{passive:!1,capture:!0}),dc(document,"touchend",s,{passive:!1,capture:!0}),dc(document,"focus",i,!0),dc(window,"scroll",a));return()=>{d(),u(),window.scrollTo(l,c)}}function _V(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function dc(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function O1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=oN(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,s=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;const a=n.getBoundingClientRect().bottom+vV;i>a&&(n.scrollTop+=s-r)}e=n.parentElement}}function Av(e){return e instanceof HTMLInputElement&&!CV.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function kV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function PV(...e){return t=>e.forEach(n=>kV(n,t))}function lN(...e){return p.useCallback(PV(...e),e)}const cN=new WeakMap;function Jt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([s,i])=>{if(s.startsWith("--")){e.style.setProperty(s,i);return}r[s]=e.style[s],e.style[s]=i}),!n&&cN.set(e,r)}function DV(e,t){if(!e||!(e instanceof HTMLElement))return;let n=cN.get(e);n&&(e.style[t]=n[t])}const Zt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ld(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let s=r.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[Zt(t)?13:12]):(s=r.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[Zt(t)?5:4]):null)}function EV(e){return 8*(Math.log(e+1)-2)}function Mp(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function NV(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Pt={DURATION:.5,EASE:[.32,.72,0,1]},uN=.4,TV=.25,AV=100,dN=8,ua=16,Mv=26,Rp="vaul-dragging";function fN(e){const t=K.useRef(e);return K.useEffect(()=>{t.current=e}),K.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function MV({defaultProp:e,onChange:t}){const n=K.useState(e),[r]=n,s=K.useRef(r),i=fN(t);return K.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function hN({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=MV({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=fN(n),c=K.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[i,e,s,l]);return[a,c]}function RV({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:s,fadeFromIndex:i,onSnapPointChange:a,direction:l="bottom",container:c,snapToSequentialPoint:d}){const[u,f]=hN({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,m]=K.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);K.useEffect(()=>{function k(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const v=K.useMemo(()=>u===(n==null?void 0:n[n.length-1])||null,[n,u]),g=K.useMemo(()=>n==null?void 0:n.findIndex(k=>k===u),[n,u]),y=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===u||!n,x=K.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var S;return(S=n==null?void 0:n.map(N=>{const O=typeof N=="string";let I=0;if(O&&(I=parseInt(N,10)),Zt(l)){const F=O?I:h?N*k.height:0;return h?l==="bottom"?k.height-F:-k.height+F:F}const $=O?I:h?N*k.width:0;return h?l==="right"?k.width-$:-k.width+$:$}))!=null?S:[]},[n,h,c]),b=K.useMemo(()=>g!==null?x==null?void 0:x[g]:null,[x,g]),C=K.useCallback(k=>{var S;const N=(S=x==null?void 0:x.findIndex(O=>O===k))!=null?S:null;a(N),Jt(r.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:Zt(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),x&&N!==x.length-1&&N!==i&&N<i?Jt(s.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"0"}):Jt(s.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(N,0)])},[r.current,n,x,i,s,f]);K.useEffect(()=>{if(u||e){var k;const S=(k=n==null?void 0:n.findIndex(N=>N===e||N===u))!=null?k:-1;x&&S!==-1&&typeof x[S]=="number"&&C(x[S])}},[u,e,n,x,C]);function _({draggedDistance:k,closeDrawer:S,velocity:N,dismissible:O}){if(i===void 0)return;const I=l==="bottom"||l==="right"?(b??0)-k:(b??0)+k,$=g===i-1,F=g===0,E=k>0;if($&&Jt(s.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`}),!d&&N>2&&!E){O?S():C(x[0]);return}if(!d&&N>2&&E&&x&&n){C(x[n.length-1]);return}const L=x==null?void 0:x.reduce((P,R)=>typeof P!="number"||typeof R!="number"?P:Math.abs(R-I)<Math.abs(P-I)?R:P),A=Zt(l)?window.innerHeight:window.innerWidth;if(N>uN&&Math.abs(k)<A*.4){const P=E?1:-1;if(P>0&&v){C(x[n.length-1]);return}if(F&&P<0&&O&&S(),g===null)return;C(x[g+P]);return}C(L)}function w({draggedDistance:k}){if(b===null)return;const S=l==="bottom"||l==="right"?b-k:b+k;(l==="bottom"||l==="right")&&S<x[x.length-1]||(l==="top"||l==="left")&&S>x[x.length-1]||Jt(r.current,{transform:Zt(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`})}function D(k,S){if(!n||typeof g!="number"||!x||i===void 0)return null;const N=g===i-1;if(g>=i&&S)return 0;if(N&&!S)return 1;if(!y&&!N)return null;const I=N?g+1:g-1,$=N?x[I]-x[I-1]:x[I+1]-x[I],F=k/Math.abs($);return N?1-F:F}return{isLastSnapPoint:v,activeSnapPoint:u,shouldFade:y,getPercentageDragged:D,setActiveSnapPoint:f,activeSnapPointIndex:g,onRelease:_,onDrag:w,snapPointsOffset:x}}const IV=()=>()=>{};function OV(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:s}=Wl(),i=K.useRef(null),a=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Mv)/window.innerWidth}K.useEffect(()=>{if(t&&n){i.current&&clearTimeout(i.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;NV(r&&!s?Mp(document.body,{background:"black"}):IV,Mp(c,{transformOrigin:Zt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Pt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pt.EASE.join(",")})`}));const d=Mp(c,{borderRadius:`${dN}px`,overflow:"hidden",...Zt(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),i.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},Pt.DURATION*1e3)}}},[t,n,a])}let fc=null;function FV({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:s,noBodyStyles:i}){const[a,l]=K.useState(()=>typeof window<"u"?window.location.href:""),c=K.useRef(0),d=K.useCallback(()=>{if(R1()&&fc===null&&e&&!i){fc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=h-window.innerHeight;m&&c.current>=h&&(document.body.style.top=`${-(c.current+m)}px`)}),300)}},[e]),u=K.useCallback(()=>{if(R1()&&fc!==null&&!i){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,fc),window.requestAnimationFrame(()=>{if(s&&a!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),fc=null}},[a]);return K.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),K.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{u()},500)):u())},[e,r,a,t,n,d,u]),{restorePositionSetting:u}}function mN({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:s,snapPoints:i,shouldScaleBackground:a=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=TV,scrollLockTimeout:d=AV,dismissible:u=!0,handleOnly:f=!1,fadeFromIndex:h=i&&i.length-1,activeSnapPoint:m,setActiveSnapPoint:v,fixed:g,modal:y=!0,onClose:x,nested:b,noBodyStyles:C,direction:_="bottom",defaultOpen:w=!1,disablePreventScroll:D=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:S=!1,repositionInputs:N=!0,onAnimationEnd:O,container:I,autoFocus:$=!1}){var F,E;const[L=!1,A]=hN({defaultProp:w,prop:e,onChange:fe=>{t==null||t(fe),!fe&&!b&&Ze(),setTimeout(()=>{O==null||O(fe)},Pt.DURATION*1e3),fe&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),fe||(document.body.style.pointerEvents="auto")}}),[P,R]=K.useState(!1),[T,j]=K.useState(!1),[M,U]=K.useState(!1),V=K.useRef(null),z=K.useRef(null),B=K.useRef(null),q=K.useRef(null),W=K.useRef(null),G=K.useRef(!1),Z=K.useRef(null),H=K.useRef(0),Q=K.useRef(!1),re=K.useRef(0),ee=K.useRef(null),ce=K.useRef(((F=ee.current)==null?void 0:F.getBoundingClientRect().height)||0),X=K.useRef(((E=ee.current)==null?void 0:E.getBoundingClientRect().width)||0),ne=K.useRef(0),se=K.useCallback(fe=>{i&&fe===Ce.length-1&&(z.current=new Date)},[]),{activeSnapPoint:he,activeSnapPointIndex:ae,setActiveSnapPoint:oe,onRelease:xe,snapPointsOffset:Ce,onDrag:Pe,shouldFade:je,getPercentageDragged:$e}=RV({snapPoints:i,activeSnapPointProp:m,setActiveSnapPointProp:v,drawerRef:ee,fadeFromIndex:h,overlayRef:V,onSnapPointChange:se,direction:_,container:I,snapToSequentialPoint:k});SV({isDisabled:!L||T||!y||M||!P||!N||!D});const{restorePositionSetting:Ze}=FV({isOpen:L,modal:y,nested:b,hasBeenOpened:P,preventScrollRestoration:S,noBodyStyles:C});function lt(){return(window.innerWidth-Mv)/window.innerWidth}function Ae(fe){var _e,Y;!u&&!i||ee.current&&!ee.current.contains(fe.target)||(ce.current=((_e=ee.current)==null?void 0:_e.getBoundingClientRect().height)||0,X.current=((Y=ee.current)==null?void 0:Y.getBoundingClientRect().width)||0,j(!0),B.current=new Date,aN()&&window.addEventListener("touchend",()=>G.current=!1,{once:!0}),fe.target.setPointerCapture(fe.pointerId),H.current=Zt(_)?fe.pageY:fe.pageX)}function rt(fe,_e){var Y,te;let ue=fe;const ye=(Y=window.getSelection())==null?void 0:Y.toString(),pe=ee.current?Ld(ee.current,_):null,we=new Date;if(ue.hasAttribute("data-vaul-no-drag")||ue.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(z.current&&we.getTime()-z.current.getTime()<500)return!1;if(pe!==null&&(_==="bottom"?pe>0:pe<0))return!0;if(ye&&ye.length>0)return!1;if(we.getTime()-((te=W.current)==null?void 0:te.getTime())<d&&pe===0||_e)return W.current=we,!1;for(;ue;){if(ue.scrollHeight>ue.clientHeight){if(ue.scrollTop!==0)return W.current=new Date,!1;if(ue.getAttribute("role")==="dialog")return!0}ue=ue.parentNode}return!0}function Fe(fe){if(ee.current&&T){const _e=_==="bottom"||_==="right"?1:-1,Y=(H.current-(Zt(_)?fe.pageY:fe.pageX))*_e,te=Y>0,ue=i&&!u&&!te;if(ue&&ae===0)return;const ye=Math.abs(Y),pe=document.querySelector("[data-vaul-drawer-wrapper]"),we=_==="bottom"||_==="top"?ce.current:X.current;let Ee=ye/we;const Te=$e(ye,te);if(Te!==null&&(Ee=Te),ue&&Ee>=1||!G.current&&!rt(fe.target,te))return;if(ee.current.classList.add(Rp),G.current=!0,Jt(ee.current,{transition:"none"}),Jt(V.current,{transition:"none"}),i&&Pe({draggedDistance:Y}),te&&!i){const We=EV(Y),st=Math.min(We*-1,0)*_e;Jt(ee.current,{transform:Zt(_)?`translate3d(0, ${st}px, 0)`:`translate3d(${st}px, 0, 0)`});return}const ke=1-Ee;if((je||h&&ae===h-1)&&(r==null||r(fe,Ee),Jt(V.current,{opacity:`${ke}`,transition:"none"},!0)),pe&&V.current&&a){const We=Math.min(lt()+Ee*(1-lt()),1),st=8-Ee*8,ut=Math.max(0,14-Ee*14);Jt(pe,{borderRadius:`${st}px`,transform:Zt(_)?`scale(${We}) translate3d(0, ${ut}px, 0)`:`scale(${We}) translate3d(${ut}px, 0, 0)`,transition:"none"},!0)}if(!i){const We=ye*_e;Jt(ee.current,{transform:Zt(_)?`translate3d(0, ${We}px, 0)`:`translate3d(${We}px, 0, 0)`})}}}K.useEffect(()=>{var fe;function _e(){if(!ee.current||!N)return;const Y=document.activeElement;if(Av(Y)||Q.current){var te;const ue=((te=window.visualViewport)==null?void 0:te.height)||0,ye=window.innerHeight;let pe=ye-ue;const we=ee.current.getBoundingClientRect().height||0,Ee=we>ye*.8;ne.current||(ne.current=we);const Te=ee.current.getBoundingClientRect().top;if(Math.abs(re.current-pe)>60&&(Q.current=!Q.current),i&&i.length>0&&Ce&&ae){const ke=Ce[ae]||0;pe+=ke}if(re.current=pe,we>ue||Q.current){const ke=ee.current.getBoundingClientRect().height;let We=ke;ke>ue&&(We=ue-(Ee?Te:Mv)),g?ee.current.style.height=`${ke-Math.max(pe,0)}px`:ee.current.style.height=`${Math.max(We,ue-Te)}px`}else ee.current.style.height=`${ne.current}px`;i&&i.length>0&&!Q.current?ee.current.style.bottom="0px":ee.current.style.bottom=`${Math.max(pe,0)}px`}}return(fe=window.visualViewport)==null||fe.addEventListener("resize",_e),()=>{var Y;return(Y=window.visualViewport)==null?void 0:Y.removeEventListener("resize",_e)}},[ae,i,Ce]);function ot(fe){St(),x==null||x(),fe||A(!1),setTimeout(()=>{i&&oe(i[0])},Pt.DURATION*1e3)}function ct(){if(!ee.current)return;const fe=document.querySelector("[data-vaul-drawer-wrapper]"),_e=Ld(ee.current,_);Jt(ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`}),Jt(V.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"1"}),a&&_e&&_e>0&&L&&Jt(fe,{borderRadius:`${dN}px`,overflow:"hidden",...Zt(_)?{transform:`scale(${lt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${lt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Pt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pt.EASE.join(",")})`},!0)}function St(){!T||!ee.current||(ee.current.classList.remove(Rp),G.current=!1,j(!1),q.current=new Date)}function tt(fe){if(!T||!ee.current)return;ee.current.classList.remove(Rp),G.current=!1,j(!1),q.current=new Date;const _e=Ld(ee.current,_);if(!rt(fe.target,!1)||!_e||Number.isNaN(_e)||B.current===null)return;const Y=q.current.getTime()-B.current.getTime(),te=H.current-(Zt(_)?fe.pageY:fe.pageX),ue=Math.abs(te)/Y;if(ue>.05&&(U(!0),setTimeout(()=>{U(!1)},200)),i){xe({draggedDistance:te*(_==="bottom"||_==="right"?1:-1),closeDrawer:ot,velocity:ue,dismissible:u}),s==null||s(fe,!0);return}if(_==="bottom"||_==="right"?te>0:te<0){ct(),s==null||s(fe,!0);return}if(ue>uN){ot(),s==null||s(fe,!1);return}var ye;const pe=Math.min((ye=ee.current.getBoundingClientRect().height)!=null?ye:0,window.innerHeight);var we;const Ee=Math.min((we=ee.current.getBoundingClientRect().width)!=null?we:0,window.innerWidth),Te=_==="left"||_==="right";if(Math.abs(_e)>=(Te?Ee:pe)*c){ot(),s==null||s(fe,!1);return}s==null||s(fe,!0),ct()}K.useEffect(()=>(L&&(Jt(document.documentElement,{scrollBehavior:"auto"}),z.current=new Date),()=>{DV(document.documentElement,"scrollBehavior")}),[L]);function dn(fe){const _e=fe?(window.innerWidth-ua)/window.innerWidth:1,Y=fe?-ua:0;Z.current&&window.clearTimeout(Z.current),Jt(ee.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:`scale(${_e}) translate3d(0, ${Y}px, 0)`}),!fe&&ee.current&&(Z.current=setTimeout(()=>{const te=Ld(ee.current,_);Jt(ee.current,{transition:"none",transform:Zt(_)?`translate3d(0, ${te}px, 0)`:`translate3d(${te}px, 0, 0)`})},500))}function Qt(fe,_e){if(_e<0)return;const Y=(window.innerWidth-ua)/window.innerWidth,te=Y+_e*(1-Y),ue=-ua+_e*ua;Jt(ee.current,{transform:Zt(_)?`scale(${te}) translate3d(0, ${ue}px, 0)`:`scale(${te}) translate3d(${ue}px, 0, 0)`,transition:"none"})}function Ar(fe,_e){const Y=Zt(_)?window.innerHeight:window.innerWidth,te=_e?(Y-ua)/Y:1,ue=_e?-ua:0;_e&&Jt(ee.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:Zt(_)?`scale(${te}) translate3d(0, ${ue}px, 0)`:`scale(${te}) translate3d(${ue}px, 0, 0)`})}return K.createElement(z0,{defaultOpen:w,onOpenChange:fe=>{!u&&!fe||(fe?R(!0):ot(!0),A(fe))},open:L},K.createElement(iN.Provider,{value:{activeSnapPoint:he,snapPoints:i,setActiveSnapPoint:oe,drawerRef:ee,overlayRef:V,onOpenChange:t,onPress:Ae,onRelease:tt,onDrag:Fe,dismissible:u,handleOnly:f,isOpen:L,isDragging:T,shouldFade:je,closeDrawer:ot,onNestedDrag:Qt,onNestedOpenChange:dn,onNestedRelease:Ar,keyboardIsOpen:Q,modal:y,snapPointsOffset:Ce,direction:_,shouldScaleBackground:a,setBackgroundColorOnScale:l,noBodyStyles:C,container:I,autoFocus:$}},n))}const pN=K.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:s,shouldFade:i,isOpen:a,modal:l}=Wl(),c=lN(t,n),d=r&&r.length>0;return l?K.createElement(um,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&d?"true":"false","data-vaul-snap-points-overlay":a&&i?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});pN.displayName="Drawer.Overlay";const gN=K.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},s){const{drawerRef:i,onPress:a,onRelease:l,onDrag:c,keyboardIsOpen:d,snapPointsOffset:u,modal:f,isOpen:h,direction:m,snapPoints:v,container:g,handleOnly:y,autoFocus:x}=Wl(),[b,C]=K.useState(!1),_=lN(s,i),w=K.useRef(null),D=K.useRef(null),k=K.useRef(!1),S=v&&v.length>0;OV();const N=(I,$,F=0)=>{if(k.current)return!0;const E=Math.abs(I.y),L=Math.abs(I.x),A=L>E,P=["bottom","right"].includes($)?1:-1;if($==="left"||$==="right"){if(!(I.x*P<0)&&L>=0&&L<=F)return A}else if(!(I.y*P<0)&&E>=0&&E<=F)return!A;return k.current=!0,!0};K.useEffect(()=>{S&&window.requestAnimationFrame(()=>{C(!0)})},[]);function O(I){w.current=null,k.current=!1,l(I)}return K.createElement(dm,{"data-vaul-drawer-direction":m,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&S?"true":"false","data-vaul-custom-container":g?"true":"false",...r,ref:_,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:I=>{y||(r.onPointerDown==null||r.onPointerDown.call(r,I),w.current={x:I.pageX,y:I.pageY},a(I))},onOpenAutoFocus:I=>{n==null||n(I),x||I.preventDefault()},onPointerDownOutside:I=>{if(e==null||e(I),!f||I.defaultPrevented){I.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:I=>{if(!f){I.preventDefault();return}},onPointerMove:I=>{if(D.current=I,y||(r.onPointerMove==null||r.onPointerMove.call(r,I),!w.current))return;const $=I.pageY-w.current.y,F=I.pageX-w.current.x,E=I.pointerType==="touch"?10:2;N({x:F,y:$},m,E)?c(I):(Math.abs(F)>E||Math.abs($)>E)&&(w.current=null)},onPointerUp:I=>{r.onPointerUp==null||r.onPointerUp.call(r,I),w.current=null,k.current=!1,l(I)},onPointerOut:I=>{r.onPointerOut==null||r.onPointerOut.call(r,I),O(D.current)},onContextMenu:I=>{r.onContextMenu==null||r.onContextMenu.call(r,I),O(D.current)}})});gN.displayName="Drawer.Content";const LV=250,$V=120,vN=K.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:s,isDragging:i,snapPoints:a,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:d,handleOnly:u,isOpen:f,onPress:h,onDrag:m}=Wl(),v=K.useRef(null),g=K.useRef(!1);function y(){if(g.current){C();return}window.setTimeout(()=>{x()},$V)}function x(){if(i||e||g.current){C();return}if(C(),(!a||a.length===0)&&d){s();return}if(l===a[a.length-1]&&d){s();return}const w=a.findIndex(k=>k===l);if(w===-1)return;const D=a[w+1];c(D)}function b(){v.current=window.setTimeout(()=>{g.current=!0},LV)}function C(){window.clearTimeout(v.current),g.current=!1}return K.createElement("div",{onClick:y,onPointerCancel:C,onPointerDown:_=>{u&&h(_),b()},onPointerMove:_=>{u&&m(_)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},K.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});vN.displayName="Drawer.Handle";function UV({onDrag:e,onOpenChange:t,...n}){const{onNestedDrag:r,onNestedOpenChange:s,onNestedRelease:i}=Wl();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return K.createElement(mN,{nested:!0,onClose:()=>{s(!1)},onDrag:(a,l)=>{r(a,l),e==null||e(a,l)},onOpenChange:a=>{a&&s(a)},onRelease:i,...n})}function BV(e){const t=Wl(),{container:n=t.container,...r}=e;return K.createElement(H0,{container:n,...r})}const Ps={Root:mN,NestedRoot:UV,Content:gN,Overlay:pN,Trigger:W0,Portal:BV,Handle:vN,Close:mm,Title:fm,Description:hm},yN=({shouldScaleBackground:e=!0,...t})=>o.jsx(Ps.Root,{shouldScaleBackground:e,...t});yN.displayName="Drawer";const VV=Ps.Trigger,zV=Ps.Portal,wN=p.forwardRef(({className:e,...t},n)=>o.jsx(Ps.Overlay,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80",e),...t}));wN.displayName=Ps.Overlay.displayName;const xN=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(zV,{children:[o.jsx(wN,{}),o.jsxs(Ps.Content,{ref:r,className:ge("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[o.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));xN.displayName="DrawerContent";const bN=({className:e,...t})=>o.jsx("div",{className:ge("grid gap-1.5 p-4 text-center sm:text-left",e),...t});bN.displayName="DrawerHeader";const CN=p.forwardRef(({className:e,...t},n)=>o.jsx(Ps.Title,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));CN.displayName=Ps.Title.displayName;const WV=p.forwardRef(({className:e,...t},n)=>o.jsx(Ps.Description,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));WV.displayName=Ps.Description.displayName;function HV(){const{user:e,logout:t}=Ct(),{language:n,setLanguage:r}=gt(),{t:s}=pt(n),i=Js(),[a,l]=p.useState(!1),[c,d]=p.useState(!1);p.useEffect(()=>{const f=()=>{window.scrollY>10?l(!0):l(!1)};return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]);const u=({onLinkClick:f})=>o.jsxs(o.Fragment,{children:[e&&o.jsx(qe,{to:"/dashboard",onClick:f,className:`text-sm font-medium transition-colors hover:text-primary select-none ${i.pathname==="/dashboard"?"text-primary":"text-foreground"}`,children:"Dashboard"}),o.jsx(qe,{to:"/challenges",onClick:f,className:`text-sm font-medium transition-colors hover:text-primary select-none ${i.pathname.includes("/challenges")?"text-primary":"text-foreground"}`,children:s("challenges")}),o.jsxs(qe,{to:"/quests",onClick:f,className:`text-sm font-medium transition-colors hover:text-primary select-none flex items-center gap-1.5 ${i.pathname==="/quests"?"text-primary":"text-foreground"}`,children:[s("quest"),o.jsx(an,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-[10px] px-1.5 py-0 h-4",children:"Alpha"})]}),o.jsx(qe,{to:"/leaderboard",onClick:f,className:`text-sm font-medium transition-colors hover:text-primary select-none ${i.pathname==="/leaderboard"?"text-primary":"text-foreground"}`,children:s("leaderboard")}),o.jsx(qe,{to:"/feed",onClick:f,className:`text-sm font-medium transition-colors hover:text-primary select-none ${i.pathname==="/feed"?"text-primary":"text-foreground"}`,children:"Feed"})]});return o.jsx("header",{className:`sticky top-0 z-40 w-full transition-all duration-200 ${a?"bg-background/90 backdrop-blur-sm shadow-sm":"bg-background"}`,children:o.jsxs("div",{className:"container flex h-16 items-center justify-between py-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6 bg-transparent",style:{mixBlendMode:"normal"}}),o.jsx("span",{className:"text-xl font-bold gradient-text",children:"Saiko"})]})}),o.jsx("nav",{className:"hidden md:flex items-center gap-6",children:o.jsx(u,{})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(T1,{children:[o.jsx(A1,{asChild:!0,children:o.jsx(de,{variant:"ghost",size:"icon",children:o.jsx(U4,{className:"h-5 w-5"})})}),o.jsxs(Nv,{align:"end",children:[o.jsx(pa,{onClick:()=>r("en"),children:"English"}),o.jsx(pa,{onClick:()=>r("de"),children:"Deutsch"})]})]}),o.jsxs(yN,{open:c,onOpenChange:d,children:[o.jsx(VV,{asChild:!0,children:o.jsx(de,{variant:"ghost",size:"icon",className:"md:hidden",children:o.jsx(q4,{className:"h-5 w-5"})})}),o.jsx(xN,{children:o.jsxs(bN,{className:"text-left",children:[o.jsx(CN,{className:"sr-only",children:"Navigation Menu"}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx(u,{onLinkClick:()=>d(!1)}),e?o.jsxs(o.Fragment,{children:[o.jsx(qe,{to:"/profile",onClick:()=>d(!1),className:`text-sm font-medium transition-colors hover:text-primary select-none ${i.pathname==="/profile"?"text-primary":"text-foreground"}`,children:s("profile")}),o.jsx(qe,{to:"/my-challenges",onClick:()=>d(!1),className:`text-sm font-medium transition-colors hover:text-primary select-none ${i.pathname==="/my-challenges"?"text-primary":"text-foreground"}`,children:s("myChallenges")}),o.jsx("button",{onClick:()=>{t(),d(!1)},className:"text-sm font-medium text-red-500 transition-colors hover:text-red-600 select-none",children:s("logout")})]}):o.jsxs(o.Fragment,{children:[o.jsx(qe,{to:"/login",onClick:()=>d(!1),className:"text-sm font-medium transition-colors hover:text-primary select-none",children:s("login")}),o.jsx(qe,{to:"/signup",onClick:()=>d(!1),className:"text-sm font-medium transition-colors hover:text-primary select-none",children:s("signup")})]})]})]})})]}),e?o.jsxs(T1,{children:[o.jsx(A1,{asChild:!0,children:o.jsxs("button",{className:"flex items-center gap-2 rounded-full focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[e.avatarUrl?o.jsxs(Ls,{className:"h-8 w-8",children:[o.jsx($s,{src:e.avatarUrl}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-4 w-4"})})]}):o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:o.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})}),o.jsx("span",{className:"hidden sm:inline-block text-sm font-medium",children:e.name})]})}),o.jsxs(Nv,{align:"end",children:[o.jsx(sN,{children:s("myAccount")}),o.jsx(Tv,{}),o.jsx(pa,{asChild:!0,children:o.jsx(qe,{to:"/dashboard",className:i.pathname==="/dashboard"?"text-primary":"",children:"Dashboard"})}),o.jsx(pa,{asChild:!0,children:o.jsx(qe,{to:"/profile",className:i.pathname==="/profile"?"text-primary":"",children:s("profile")})}),o.jsx(pa,{asChild:!0,children:o.jsx(qe,{to:"/my-challenges",className:i.pathname==="/my-challenges"?"text-primary":"",children:s("myChallenges")})}),o.jsx(Tv,{}),o.jsx(pa,{onClick:t,children:s("logout")})]})]}):o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsx(de,{asChild:!0,variant:"ghost",children:o.jsx(qe,{to:"/login",children:s("login")})}),o.jsx(de,{asChild:!0,children:o.jsx(qe,{to:"/signup",children:s("signup")})})]})]})]})})}function qV(){return o.jsx("footer",{className:"border-t",children:o.jsx("div",{className:"container py-4",children:o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Dir gefllt Saiko?"," ",o.jsx("a",{href:"https://buymeacoffee.com/randomdailychallenge",target:"_blank",rel:"noopener noreferrer",className:"text-foreground hover:underline",children:"Gib mir ein Bier aus!"})," ",o.jsx("span",{className:"text-foreground",children:""})]})})})}function KV(){const e=Js(),t=zu(),n=e.pathname==="/",r=e.pathname==="/dashboard",s=n||r,i=async()=>{window.location.reload()},a=o.jsxs("div",{className:"flex min-h-screen flex-col",children:[o.jsx(HV,{}),o.jsx("main",{className:"flex-1",children:o.jsx(Z3,{})}),s&&o.jsx(qV,{})]});return o.jsxs(eB,{children:[o.jsx(tB,{}),t?o.jsx(QU,{onRefresh:i,children:a}):a]})}function hc({children:e,redirectTo:t="/"}){const{user:n,isLoading:r}=Ct();return r?o.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:o.jsxs("div",{className:"animate-pulse text-center",children:[o.jsx("div",{className:"h-12 w-12 mx-auto rounded-full bg-primary/20"}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Loading..."})]})}):n?o.jsx(o.Fragment,{children:e}):o.jsx(J3,{to:t,replace:!0})}function YV(){const{user:e}=Ct(),{language:t}=gt(),{t:n}=pt(t),r=wn();return p.useEffect(()=>{e&&r("/dashboard",{replace:!0})},[e,r]),e?null:o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted py-20 md:py-32",children:[o.jsx("div",{className:"container relative z-10",children:o.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[o.jsxs("h1",{className:"text-3xl font-bold tracking-tighter sm:text-5xl md:text-6xl",children:[o.jsx("span",{children:n("heroTitlePart1")})," ",o.jsx("span",{className:"bg-gradient-to-r from-challenge-purple via-challenge-teal to-challenge-coral bg-clip-text text-transparent",children:n("heroTitlePart2")})," ",o.jsx("span",{children:n("heroTitlePart3")})]}),o.jsx("p",{className:"mt-6 text-lg text-muted-foreground md:text-xl",children:n("heroSubtitle")}),o.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[e?o.jsx(de,{asChild:!0,size:"lg",children:o.jsxs(qe,{to:"/dashboard",children:[o.jsx(er,{className:"mr-2 h-5 w-5"}),n("goToDashboard")]})}):o.jsx(de,{asChild:!0,size:"lg",children:o.jsxs(qe,{to:"/signup",children:[o.jsx(er,{className:"mr-2 h-5 w-5"}),n("getStarted")]})}),o.jsx(de,{asChild:!0,variant:"outline",size:"lg",children:o.jsx(qe,{to:"/challenges/create",children:n("createChallenge")})})]})]})}),o.jsx("div",{className:"absolute top-0 -left-4 h-72 w-72 rounded-full bg-challenge-purple opacity-10 blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-0 h-96 w-96 rounded-full bg-challenge-teal opacity-10 blur-3xl"})]}),o.jsx("section",{className:"py-16 md:py-24",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:n("howItWorks")}),o.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:n("howItWorksDescription")})]}),o.jsxs("div",{className:"mt-16 grid gap-8 md:grid-cols-3",children:[o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-primary/10",children:o.jsx(er,{className:"h-6 w-6 text-primary"})}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:n("createChallenges")}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:n("createChallengesDescription")})]}),o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-challenge-teal/10",children:o.jsx(Q4,{className:"h-6 w-6 text-challenge-teal"})}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:n("trackProgress")}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:n("trackProgressDescription")})]}),o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-challenge-coral/10",children:o.jsx(f0,{className:"h-6 w-6 text-challenge-coral"})}),o.jsx("h3",{className:"mt-4 text-xl font-semibold",children:n("winPoints")}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:n("winPointsDescription")})]})]})]})})]})}const Ge=p.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ge.displayName="Input";var GV="Label",SN=p.forwardRef((e,t)=>o.jsx(Ne.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));SN.displayName=GV;var jN=SN;const QV=Fu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=p.forwardRef(({className:e,...t},n)=>o.jsx(jN,{ref:n,className:ge(QV(),e),...t}));De.displayName=jN.displayName;const Xe=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Xe.displayName="Card";const Yt=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));Yt.displayName="CardHeader";const Gt=p.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));Gt.displayName="CardTitle";const gn=p.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));gn.displayName="CardDescription";const bt=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ge("p-6 pt-0",e),...t}));bt.displayName="CardContent";const Gi=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",e),...t}));Gi.displayName="CardFooter";function XV(){const[e,t]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),{login:a,user:l,isLoading:c}=Ct(),{toast:d}=un(),u=wn(),{language:f}=gt(),{t:h}=pt(f);p.useEffect(()=>{!c&&l&&u("/dashboard",{replace:!0})},[l,c,u]);const m=async v=>{if(v.preventDefault(),!e||!n){d({title:h("error"),description:h("enterEmailAndPassword"),variant:"destructive"});return}i(!0);try{await a(e,n),d({title:h("loginSuccess"),description:h("loginSuccessDescription")}),u("/dashboard")}catch(g){d({title:h("loginFailed"),description:h("invalidCredentials"),variant:"destructive"}),console.error("Login error:",g)}finally{i(!1)}};return o.jsxs("div",{className:"container max-w-md py-12",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6 bg-transparent",style:{mixBlendMode:"normal"}}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Saiko"})]})}),o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{className:"text-2xl",children:h("loginTitle")}),o.jsx(gn,{children:h("loginDescription")})]}),o.jsxs("form",{onSubmit:m,children:[o.jsxs(bt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:h("email")}),o.jsx(Ge,{id:"email",type:"email",placeholder:h("enterEmail"),value:e,onChange:v=>t(v.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(De,{htmlFor:"password",children:h("password")}),o.jsx(qe,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:h("forgotPassword")})]}),o.jsx(Ge,{id:"password",type:"password",placeholder:h("enterPassword"),value:n,onChange:v=>r(v.target.value)})]})]}),o.jsxs(Gi,{className:"flex flex-col space-y-4",children:[o.jsx(de,{type:"submit",className:"w-full",disabled:s,children:h(s?"loggingIn":"login")}),o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[h("noAccount")," ",o.jsx(qe,{to:"/signup",className:"text-primary hover:underline",children:h("signup")})]})]})]})]}),o.jsx("div",{className:"mt-4 text-center text-xs text-muted-foreground",children:o.jsx("p",{children:h("demoNote")})})]})}function JV(){const[e,t]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState(""),[c,d]=p.useState(""),[u,f]=p.useState(!1),[h,m]=p.useState(!1),{signup:v,checkEmailConfirmation:g}=Ct(),{toast:y}=un();wn();const{language:x}=gt(),{t:b}=pt(x),C=async w=>{if(w.preventDefault(),!e||!n||!s||!a){y({title:b("error"),description:b("fillRequiredFields"),variant:"destructive"});return}if(n!==s){y({title:b("error"),description:b("emailsDoNotMatch"),variant:"destructive"});return}if(a!==c){y({title:b("error"),description:b("passwordsDoNotMatch"),variant:"destructive"});return}if(a.length<6){y({title:b("error"),description:b("passwordTooShort"),variant:"destructive"});return}f(!0);try{await v(e,n,a),m(!0),y({title:b("checkEmail"),description:b("checkEmailDescription")})}catch{y({title:b("registrationFailed"),description:b("emailInUse"),variant:"destructive"})}finally{f(!1)}},_=async()=>{try{await g(n),y({title:b("emailSent"),description:b("emailSentDescription")})}catch{y({title:b("error"),description:b("resendFailed"),variant:"destructive"})}};return h?o.jsxs("div",{className:"container max-w-md py-12",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6 bg-transparent",style:{mixBlendMode:"normal"}}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Saiko"})]})}),o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{className:"text-2xl",children:b("checkEmail")}),o.jsx(gn,{children:b("checkEmailDescription")})]}),o.jsxs(bt,{className:"space-y-4",children:[o.jsx("p",{className:"text-center text-muted-foreground",children:b("emailConfirmationSent")}),o.jsx(de,{onClick:_,className:"w-full",children:b("resendEmail")})]}),o.jsx(Gi,{className:"flex flex-col space-y-4",children:o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[b("alreadyHaveAccount")," ",o.jsx(qe,{to:"/login",className:"text-primary hover:underline",children:b("login")})]})})]})]}):o.jsxs("div",{className:"container max-w-md py-12",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6"}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Saiko"})]})}),o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{className:"text-2xl",children:b("createAccount")}),o.jsx(gn,{children:b("enterInformation")})]}),o.jsxs("form",{onSubmit:C,children:[o.jsxs(bt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"name",children:b("fullName")}),o.jsx(Ge,{id:"name",type:"text",placeholder:b("enterFullName"),value:e,onChange:w=>t(w.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:b("email")}),o.jsx(Ge,{id:"email",type:"email",placeholder:b("enterEmail"),value:n,onChange:w=>r(w.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email-confirm",children:b("confirmEmail")}),o.jsx(Ge,{id:"email-confirm",type:"email",placeholder:b("enterConfirmEmail"),value:s,onChange:w=>i(w.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"password",children:b("password")}),o.jsx(Ge,{id:"password",type:"password",placeholder:b("enterPassword"),value:a,onChange:w=>l(w.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"password-confirm",children:b("confirmPassword")}),o.jsx(Ge,{id:"password-confirm",type:"password",placeholder:b("enterConfirmPassword"),value:c,onChange:w=>d(w.target.value)})]})]}),o.jsxs(Gi,{className:"flex flex-col space-y-4",children:[o.jsx(de,{type:"submit",className:"w-full",disabled:u,children:b(u?"creatingAccount":"createAccount")}),o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[b("alreadyHaveAccount")," ",o.jsx(qe,{to:"/login",className:"text-primary hover:underline",children:b("login")})]})]})]})]})]})}function ZV(){const[e,t]=p.useState(""),[n,r]=p.useState(!1),{toast:s}=un(),{language:i}=gt(),{t:a}=pt(i),l=async c=>{if(c.preventDefault(),!e){s({title:a("error"),description:a("enterEmail"),variant:"destructive"});return}r(!0);try{const{error:d}=await J.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/callback`});if(d)throw d;s({title:a("success"),description:a("resetPasswordEmailSent")})}catch(d){console.error("Reset password error:",d),s({title:a("error"),description:a("resetPasswordFailed"),variant:"destructive"})}finally{r(!1)}};return o.jsxs("div",{className:"container max-w-md py-12",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6 bg-transparent",style:{mixBlendMode:"normal"}}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Saiko"})]})}),o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{className:"text-2xl",children:a("forgotPassword")}),o.jsx(gn,{children:a("forgotPasswordDescription")})]}),o.jsxs("form",{onSubmit:l,children:[o.jsx(bt,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:a("email")}),o.jsx(Ge,{id:"email",type:"email",placeholder:a("enterEmail"),value:e,onChange:c=>t(c.target.value)})]})}),o.jsxs(Gi,{className:"flex flex-col space-y-4",children:[o.jsx(de,{type:"submit",className:"w-full",disabled:n,children:a(n?"sending":"sendResetLink")}),o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[a("rememberPassword")," ",o.jsx(qe,{to:"/login",className:"text-primary hover:underline",children:a("login")})]})]})]})]})]})}function F1(){const[e,t]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c]=A0(),{toast:d}=un(),u=wn(),{language:f}=gt(),{t:h}=pt(f);p.useEffect(()=>{(async()=>{try{const{data:g,error:y}=await J.auth.getSession();if(y){console.error("Session error:",y),d({title:h("error"),description:"Invalid or expired reset token",variant:"destructive"}),u("/forgot-password");return}if(g.session)l(!0);else{const x=c.get("access_token"),b=c.get("refresh_token");if(x&&b){const{error:C}=await J.auth.setSession({access_token:x,refresh_token:b});if(C){console.error("Set session error:",C),d({title:h("error"),description:"Invalid or expired reset token",variant:"destructive"}),u("/forgot-password");return}l(!0)}else d({title:h("error"),description:"Invalid or missing reset token",variant:"destructive"}),u("/forgot-password")}}catch(g){console.error("Auth callback error:",g),d({title:h("error"),description:"Invalid or expired reset token",variant:"destructive"}),u("/forgot-password")}})()},[c,d,h,u]);const m=async v=>{if(v.preventDefault(),!e||!n){d({title:h("error"),description:h("enterPasswordAndConfirm"),variant:"destructive"});return}if(e!==n){d({title:h("error"),description:h("passwordsDoNotMatch"),variant:"destructive"});return}if(e.length<6){d({title:h("error"),description:h("passwordTooShort"),variant:"destructive"});return}i(!0);try{const{error:g}=await J.auth.updateUser({password:e});if(g)throw g;d({title:h("success"),description:h("passwordResetSuccess")}),u("/login")}catch(g){console.error("Reset password error:",g),d({title:h("error"),description:h("passwordResetFailed"),variant:"destructive"})}finally{i(!1)}};return a?o.jsxs("div",{className:"container max-w-md py-12",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6"}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Saiko"})]})}),o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{className:"text-2xl",children:h("resetPassword")}),o.jsx(gn,{children:h("resetPasswordDescription")})]}),o.jsxs("form",{onSubmit:m,children:[o.jsxs(bt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"password",children:h("password")}),o.jsx(Ge,{id:"password",type:"password",placeholder:h("enterPassword"),value:e,onChange:v=>t(v.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"confirmPassword",children:h("confirmPassword")}),o.jsx(Ge,{id:"confirmPassword",type:"password",placeholder:h("enterConfirmPassword"),value:n,onChange:v=>r(v.target.value)})]})]}),o.jsxs(Gi,{className:"flex flex-col space-y-4",children:[o.jsx(de,{type:"submit",className:"w-full",disabled:s,children:h(s?"resetting":"resetPassword")}),o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[h("rememberPassword")," ",o.jsx(qe,{to:"/login",className:"text-primary hover:underline",children:h("login")})]})]})]})]})]}):o.jsxs("div",{className:"container max-w-md py-12",children:[o.jsx("div",{className:"mb-8 flex justify-center",children:o.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[o.jsx("img",{src:"/favicon.png",alt:"Saiko",className:"h-6 w-6 bg-transparent",style:{mixBlendMode:"normal"}}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Saiko"})]})}),o.jsx(Xe,{children:o.jsx(bt,{className:"pt-6",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Verifying reset token..."})})})})]})}function ez(e,t=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function d(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[e][c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,tz(s,...t)]}function tz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var nw="Progress",rw=100,[nz,rJ]=ez(nw),[rz,sz]=nz(nw),_N=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=iz,...a}=e;(s||s===0)&&!L1(s)&&console.error(az(`${s}`,"Progress"));const l=L1(s)?s:rw;r!==null&&!$1(r,l)&&console.error(oz(`${r}`,"Progress"));const c=$1(r,l)?r:null,d=sh(c)?i(c,l):void 0;return o.jsx(rz,{scope:n,value:c,max:l,children:o.jsx(Ne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":sh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":DN(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});_N.displayName=nw;var kN="ProgressIndicator",PN=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=sz(kN,n);return o.jsx(Ne.div,{"data-state":DN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});PN.displayName=kN;function iz(e,t){return`${Math.round(e/t*100)}%`}function DN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sh(e){return typeof e=="number"}function L1(e){return sh(e)&&!isNaN(e)&&e>0}function $1(e,t){return sh(e)&&!isNaN(e)&&e<=t&&e>=0}function az(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rw}\`.`}function oz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EN=_N,lz=PN;const Hl=p.forwardRef(({className:e,value:t,...n},r)=>{const s=Math.min(100,Math.max(0,t||0));return o.jsx(EN,{ref:r,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(lz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-s}%)`}})})});Hl.displayName=EN.displayName;var NN="AlertDialog",[cz,sJ]=Tr(NN,[gD]),Zs=gD(),TN=e=>{const{__scopeAlertDialog:t,...n}=e,r=Zs(t);return o.jsx(z0,{...r,...n,modal:!0})};TN.displayName=NN;var uz="AlertDialogTrigger",dz=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Zs(n);return o.jsx(W0,{...s,...r,ref:t})});dz.displayName=uz;var fz="AlertDialogPortal",AN=e=>{const{__scopeAlertDialog:t,...n}=e,r=Zs(t);return o.jsx(H0,{...r,...n})};AN.displayName=fz;var hz="AlertDialogOverlay",MN=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Zs(n);return o.jsx(um,{...s,...r,ref:t})});MN.displayName=hz;var Yo="AlertDialogContent",[mz,pz]=cz(Yo),RN=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Zs(n),a=p.useRef(null),l=Qe(t,a),c=p.useRef(null);return o.jsx(Y8,{contentName:Yo,titleName:IN,docsSlug:"alert-dialog",children:o.jsx(mz,{scope:n,cancelRef:c,children:o.jsxs(dm,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ve(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(o0,{children:r}),o.jsx(vz,{contentRef:a})]})})})});RN.displayName=Yo;var IN="AlertDialogTitle",ON=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Zs(n);return o.jsx(fm,{...s,...r,ref:t})});ON.displayName=IN;var FN="AlertDialogDescription",LN=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Zs(n);return o.jsx(hm,{...s,...r,ref:t})});LN.displayName=FN;var gz="AlertDialogAction",$N=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Zs(n);return o.jsx(mm,{...s,...r,ref:t})});$N.displayName=gz;var UN="AlertDialogCancel",BN=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=pz(UN,n),i=Zs(n),a=Qe(t,s);return o.jsx(mm,{...i,...r,ref:a})});BN.displayName=UN;var vz=({contentRef:e})=>{const t=`\`${Yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yo}\` by passing a \`${FN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},yz=TN,wz=AN,VN=MN,zN=RN,WN=$N,HN=BN,qN=ON,KN=LN;const xu=yz,xz=wz,YN=p.forwardRef(({className:e,...t},n)=>o.jsx(VN,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));YN.displayName=VN.displayName;const vl=p.forwardRef(({className:e,...t},n)=>o.jsxs(xz,{children:[o.jsx(YN,{}),o.jsx(zN,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vl.displayName=zN.displayName;const yl=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});yl.displayName="AlertDialogHeader";const wl=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wl.displayName="AlertDialogFooter";const xl=p.forwardRef(({className:e,...t},n)=>o.jsx(qN,{ref:n,className:ge("text-lg font-semibold",e),...t}));xl.displayName=qN.displayName;const bl=p.forwardRef(({className:e,...t},n)=>o.jsx(KN,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));bl.displayName=KN.displayName;const Cl=p.forwardRef(({className:e,...t},n)=>o.jsx(WN,{ref:n,className:ge(vu(),e),...t}));Cl.displayName=WN.displayName;const Sl=p.forwardRef(({className:e,...t},n)=>o.jsx(HN,{ref:n,className:ge(vu({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Sl.displayName=HN.displayName;function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function nr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function $t(e,t){const n=Le(e);return isNaN(t)?nr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Jr(e,t){const n=Le(e);if(isNaN(t))return nr(e,NaN);if(!t)return n;const r=n.getDate(),s=nr(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const sw=6048e5,bz=864e5,$d=43200,U1=1440;let Cz={};function ql(){return Cz}function js(e,t){var l,c,d,u;const n=ql(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Le(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Qa(e){return js(e,{weekStartsOn:1})}function GN(e){const t=Le(e),n=t.getFullYear(),r=nr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Qa(r),i=nr(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Qa(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function jl(e){const t=Le(e);return t.setHours(0,0,0,0),t}function _l(e){const t=Le(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function gs(e,t){const n=jl(e),r=jl(t),s=+n-_l(n),i=+r-_l(r);return Math.round((s-i)/bz)}function Sz(e){const t=GN(e),n=nr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qa(n)}function Rv(e,t){const n=t*7;return $t(e,n)}function jz(e,t){return Jr(e,t*12)}function _z(e){let t;return e.forEach(function(n){const r=Le(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function kz(e){let t;return e.forEach(n=>{const r=Le(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function mf(e,t){const n=Le(e),r=Le(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Pz(e){return nr(e,Date.now())}function Gn(e,t){const n=jl(e),r=jl(t);return+n==+r}function iw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Dz(e){if(!iw(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}function kl(e,t){const n=Le(e),r=Le(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Ez(e,t,n){const r=js(e,n),s=js(t,n),i=+r-_l(r),a=+s-_l(s);return Math.round((i-a)/sw)}function Nz(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Tz(e,t){return+Le(e)-+Le(t)}function Az(e){const t=Le(e);return t.setHours(23,59,59,999),t}function bm(e){const t=Le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Mz(e){const t=Le(e);return+Az(t)==+bm(t)}function Rz(e,t){const n=Le(e),r=Le(t),s=mf(n,r),i=Math.abs(kl(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=mf(n,r)===-s;Mz(Le(e))&&i===1&&mf(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function Iz(e,t,n){const r=Tz(e,t)/1e3;return Nz(n==null?void 0:n.roundingMethod)(r)}function tr(e){const t=Le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function QN(e){const t=Le(e),n=nr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aw(e,t){var l,c,d,u;const n=ql(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Le(e),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function XN(e){return aw(e,{weekStartsOn:1})}const Oz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fz=(e,t,n)=>{let r;const s=Oz[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Go(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Lz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$z={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bz={date:Go({formats:Lz,defaultWidth:"full"}),time:Go({formats:$z,defaultWidth:"full"}),dateTime:Go({formats:Uz,defaultWidth:"full"})},Vz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zz=(e,t,n,r)=>Vz[e];function hs(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Wz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xz={ordinalNumber:Qz,era:hs({values:Wz,defaultWidth:"wide"}),quarter:hs({values:Hz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hs({values:qz,defaultWidth:"wide"}),day:hs({values:Kz,defaultWidth:"wide"}),dayPeriod:hs({values:Yz,defaultWidth:"wide",formattingValues:Gz,defaultFormattingWidth:"wide"})};function ms(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Zz(l,f=>f.test(a)):Jz(l,f=>f.test(a));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(a.length);return{value:d,rest:u}}}function Jz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Zz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function JN(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const eW=/^(\d+)(th|st|nd|rd)?/i,tW=/\d+/i,nW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rW={any:[/^b/i,/^(a|c)/i]},sW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iW={any:[/1/i,/2/i,/3/i,/4/i]},aW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fW={ordinalNumber:JN({matchPattern:eW,parsePattern:tW,valueCallback:e=>parseInt(e,10)}),era:ms({matchPatterns:nW,defaultMatchWidth:"wide",parsePatterns:rW,defaultParseWidth:"any"}),quarter:ms({matchPatterns:sW,defaultMatchWidth:"wide",parsePatterns:iW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ms({matchPatterns:aW,defaultMatchWidth:"wide",parsePatterns:oW,defaultParseWidth:"any"}),day:ms({matchPatterns:lW,defaultMatchWidth:"wide",parsePatterns:cW,defaultParseWidth:"any"}),dayPeriod:ms({matchPatterns:uW,defaultMatchWidth:"any",parsePatterns:dW,defaultParseWidth:"any"})},io={code:"en-US",formatDistance:Fz,formatLong:Bz,formatRelative:zz,localize:Xz,match:fW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hW(e){const t=Le(e);return gs(t,QN(t))+1}function ZN(e){const t=Le(e),n=+Qa(t)-+Sz(t);return Math.round(n/sw)+1}function e2(e,t){var u,f,h,m;const n=Le(e),r=n.getFullYear(),s=ql(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=nr(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=js(a,t),c=nr(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=js(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function mW(e,t){var l,c,d,u;const n=ql(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=e2(e,t),i=nr(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),js(i,t)}function t2(e,t){const n=Le(e),r=+js(n,t)-+mW(n,t);return Math.round(r/sw)+1}function it(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ri={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return it(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):it(n+1,2)},d(e,t){return it(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return it(e.getHours()%12||12,t.length)},H(e,t){return it(e.getHours(),t.length)},m(e,t){return it(e.getMinutes(),t.length)},s(e,t){return it(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return it(s,t.length)}},mo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},B1={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ri.y(e,t)},Y:function(e,t,n,r){const s=e2(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return it(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):it(i,t.length)},R:function(e,t){const n=GN(e);return it(n,t.length)},u:function(e,t){const n=e.getFullYear();return it(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ri.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=t2(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):it(s,t.length)},I:function(e,t,n){const r=ZN(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ri.d(e,t)},D:function(e,t,n){const r=hW(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return it(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return it(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return it(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=mo.noon:r===0?s=mo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=mo.evening:r>=12?s=mo.afternoon:r>=4?s=mo.morning:s=mo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ri.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ri.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ri.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ri.s(e,t)},S:function(e,t){return ri.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return z1(r);case"XXXX":case"XX":return ga(r);case"XXXXX":case"XXX":default:return ga(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return z1(r);case"xxxx":case"xx":return ga(r);case"xxxxx":case"xxx":default:return ga(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+V1(r,":");case"OOOO":default:return"GMT"+ga(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+V1(r,":");case"zzzz":default:return"GMT"+ga(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return it(r,t.length)},T:function(e,t,n){const r=e.getTime();return it(r,t.length)}};function V1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+it(i,2)}function z1(e,t){return e%60===0?(e>0?"-":"+")+it(Math.abs(e)/60,2):ga(e,t)}function ga(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=it(Math.trunc(r/60),2),i=it(r%60,2);return n+s+t+i}const W1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},n2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pW=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return W1(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",W1(r,t)).replace("{{time}}",n2(s,t))},gW={p:n2,P:pW},vW=/^D+$/,yW=/^Y+$/,wW=["D","DD","YY","YYYY"];function xW(e){return vW.test(e)}function bW(e){return yW.test(e)}function CW(e,t,n){const r=SW(e,t,n);if(console.warn(r),wW.includes(e))throw new RangeError(r)}function SW(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_W=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kW=/^'([^]*?)'?$/,PW=/''/g,DW=/[a-zA-Z]/;function Ot(e,t,n){var u,f,h,m,v,g,y,x;const r=ql(),s=(n==null?void 0:n.locale)??r.locale??io,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,l=Le(e);if(!Dz(l))throw new RangeError("Invalid time value");let c=t.match(_W).map(b=>{const C=b[0];if(C==="p"||C==="P"){const _=gW[C];return _(b,s.formatLong)}return b}).join("").match(jW).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const C=b[0];if(C==="'")return{isToken:!1,value:EW(b)};if(B1[C])return{isToken:!0,value:b};if(C.match(DW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const C=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&bW(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&xW(C))&&CW(C,t,String(e));const _=B1[C[0]];return _(l,C,s.localize,d)}).join("")}function EW(e){const t=e.match(kW);return t?t[1].replace(PW,"'"):e}function NW(e,t,n){const r=ql(),s=(n==null?void 0:n.locale)??r.locale??io,i=2520,a=mf(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,d;a>0?(c=Le(t),d=Le(e)):(c=Le(e),d=Le(t));const u=Iz(d,c),f=(_l(d)-_l(c))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<U1){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<$d){const v=Math.round(h/U1);return s.formatDistance("xDays",v,l)}else if(h<$d*2)return m=Math.round(h/$d),s.formatDistance("aboutXMonths",m,l)}if(m=Rz(d,c),m<12){const v=Math.round(h/$d);return s.formatDistance("xMonths",v,l)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function TW(e,t){return NW(e,Pz(e),t)}function AW(e){const t=Le(e),n=t.getFullYear(),r=t.getMonth(),s=nr(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function MW(e){return Math.trunc(+Le(e)/1e3)}function RW(e){const t=Le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function IW(e,t){return Ez(RW(e),tr(e),t)+1}function Iv(e,t){const n=Le(e),r=Le(t);return n.getTime()>r.getTime()}function r2(e,t){const n=Le(e),r=Le(t);return+n<+r}function ow(e,t){const n=Le(e),r=Le(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function OW(e,t){const n=Le(e),r=Le(t);return n.getFullYear()===r.getFullYear()}function Ip(e,t){return $t(e,-t)}function Op(e,t){const n=Le(e),r=n.getFullYear(),s=n.getDate(),i=nr(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const a=AW(i);return n.setMonth(t,Math.min(s,a)),n}function H1(e,t){const n=Le(e);return isNaN(+n)?nr(e,NaN):(n.setFullYear(t),n)}const q1={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},FW=(e,t,n)=>{let r;const s=n!=null&&n.addSuffix?q1[e].withPreposition:q1[e].standalone;return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r},LW={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},$W={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},UW={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},BW={date:Go({formats:LW,defaultWidth:"full"}),time:Go({formats:$W,defaultWidth:"full"}),dateTime:Go({formats:UW,defaultWidth:"full"})},VW={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},zW=(e,t,n,r)=>VW[e],WW={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},HW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},Ov={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},qW={narrow:Ov.narrow,abbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:Ov.wide},KW={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},YW={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},GW={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},QW=e=>Number(e)+".",XW={ordinalNumber:QW,era:hs({values:WW,defaultWidth:"wide"}),quarter:hs({values:HW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hs({values:Ov,formattingValues:qW,defaultWidth:"wide"}),day:hs({values:KW,defaultWidth:"wide"}),dayPeriod:hs({values:YW,defaultWidth:"wide",formattingValues:GW,defaultFormattingWidth:"wide"})},JW=/^(\d+)(\.)?/i,ZW=/\d+/i,e9={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},t9={any:[/^v/i,/^n/i]},n9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},r9={any:[/1/i,/2/i,/3/i,/4/i]},s9={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},i9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a9={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},o9={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},l9={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},c9={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},u9={ordinalNumber:JN({matchPattern:JW,parsePattern:ZW,valueCallback:e=>parseInt(e)}),era:ms({matchPatterns:e9,defaultMatchWidth:"wide",parsePatterns:t9,defaultParseWidth:"any"}),quarter:ms({matchPatterns:n9,defaultMatchWidth:"wide",parsePatterns:r9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ms({matchPatterns:s9,defaultMatchWidth:"wide",parsePatterns:i9,defaultParseWidth:"any"}),day:ms({matchPatterns:a9,defaultMatchWidth:"wide",parsePatterns:o9,defaultParseWidth:"any"}),dayPeriod:ms({matchPatterns:l9,defaultMatchWidth:"wide",parsePatterns:c9,defaultParseWidth:"any"})},Cm={code:"de",formatDistance:FW,formatLong:BW,formatRelative:zW,localize:XW,match:u9,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Ud({challenge:e,userScore:t=0,showJoin:n=!0}){var T;const{joinChallenge:r,getChallengeProgress:s}=Xr(),{user:i}=Ct(),{language:a}=gt(),{t:l}=pt(a),[c,d]=p.useState(0),[u,f]=p.useState(!1),[h,m]=p.useState({current:0,total:0}),[v,g]=p.useState(!1),y=wn(),x=a==="de"?Cm:io,b=i&&e.participants&&e.participants.includes(i.id),{getUserChallengeStartDate:C,getUserChallengeEndDate:_}=Xr(),[w,D]=p.useState(null),[k,S]=p.useState(null);p.useEffect(()=>{i&&b?Promise.all([C(e.id,i.id),_(e.id,i.id)]).then(([j,M])=>{D(j),S(M)}):(D(null),S(null))},[e.isRepeating,e.id,i,b,C,_]);const N=w?new Date(w):e.startDate?new Date(e.startDate):null,O=k?new Date(k):e.isRepeating?null:e.endDate?new Date(e.endDate):null,I=new Date,$=N?I>=N&&(!O||I<=O):!1,F=N?I<N:!1,E=O?I>O:!1,L=((T=e.objectives)==null?void 0:T.length)||0;t/e.totalPoints*100,p.useEffect(()=>{(async()=>{var M;if(b){f(!0);try{const U=await s(e.id,e.challengeType),V=gu(e.objectives||[],U,e.capedPoints,e.challengeType);if(e.challengeType==="completion"){const z=new Date(e.startDate),B=new Date(z.getFullYear(),z.getMonth(),z.getDate()),q=e.endDate?new Date(e.endDate):null,W=q?new Date(q.getFullYear(),q.getMonth(),q.getDate()):null,G=W?Math.floor((W.getTime()-B.getTime())/(1e3*60*60*24))+1:365,Z=U.reduce((H,Q)=>H+Q.currentValue,0);d(Z/G*100),m({current:Z,total:G})}else if(e.challengeType==="weekly")if(!e.endDate)d(0),m({current:0,total:0});else{const z=new Date(e.startDate),B=new Date(e.endDate),q=ps(z,B),W=U.reduce((Z,H)=>Z+H.currentValue,0),G=(e.objectives||[]).reduce((Z,H)=>{const Q=H.targetValue||1;return Z+q*Q},0);d(G>0?W/G*100:0),m({current:W,total:G})}else if(e.challengeType==="collection"||e.challengeType==="checklist"){const z=U.filter(q=>q.currentValue>=1).length,B=((M=e.objectives)==null?void 0:M.length)||0;d(z/B*100),m({current:z,total:B})}else d(V/e.totalPoints*100),m({current:V,total:e.totalPoints})}catch(U){console.error("Error loading progress:",U)}finally{f(!1)}}})()},[b,e.id,e.objectives,e.totalPoints,s]);const A=async j=>{if(j&&j.stopPropagation(),e.isRepeating||!1){g(!0);return}await P()},P=async()=>{f(!0);try{await r(e.id),y(`/challenges/${e.id}`)}catch(j){console.error("Error joining challenge:",j)}finally{f(!1),g(!1)}},R=()=>{b&&y(`/challenges/${e.id}`)};return o.jsxs(Xe,{className:`overflow-hidden flex flex-col h-full transition-all hover:shadow-md ${b?"cursor-pointer":""}`,onClick:R,children:[o.jsxs(Yt,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx(Gt,{className:"line-clamp-1 text-lg",children:e.title}),o.jsxs("div",{className:"flex flex-col gap-1 items-end flex-shrink-0",children:[e.isRepeating&&o.jsx(an,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 text-xs",children:l("repeatingChallenge")||"Individual start date"}),$&&o.jsx(an,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 text-xs",children:l("active")}),F&&o.jsx(an,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:l("upcoming")}),E&&o.jsx(an,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200 text-xs",children:l("completed")})]})]}),o.jsx(gn,{className:"line-clamp-2",children:e.description})]}),o.jsx(bt,{className:"flex-1",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(mi,{className:"h-4 w-4"}),o.jsx("span",{children:N?o.jsxs(o.Fragment,{children:[Ot(N,l("dateFormatShort"),{locale:x}),O?o.jsxs(o.Fragment,{children:[" - ",Ot(O,l("dateFormatLong"),{locale:x})]}):o.jsxs(o.Fragment,{children:[" - ",l("ongoing")]})]}):e.isRepeating&&b?l("repeatingChallengeAvailable")||"Available - Start when you join":l("noDatesSet")||"No dates set"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(f0,{className:"h-4 w-4 text-challenge-purple"}),o.jsxs("span",{className:"text-sm",children:[L," ",l(L===1?"objective":"objectives")]}),o.jsxs("span",{className:"ml-auto text-sm font-semibold",children:[e.totalPoints," ",l("totalPoints")]})]}),b&&o.jsxs("div",{className:"mt-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:e.challengeType==="completion"?l("yourProgress"):l("yourPoints")}),o.jsxs("span",{className:"font-medium",children:[h.current," / ",h.total]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:l("progress")}),o.jsxs("span",{className:"text-sm font-medium",children:[Math.round(c),"%"]})]}),o.jsx(Hl,{value:c,className:"h-2"})]})]})}),o.jsx(Gi,{children:i?!b&&n&&o.jsxs(de,{className:"w-full",onClick:A,disabled:u||E,children:[o.jsx(er,{className:"mr-2 h-4 w-4"}),l(u?"loading":"joinChallenge")]}):o.jsx(de,{asChild:!0,className:"w-full",children:o.jsx(qe,{to:"/login",children:l("login")})})}),o.jsx(xu,{open:v,onOpenChange:g,children:o.jsxs(vl,{children:[o.jsxs(yl,{children:[o.jsx(xl,{children:l("joinRepeatingChallenge")||"Start Challenge Today?"}),o.jsx(bl,{children:l("joinRepeatingChallengeDescription")||"This challenge will start today. Are you sure you want to join and start the challenge now?"})]}),o.jsxs(wl,{children:[o.jsx(Sl,{disabled:u,children:l("cancel")}),o.jsx(Cl,{onClick:P,disabled:u,children:u?l("joining"):l("startToday")||"Yes, start today"})]})]})})]})}function K1(e,[t,n]){return Math.min(n,Math.max(t,e))}function s2(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var d9=[" ","Enter","ArrowUp","ArrowDown"],f9=[" ","Enter"],Yu="Select",[Sm,jm,h9]=Fh(Yu),[Kl,iJ]=Tr(Yu,[h9,ta]),_m=ta(),[m9,sa]=Kl(Yu),[p9,g9]=Kl(Yu),i2=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:m,form:v}=e,g=_m(t),[y,x]=p.useState(null),[b,C]=p.useState(null),[_,w]=p.useState(!1),D=pm(d),[k=!1,S]=Cs({prop:r,defaultProp:s,onChange:i}),[N,O]=Cs({prop:a,defaultProp:l,onChange:c}),I=p.useRef(null),$=y?v||!!y.closest("form"):!0,[F,E]=p.useState(new Set),L=Array.from(F).map(A=>A.props.value).join(";");return o.jsx(Wh,{...g,children:o.jsxs(m9,{required:m,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:C,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:_r(),value:N,onValueChange:O,open:k,onOpenChange:S,dir:D,triggerPointerDownPosRef:I,disabled:h,children:[o.jsx(Sm.Provider,{scope:t,children:o.jsx(p9,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(A=>{E(P=>new Set(P).add(A))},[]),onNativeOptionRemove:p.useCallback(A=>{E(P=>{const R=new Set(P);return R.delete(A),R})},[]),children:n})}),$?o.jsxs(N2,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:N,onChange:A=>O(A.target.value),disabled:h,form:v,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},L):null]})})};i2.displayName=Yu;var a2="SelectTrigger",o2=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=_m(n),a=sa(a2,n),l=a.disabled||r,c=Qe(t,a.onTriggerChange),d=jm(n),u=p.useRef("touch"),[f,h,m]=T2(g=>{const y=d().filter(C=>!C.disabled),x=y.find(C=>C.value===a.value),b=A2(y,g,x);b!==void 0&&a.onValueChange(b.value)}),v=g=>{l||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(Uu,{asChild:!0,...i,children:o.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":E2(a.value)?"":void 0,...s,ref:c,onClick:ve(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:ve(s.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ve(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&d9.includes(g.key)&&(v(),g.preventDefault())})})})});o2.displayName=a2;var l2="SelectValue",c2=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=sa(l2,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Qe(t,c.onValueNodeChange);return cn(()=>{d(u)},[d,u]),o.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:E2(c.value)?o.jsx(o.Fragment,{children:a}):i})});c2.displayName=l2;var v9="SelectIcon",u2=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(Ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});u2.displayName=v9;var y9="SelectPortal",d2=e=>o.jsx(Il,{asChild:!0,...e});d2.displayName=y9;var Xa="SelectContent",f2=p.forwardRef((e,t)=>{const n=sa(Xa,e.__scopeSelect),[r,s]=p.useState();if(cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?eo.createPortal(o.jsx(h2,{scope:e.__scopeSelect,children:o.jsx(Sm.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(m2,{...e,ref:t})});f2.displayName=Xa;var Or=10,[h2,ia]=Kl(Xa),w9="SelectContentImpl",m2=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...x}=e,b=sa(Xa,n),[C,_]=p.useState(null),[w,D]=p.useState(null),k=Qe(t,W=>_(W)),[S,N]=p.useState(null),[O,I]=p.useState(null),$=jm(n),[F,E]=p.useState(!1),L=p.useRef(!1);p.useEffect(()=>{if(C)return cm(C)},[C]),om();const A=p.useCallback(W=>{const[G,...Z]=$().map(re=>re.ref.current),[H]=Z.slice(-1),Q=document.activeElement;for(const re of W)if(re===Q||(re==null||re.scrollIntoView({block:"nearest"}),re===G&&w&&(w.scrollTop=0),re===H&&w&&(w.scrollTop=w.scrollHeight),re==null||re.focus(),document.activeElement!==Q))return},[$,w]),P=p.useCallback(()=>A([S,C]),[A,S,C]);p.useEffect(()=>{F&&P()},[F,P]);const{onOpenChange:R,triggerPointerDownPosRef:T}=b;p.useEffect(()=>{if(C){let W={x:0,y:0};const G=H=>{var Q,re;W={x:Math.abs(Math.round(H.pageX)-(((Q=T.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(H.pageY)-(((re=T.current)==null?void 0:re.y)??0))}},Z=H=>{W.x<=10&&W.y<=10?H.preventDefault():C.contains(H.target)||R(!1),document.removeEventListener("pointermove",G),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",Z,{capture:!0})}}},[C,R,T]),p.useEffect(()=>{const W=()=>R(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[R]);const[j,M]=T2(W=>{const G=$().filter(Q=>!Q.disabled),Z=G.find(Q=>Q.ref.current===document.activeElement),H=A2(G,W,Z);H&&setTimeout(()=>H.ref.current.focus())}),U=p.useCallback((W,G,Z)=>{const H=!L.current&&!Z;(b.value!==void 0&&b.value===G||H)&&(N(W),H&&(L.current=!0))},[b.value]),V=p.useCallback(()=>C==null?void 0:C.focus(),[C]),z=p.useCallback((W,G,Z)=>{const H=!L.current&&!Z;(b.value!==void 0&&b.value===G||H)&&I(W)},[b.value]),B=r==="popper"?Fv:p2,q=B===Fv?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return o.jsx(h2,{scope:n,content:C,viewport:w,onViewportChange:D,itemRefCallback:U,selectedItem:S,onItemLeave:V,itemTextRefCallback:z,focusSelectedItem:P,selectedItemText:O,position:r,isPositioned:F,searchRef:j,children:o.jsx(Hu,{as:qs,allowPinchZoom:!0,children:o.jsx(Wu,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ve(s,W=>{var G;(G=b.trigger)==null||G.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(to,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(B,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault(),...x,...q,onPlaced:()=>E(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,W=>{const G=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!G&&W.key.length===1&&M(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let H=$().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(W.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const Q=W.target,re=H.indexOf(Q);H=H.slice(re+1)}setTimeout(()=>A(H)),W.preventDefault()}})})})})})})});m2.displayName=w9;var x9="SelectItemAlignedPosition",p2=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=sa(Xa,n),a=ia(Xa,n),[l,c]=p.useState(null),[d,u]=p.useState(null),f=Qe(t,k=>u(k)),h=jm(n),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=a,C=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&x){const k=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(i.dir!=="rtl"){const Q=O.left-S.left,re=N.left-Q,ee=k.left-re,ce=k.width+ee,X=Math.max(ce,S.width),ne=window.innerWidth-Or,se=K1(re,[Or,Math.max(Or,ne-X)]);l.style.minWidth=ce+"px",l.style.left=se+"px"}else{const Q=S.right-O.right,re=window.innerWidth-N.right-Q,ee=window.innerWidth-k.right-re,ce=k.width+ee,X=Math.max(ce,S.width),ne=window.innerWidth-Or,se=K1(re,[Or,Math.max(Or,ne-X)]);l.style.minWidth=ce+"px",l.style.right=se+"px"}const I=h(),$=window.innerHeight-Or*2,F=g.scrollHeight,E=window.getComputedStyle(d),L=parseInt(E.borderTopWidth,10),A=parseInt(E.paddingTop,10),P=parseInt(E.borderBottomWidth,10),R=parseInt(E.paddingBottom,10),T=L+A+F+R+P,j=Math.min(y.offsetHeight*5,T),M=window.getComputedStyle(g),U=parseInt(M.paddingTop,10),V=parseInt(M.paddingBottom,10),z=k.top+k.height/2-Or,B=$-z,q=y.offsetHeight/2,W=y.offsetTop+q,G=L+A+W,Z=T-G;if(G<=z){const Q=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const re=d.clientHeight-g.offsetTop-g.offsetHeight,ee=Math.max(B,q+(Q?V:0)+re+P),ce=G+ee;l.style.height=ce+"px"}else{const Q=I.length>0&&y===I[0].ref.current;l.style.top="0px";const ee=Math.max(z,L+g.offsetTop+(Q?U:0)+q)+Z;l.style.height=ee+"px",g.scrollTop=G-z+g.offsetTop}l.style.margin=`${Or}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,d,g,y,x,i.dir,r]);cn(()=>C(),[C]);const[_,w]=p.useState();cn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const D=p.useCallback(k=>{k&&v.current===!0&&(C(),b==null||b(),v.current=!1)},[C,b]);return o.jsx(C9,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});p2.displayName=x9;var b9="SelectPopperPosition",Fv=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Or,...i}=e,a=_m(n);return o.jsx(Hh,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fv.displayName=b9;var[C9,lw]=Kl(Xa,{}),Lv="SelectViewport",g2=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=ia(Lv,n),a=lw(Lv,n),l=Qe(t,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Sm.Slot,{scope:n,children:o.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const v=window.innerHeight-Or*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(g,y);if(x<v){const b=x+m,C=Math.min(v,b),_=b-C;f.style.height=C+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});g2.displayName=Lv;var v2="SelectGroup",[S9,j9]=Kl(v2),_9=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_r();return o.jsx(S9,{scope:n,id:s,children:o.jsx(Ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});_9.displayName=v2;var y2="SelectLabel",w2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=j9(y2,n);return o.jsx(Ne.div,{id:s.id,...r,ref:t})});w2.displayName=y2;var ih="SelectItem",[k9,x2]=Kl(ih),b2=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=sa(ih,n),c=ia(ih,n),d=l.value===r,[u,f]=p.useState(i??""),[h,m]=p.useState(!1),v=Qe(t,b=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,b,r,s)}),g=_r(),y=p.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(k9,{scope:n,value:r,disabled:s,textId:g,isSelected:d,onItemTextChange:p.useCallback(b=>{f(C=>C||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(Sm.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:o.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:ve(a.onFocus,()=>m(!0)),onBlur:ve(a.onBlur,()=>m(!1)),onClick:ve(a.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ve(a.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ve(a.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:ve(a.onPointerMove,b=>{var C;y.current=b.pointerType,s?(C=c.onItemLeave)==null||C.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(a.onPointerLeave,b=>{var C;b.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:ve(a.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(f9.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});b2.displayName=ih;var Cc="SelectItemText",C2=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=sa(Cc,n),l=ia(Cc,n),c=x2(Cc,n),d=g9(Cc,n),[u,f]=p.useState(null),h=Qe(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=u==null?void 0:u.textContent,v=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return cn(()=>(g(v),()=>y(v)),[g,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(Ne.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?eo.createPortal(i.children,a.valueNode):null]})});C2.displayName=Cc;var S2="SelectItemIndicator",j2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return x2(S2,n).isSelected?o.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});j2.displayName=S2;var $v="SelectScrollUpButton",_2=p.forwardRef((e,t)=>{const n=ia($v,e.__scopeSelect),r=lw($v,e.__scopeSelect),[s,i]=p.useState(!1),a=Qe(t,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(P2,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_2.displayName=$v;var Uv="SelectScrollDownButton",k2=p.forwardRef((e,t)=>{const n=ia(Uv,e.__scopeSelect),r=lw(Uv,e.__scopeSelect),[s,i]=p.useState(!1),a=Qe(t,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(P2,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});k2.displayName=Uv;var P2=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=ia("SelectScrollButton",n),a=p.useRef(null),l=jm(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),cn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{c()})})}),P9="SelectSeparator",D2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});D2.displayName=P9;var Bv="SelectArrow",D9=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_m(n),i=sa(Bv,n),a=ia(Bv,n);return i.open&&a.position==="popper"?o.jsx(qh,{...s,...r,ref:t}):null});D9.displayName=Bv;function E2(e){return e===""||e===void 0}var N2=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=p.useRef(null),i=Qe(t,s),a=s2(n);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[a,n]),o.jsx(Ou,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});N2.displayName="BubbleSelect";function T2(e){const t=ln(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function A2(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=E9(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function E9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var N9=i2,M2=o2,T9=c2,A9=u2,M9=d2,R2=f2,R9=g2,I2=w2,O2=b2,I9=C2,O9=j2,F2=_2,L2=k2,$2=D2;const Fa=N9,La=T9,Li=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(M2,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(A9,{asChild:!0,children:o.jsx(wk,{className:"h-4 w-4 opacity-50"})})]}));Li.displayName=M2.displayName;const U2=p.forwardRef(({className:e,...t},n)=>o.jsx(F2,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(I4,{className:"h-4 w-4"})}));U2.displayName=F2.displayName;const B2=p.forwardRef(({className:e,...t},n)=>o.jsx(L2,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(wk,{className:"h-4 w-4"})}));B2.displayName=L2.displayName;const $i=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(M9,{children:o.jsxs(R2,{ref:s,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(U2,{}),o.jsx(R9,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(B2,{})]})}));$i.displayName=R2.displayName;const F9=p.forwardRef(({className:e,...t},n)=>o.jsx(I2,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));F9.displayName=I2.displayName;const Vt=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(O2,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(O9,{children:o.jsx(Ol,{className:"h-4 w-4"})})}),o.jsx(I9,{children:t})]}));Vt.displayName=O2.displayName;const L9=p.forwardRef(({className:e,...t},n)=>o.jsx($2,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));L9.displayName=$2.displayName;function Y1(){const{getChallenge:e,getUserChallenges:t}=Xr(),{user:n,isLoading:r}=Ct(),s=wn();if(p.useEffect(()=>{!r&&!n&&s("/",{replace:!0})},[n,r,s]),r||!n)return null;const{language:i}=gt(),{t:a}=pt(i),[l,c]=p.useState(""),[d,u]=p.useState(!0),[f,h]=p.useState([]),[m,v]=p.useState([]),[g,y]=p.useState(!1),x=()=>{if(typeof window<"u"){const I=localStorage.getItem("challengesPageSelectedView");if(I&&(I==="available"||I==="all"||I==="upcoming"||I==="joined"))return I==="available"||I==="joined"?n?I:"all":I}return n?"available":"all"},[b,C]=p.useState(x());p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("challengesPageSelectedView",b)},[b]);const _=async()=>{try{u(!0);let I=J.from("challenges").select("*").order("createdAt",{ascending:!1});l&&(I=I.or(`title.ilike.%${l}%,description.ilike.%${l}%`));const{data:$,error:F}=await I;if(F){console.error("Error fetching challenges:",F);return}if(!$){h([]);return}const E=$.map(R=>R.id),{data:L}=await J.from("objectives").select("*").in("challenge_id",E).order("challenge_id",{ascending:!0}).order("order",{ascending:!0}),A={};L&&L.forEach(R=>{A[R.challenge_id]||(A[R.challenge_id]=[]),A[R.challenge_id].push({id:R.id,title:R.title,description:R.description||void 0,targetValue:R.target_value!==null?Number(R.target_value):void 0,unit:R.unit||void 0,pointsPerUnit:R.points_per_unit!==null?Number(R.points_per_unit):void 0})});const P=$.map(R=>{const T=A[R.id]||(Array.isArray(R.objectives)?R.objectives:[]),j=Array.isArray(R.participants)?R.participants:[];return{...R,objectives:T,participants:j}});if(h(P),n){const R=await t();v(R)}}catch(I){console.error("Error loading data:",I)}finally{u(!1)}};p.useEffect(()=>{_()},[n,l]);const w=f.filter(I=>I.title.toLowerCase().includes(l.toLowerCase())||I.description.toLowerCase().includes(l.toLowerCase())),D=p.useMemo(()=>{const I=new Date;return w.some($=>{const F=$.endDate?new Date($.endDate):null;return F?I>F:!1})},[w]);n&&w.filter(I=>Array.isArray(I.participants)&&I.participants.includes(n.id));const k=n?w.filter(I=>!Array.isArray(I.participants)||!I.participants.includes(n.id)):w,S=p.useMemo(()=>{const I=new Date;return[...k.filter(E=>{if(E.isRepeating)return!0;const L=E.endDate?new Date(E.endDate):null;return!L||I<=L})].sort((E,L)=>{const A=E.startDate?new Date(E.startDate):null,P=E.endDate?new Date(E.endDate):null,R=L.startDate?new Date(L.startDate):null,T=L.endDate?new Date(L.endDate):null,j=A?I>=A&&(!P||I<=P):!1,M=A?I<A:!1,U=R?I>=R&&(!T||I<=T):!1,V=R?I<R:!1,z=(W,G)=>W?2:G?1:0,B=z(j,M),q=z(U,V);return B!==q?q-B:A&&R?A.getTime()-R.getTime():A?-1:R?1:0})},[k]),N=p.useMemo(()=>{if(!n)return w;const I=new Date;let $=w;return g||($=w.filter(E=>{const L=new Date(E.startDate),A=E.endDate?new Date(E.endDate):null,P=I>=L&&(!A||I<=A),R=I<L;return P||R})),[...$].sort((E,L)=>{const A=new Date(E.startDate),P=E.endDate?new Date(E.endDate):null,R=new Date(L.startDate),T=L.endDate?new Date(L.endDate):null,j=I>=A&&(!P||I<=P),M=I<A,U=P?I>P:!1,V=I>=R&&(!T||I<=T),z=I<R,B=T?I>T:!1,q=(ee,ce,X)=>ee?3:ce?2:X?1:0,W=q(j,M,U),G=q(V,z,B);if(W!==G)return G-W;const Z=m.find(ee=>ee.userId===n.id&&ee.challengeId===E.id),H=m.find(ee=>ee.userId===n.id&&ee.challengeId===L.id),Q=Z?Z.totalScore/E.totalPoints:0;return(H?H.totalScore/L.totalPoints:0)-Q})},[w,n,m,g]),O=p.useMemo(()=>{if(!n)return[];const I=w.filter(E=>Array.isArray(E.participants)&&E.participants.includes(n.id)),$=new Date;return[...I].sort((E,L)=>{const A=new Date(E.startDate),P=new Date(E.endDate),R=new Date(L.startDate),T=new Date(L.endDate),j=$>=A&&$<=P,M=$<A,U=$>P,V=$>=R&&$<=T,z=$<R,B=$>T,q=(ee,ce,X)=>ee?3:ce?2:X?1:0,W=q(j,M,U),G=q(V,z,B);if(W!==G)return G-W;const Z=m.find(ee=>ee.userId===n.id&&ee.challengeId===E.id),H=m.find(ee=>ee.userId===n.id&&ee.challengeId===L.id),Q=Z?Z.totalScore/E.totalPoints:0;return(H?H.totalScore/L.totalPoints:0)-Q})},[w,n,m]);return d?o.jsx("div",{className:"container py-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:a("loading")})]})}):o.jsx("div",{className:"container py-10",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsx("div",{className:"flex flex-col gap-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:a("challenges")}),o.jsxs("div",{className:"flex flex-row items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[o.jsxs(Fa,{value:b,onValueChange:C,children:[o.jsx(Li,{className:"flex-1 sm:w-[200px]",children:o.jsx(La,{})}),o.jsxs($i,{children:[n&&o.jsx(Vt,{value:"available",children:a("available")}),o.jsx(Vt,{value:"all",children:a("allChallenges")}),o.jsx(Vt,{value:"upcoming",children:a("upcoming")}),n&&o.jsx(Vt,{value:"joined",children:a("myJoinedChallenges")})]})]}),n&&o.jsx(de,{asChild:!0,className:"flex-1 sm:flex-initial",children:o.jsxs(qe,{to:"/challenges/create",children:[o.jsx(Lu,{className:"mr-2 h-4 w-4"}),a("createChallenge")]})})]})]})}),o.jsxs("div",{className:"flex flex-col gap-4",children:[n&&b==="available"&&o.jsx("div",{className:"mt-6",children:S.length>0?o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:S.map(I=>{const $=m.find(F=>F.userId===n.id&&F.challengeId===I.id);return o.jsx(Ud,{challenge:I,userScore:($==null?void 0:$.totalScore)||0},I.id)})}):o.jsxs("div",{className:"mt-10 text-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:a("noChallengesFound")}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a("noChallengesFoundDescription")}),o.jsx(de,{asChild:!0,className:"mt-4",children:o.jsx(qe,{to:"/challenges/create",children:a("createChallenge")})})]})}),b==="all"&&o.jsx("div",{className:"mt-6",children:N.length>0?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:N.map(I=>{const $=m.find(F=>n&&F.userId===n.id&&F.challengeId===I.id);return o.jsx(Ud,{challenge:I,userScore:($==null?void 0:$.totalScore)||0},I.id)})}),D&&!g&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(de,{variant:"outline",onClick:()=>y(!0),children:a("showCompleted")})}),g&&D&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx(de,{variant:"outline",onClick:()=>y(!1),children:a("hideCompleted")})})]}):o.jsxs("div",{className:"mt-10 text-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:a("noChallengesFound")}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a("noChallengesFoundDescription")}),o.jsx(de,{asChild:!0,className:"mt-4",children:o.jsx(qe,{to:"/challenges/create",children:a("createChallenge")})})]})}),b==="upcoming"&&o.jsx("div",{className:"mt-6",children:(()=>{const I=new Date;I.setHours(0,0,0,0);const $=w.filter(F=>{if(F.isRepeating)return!0;if(!F.startDate)return!1;const E=new Date(F.startDate);return E.setHours(0,0,0,0),I<E}).sort((F,E)=>{const L=F.startDate?new Date(F.startDate).getTime():1/0,A=E.startDate?new Date(E.startDate).getTime():1/0;return F.isRepeating&&!F.startDate?1:E.isRepeating&&!E.startDate?-1:L-A});return $.length>0?o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:$.map(F=>{const E=m.find(L=>n&&L.userId===n.id&&L.challengeId===F.id);return o.jsx(Ud,{challenge:F,userScore:(E==null?void 0:E.totalScore)||0},F.id)})}):o.jsxs("div",{className:"mt-10 text-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:a("noUpcomingChallenges")||"No Upcoming Challenges"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a("noUpcomingChallengesDescription")||"There are no upcoming challenges at the moment."})]})})()}),n&&b==="joined"&&o.jsx("div",{className:"mt-6",children:O.length>0?o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:O.map(I=>{const $=m.find(F=>F.userId===n.id&&F.challengeId===I.id);return o.jsx(Ud,{challenge:I,userScore:($==null?void 0:$.totalScore)||0,showJoin:!1},I.id)})}):o.jsxs("div",{className:"mt-10 text-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:a("noJoinedChallenges")}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a("noJoinedChallengesDescription")}),o.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-4",children:[o.jsx(de,{asChild:!0,variant:"outline",children:o.jsx(qe,{to:"/challenges",children:a("browseChallenges")})}),o.jsx(de,{asChild:!0,children:o.jsx(qe,{to:"/challenges/create",children:a("createChallenge")})})]})]})})]})]})})}const dr=p.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));dr.displayName="Textarea";var Ie=function(){return Ie=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ie.apply(this,arguments)};function $9(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function V2(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Gu(e){return e.mode==="multiple"}function Qu(e){return e.mode==="range"}function km(e){return e.mode==="single"}var U9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function B9(e,t){return Ot(e,"LLLL y",t)}function V9(e,t){return Ot(e,"d",t)}function z9(e,t){return Ot(e,"LLLL",t)}function W9(e){return"".concat(e)}function H9(e,t){return Ot(e,"cccccc",t)}function q9(e,t){return Ot(e,"yyyy",t)}var K9=Object.freeze({__proto__:null,formatCaption:B9,formatDay:V9,formatMonthCaption:z9,formatWeekNumber:W9,formatWeekdayName:H9,formatYearCaption:q9}),Y9=function(e,t,n){return Ot(e,"do MMMM (EEEE)",n)},G9=function(){return"Month: "},Q9=function(){return"Go to next month"},X9=function(){return"Go to previous month"},J9=function(e,t){return Ot(e,"cccc",t)},Z9=function(e){return"Week n. ".concat(e)},eH=function(){return"Year: "},tH=Object.freeze({__proto__:null,labelDay:Y9,labelMonthDropdown:G9,labelNext:Q9,labelPrevious:X9,labelWeekNumber:Z9,labelWeekday:J9,labelYearDropdown:eH});function nH(){var e="buttons",t=U9,n=io,r={},s={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:K9,labels:tH,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function rH(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return r?i=tr(r):t&&(i=new Date(t,0,1)),s?a=bm(s):n&&(a=new Date(n,11,31)),{fromDate:i?jl(i):void 0,toDate:a?jl(a):void 0}}var z2=p.createContext(void 0);function sH(e){var t,n=e.initialProps,r=nH(),s=rH(n),i=s.fromDate,a=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(km(n)||Gu(n)||Qu(n))&&(c=n.onSelect);var d=Ie(Ie(Ie({},r),n),{captionLayout:l,classNames:Ie(Ie({},r.classNames),n.classNames),components:Ie({},n.components),formatters:Ie(Ie({},r.formatters),n.formatters),fromDate:i,labels:Ie(Ie({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ie(Ie({},r.modifiers),n.modifiers),modifiersClassNames:Ie(Ie({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ie(Ie({},r.styles),n.styles),toDate:a});return o.jsx(z2.Provider,{value:d,children:e.children})}function vt(){var e=p.useContext(z2);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function W2(e){var t=vt(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function iH(e){return o.jsx("svg",Ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function H2(e){var t,n,r=e.onChange,s=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,d=vt(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:iH;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function aH(e){var t,n=vt(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(OW(r,s))for(var h=tr(r),m=r.getMonth();m<=s.getMonth();m++)f.push(Op(h,m));else for(var h=tr(new Date),m=0;m<=11;m++)f.push(Op(h,m));var v=function(y){var x=Number(y.target.value),b=Op(tr(e.displayMonth),x);e.onChange(b)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:H2;return o.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:f.map(function(y){return o.jsx("option",{value:y.getMonth(),children:l(y,{locale:a})},y.getMonth())})})}function oH(e){var t,n=e.displayMonth,r=vt(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var m=s.getFullYear(),v=i.getFullYear(),g=m;g<=v;g++)h.push(H1(QN(new Date),g));var y=function(b){var C=H1(tr(n),Number(b.target.value));e.onChange(C)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:H2;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:y,value:n.getFullYear(),caption:u(n,{locale:a}),children:h.map(function(b){return o.jsx("option",{value:b.getFullYear(),children:u(b,{locale:a})},b.getFullYear())})})}function lH(e,t){var n=p.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function cH(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&kl(i,s)<0){var d=-1*(c-1);s=Jr(i,d)}return a&&kl(s,a)<0&&(s=a),tr(s)}function uH(){var e=vt(),t=cH(e),n=lH(t,e.month),r=n[0],s=n[1],i=function(a){var l;if(!e.disableNavigation){var c=tr(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function dH(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=tr(e),i=tr(Jr(s,r)),a=kl(i,s),l=[],c=0;c<a;c++){var d=Jr(s,c);l.push(d)}return n&&(l=l.reverse()),l}function fH(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=tr(e);if(!n)return Jr(l,a);var c=kl(n,e);if(!(c<i))return Jr(l,a)}}function hH(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=tr(e);if(!n)return Jr(l,-a);var c=kl(l,n);if(!(c<=0))return Jr(l,-a)}}var q2=p.createContext(void 0);function mH(e){var t=vt(),n=uH(),r=n[0],s=n[1],i=dH(r,t),a=fH(r,t),l=hH(r,t),c=function(f){return i.some(function(h){return ow(f,h)})},d=function(f,h){c(f)||(h&&r2(f,h)?s(Jr(f,1+t.numberOfMonths*-1)):s(f))},u={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(q2.Provider,{value:u,children:e.children})}function Xu(){var e=p.useContext(q2);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function G1(e){var t,n=vt(),r=n.classNames,s=n.styles,i=n.components,a=Xu().goToMonth,l=function(u){a(Jr(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:W2,d=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:d}),o.jsx(aH,{onChange:l,displayMonth:e.displayMonth}),o.jsx(oH,{onChange:l,displayMonth:e.displayMonth})]})}function pH(e){return o.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gH(e){return o.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ah=p.forwardRef(function(e,t){var n=vt(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var a=i.join(" "),l=Ie(Ie({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Ie({},e,{ref:t,type:"button",className:a,style:l}))});function vH(e){var t,n,r=vt(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=d(e.previousMonth,{locale:i}),m=[a.nav_button,a.nav_button_previous].join(" "),v=u(e.nextMonth,{locale:i}),g=[a.nav_button,a.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:gH,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:pH;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(ah,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(y,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(ah,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(y,{className:a.nav_icon,style:l.nav_icon})})]})}function Q1(e){var t=vt().numberOfMonths,n=Xu(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(v){return ow(e.displayMonth,v)}),c=l===0,d=l===a.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){r&&i(r)},m=function(){s&&i(s)};return o.jsx(vH,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:m})}function yH(e){var t,n=vt(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:W2,d;return s?d=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?d=o.jsx(G1,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?d=o.jsxs(o.Fragment,{children:[o.jsx(G1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(Q1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Q1,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:d})}function wH(e){var t=vt(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function xH(e,t,n){for(var r=n?Qa(new Date):js(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=$t(r,i);s.push(a)}return s}function bH(){var e=vt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=xH(s,i,a);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:s}),children:l(u,{locale:s})},f)})]})}function CH(){var e,t=vt(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:bH;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function SH(e){var t=vt(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var cw=p.createContext(void 0);function jH(e){if(!Gu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(cw.Provider,{value:t,children:e.children})}return o.jsx(_H,{initialProps:e.initialProps,children:e.children})}function _H(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,a=function(d,u,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var v=!!(u.selected&&s&&(r==null?void 0:r.length)===s);if(!v){var g=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var y=r?V2([],r):[];if(u.selected){var x=y.findIndex(function(b){return Gn(d,b)});y.splice(x,1)}else y.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,y,d,u,f)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,f=r.some(function(h){return Gn(h,d)});return!!(u&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(cw.Provider,{value:c,children:n})}function uw(){var e=p.useContext(cw);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function kH(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Gn(s,e)&&Gn(r,e)?void 0:Gn(s,e)?{from:s,to:void 0}:Gn(r,e)?void 0:Iv(r,e)?{from:e,to:s}:{from:r,to:e}:s?Iv(e,s)?{from:s,to:e}:{from:e,to:s}:r?r2(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var dw=p.createContext(void 0);function PH(e){if(!Qu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(dw.Provider,{value:t,children:e.children})}return o.jsx(DH,{initialProps:e.initialProps,children:e.children})}function DH(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,a=s.to,l=t.min,c=t.max,d=function(m,v,g){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,m,v,g);var b=kH(m,r);(x=t.onSelect)===null||x===void 0||x.call(t,b,m,v,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],a?(u.range_end=[a],Gn(i,a)||(u.range_middle=[{after:i,before:a}])):u.range_end=[i]):a&&(u.range_start=[a],u.range_end=[a]),l&&(i&&!a&&u.disabled.push({after:Ip(i,l-1),before:$t(i,l-1)}),i&&a&&u.disabled.push({after:i,before:$t(i,l-1)}),!i&&a&&u.disabled.push({after:Ip(a,l-1),before:$t(a,l-1)})),c){if(i&&!a&&(u.disabled.push({before:$t(i,-c+1)}),u.disabled.push({after:$t(i,c-1)})),i&&a){var f=gs(a,i)+1,h=c-f;u.disabled.push({before:Ip(i,h)}),u.disabled.push({after:$t(a,h)})}!i&&a&&(u.disabled.push({before:$t(a,-c+1)}),u.disabled.push({after:$t(a,c-1)}))}return o.jsx(dw.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function fw(){var e=p.useContext(dw);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function pf(e){return Array.isArray(e)?V2([],e):e!==void 0?[e]:[]}function EH(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=pf(s)}),t}var Zr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Zr||(Zr={}));var NH=Zr.Selected,Es=Zr.Disabled,TH=Zr.Hidden,AH=Zr.Today,Fp=Zr.RangeEnd,Lp=Zr.RangeMiddle,$p=Zr.RangeStart,MH=Zr.Outside;function RH(e,t,n){var r,s=(r={},r[NH]=pf(e.selected),r[Es]=pf(e.disabled),r[TH]=pf(e.hidden),r[AH]=[e.today],r[Fp]=[],r[Lp]=[],r[$p]=[],r[MH]=[],r);return e.fromDate&&s[Es].push({before:e.fromDate}),e.toDate&&s[Es].push({after:e.toDate}),Gu(e)?s[Es]=s[Es].concat(t.modifiers[Es]):Qu(e)&&(s[Es]=s[Es].concat(n.modifiers[Es]),s[$p]=n.modifiers[$p],s[Lp]=n.modifiers[Lp],s[Fp]=n.modifiers[Fp]),s}var K2=p.createContext(void 0);function IH(e){var t=vt(),n=uw(),r=fw(),s=RH(t,n,r),i=EH(t.modifiers),a=Ie(Ie({},s),i);return o.jsx(K2.Provider,{value:a,children:e.children})}function Y2(){var e=p.useContext(K2);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function OH(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function FH(e){return!!(e&&typeof e=="object"&&"from"in e)}function LH(e){return!!(e&&typeof e=="object"&&"after"in e)}function $H(e){return!!(e&&typeof e=="object"&&"before"in e)}function UH(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function BH(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=gs(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=gs(e,r)>=0&&gs(s,e)>=0;return a}return s?Gn(s,e):r?Gn(r,e):!1}function VH(e){return iw(e)}function zH(e){return Array.isArray(e)&&e.every(iw)}function WH(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(VH(n))return Gn(e,n);if(zH(n))return n.includes(e);if(FH(n))return BH(e,n);if(UH(n))return n.dayOfWeek.includes(e.getDay());if(OH(n)){var r=gs(n.before,e),s=gs(n.after,e),i=r>0,a=s<0,l=Iv(n.before,n.after);return l?a&&i:i||a}return LH(n)?gs(e,n.after)>0:$H(n)?gs(n.before,e)>0:typeof n=="function"?n(e):!1})}function hw(e,t,n){var r=Object.keys(t).reduce(function(i,a){var l=t[a];return WH(e,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!ow(e,n)&&(s.outside=!0),s}function HH(e,t){for(var n=tr(e[0]),r=bm(e[e.length-1]),s,i,a=n;a<=r;){var l=hw(a,t),c=!l.disabled&&!l.hidden;if(!c){a=$t(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=$t(a,1)}return i||s}var qH=365;function G2(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,f=s.locale,h={day:$t,week:Rv,month:Jr,year:jz,startOfWeek:function(y){return s.ISOWeek?Qa(y):js(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return s.ISOWeek?XN(y):aw(y,{locale:f,weekStartsOn:c})}},m=h[n](e,r==="after"?1:-1);r==="before"&&d?m=_z([d,m]):r==="after"&&u&&(m=kz([u,m]));var v=!0;if(i){var g=hw(m,i);v=!g.disabled&&!g.hidden}return v?m:l.count>qH?l.lastFocused:G2(m,{moveBy:n,direction:r,context:s,modifiers:i,retry:Ie(Ie({},l),{count:l.count+1})})}var Q2=p.createContext(void 0);function KH(e){var t=Xu(),n=Y2(),r=p.useState(),s=r[0],i=r[1],a=p.useState(),l=a[0],c=a[1],d=HH(t.displayMonths,n),u=s??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(s),i(void 0)},h=function(y){i(y)},m=vt(),v=function(y,x){if(s){var b=G2(s,{moveBy:y,direction:x,context:m,modifiers:n});Gn(s,b)||(t.goToDate(b,s),h(b))}},g={focusedDay:s,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return o.jsx(Q2.Provider,{value:g,children:e.children})}function mw(){var e=p.useContext(Q2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function YH(e,t){var n=Y2(),r=hw(e,n,t);return r}var pw=p.createContext(void 0);function GH(e){if(!km(e.initialProps)){var t={selected:void 0};return o.jsx(pw.Provider,{value:t,children:e.children})}return o.jsx(QH,{initialProps:e.initialProps,children:e.children})}function QH(e){var t=e.initialProps,n=e.children,r=function(i,a,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,a,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,a,l)},s={selected:t.selected,onDayClick:r};return o.jsx(pw.Provider,{value:s,children:n})}function X2(){var e=p.useContext(pw);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function XH(e,t){var n=vt(),r=X2(),s=uw(),i=fw(),a=mw(),l=a.focusDayAfter,c=a.focusDayBefore,d=a.focusWeekAfter,u=a.focusWeekBefore,f=a.blur,h=a.focus,m=a.focusMonthBefore,v=a.focusMonthAfter,g=a.focusYearBefore,y=a.focusYearAfter,x=a.focusStartOfWeek,b=a.focusEndOfWeek,C=function(P){var R,T,j,M;km(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,P):Gu(n)?(T=s.onDayClick)===null||T===void 0||T.call(s,e,t,P):Qu(n)?(j=i.onDayClick)===null||j===void 0||j.call(i,e,t,P):(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,P)},_=function(P){var R;h(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,P)},w=function(P){var R;f(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,P)},D=function(P){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,P)},k=function(P){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,P)},S=function(P){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,P)},N=function(P){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,P)},O=function(P){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,P)},I=function(P){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,P)},$=function(P){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,P)},F=function(P){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,P)},E=function(P){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,P)},L=function(P){var R;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),d();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),u();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?g():m();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?y():v();break;case"Home":P.preventDefault(),P.stopPropagation(),x();break;case"End":P.preventDefault(),P.stopPropagation(),b();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,P)},A={onClick:C,onFocus:_,onBlur:w,onKeyDown:L,onKeyUp:E,onMouseEnter:D,onMouseLeave:k,onPointerEnter:S,onPointerLeave:N,onTouchCancel:O,onTouchEnd:I,onTouchMove:$,onTouchStart:F};return A}function JH(){var e=vt(),t=X2(),n=uw(),r=fw(),s=km(e)?t.selected:Gu(e)?n.selected:Qu(e)?r.selected:void 0;return s}function ZH(e){return Object.values(Zr).includes(e)}function e7(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(ZH(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function t7(e,t){var n=Ie({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=Ie(Ie({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function n7(e,t,n){var r,s,i,a=vt(),l=mw(),c=YH(e,t),d=XH(e,c),u=JH(),f=!!(a.onDayClick||a.mode!=="default");p.useEffect(function(){var D;c.outside||l.focusedDay&&f&&Gn(l.focusedDay,e)&&((D=n.current)===null||D===void 0||D.focus())},[l.focusedDay,e,n,f,c.outside]);var h=e7(a,c).join(" "),m=t7(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:SH,y=o.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:h,children:y,role:"gridcell"},b=l.focusTarget&&Gn(l.focusTarget,e)&&!c.outside,C=l.focusedDay&&Gn(l.focusedDay,e),_=Ie(Ie(Ie({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=C||b?0:-1,r)),d),w={isButton:f,isHidden:v,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:x};return w}function r7(e){var t=p.useRef(null),n=n7(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(ah,Ie({name:"day",ref:t},n.buttonProps)):o.jsx("div",Ie({},n.divProps))}function s7(e){var t=e.number,n=e.dates,r=vt(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),h=function(m){s(t,n,m)};return o.jsx(ah,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:h,children:u})}function i7(e){var t,n,r=vt(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:r7,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:s7,u;return a&&(u=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(d,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[u,e.dates.map(function(f){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},MW(f))})]})}function X1(e,t,n){for(var r=n!=null&&n.ISOWeek?XN(t):aw(t,n),s=n!=null&&n.ISOWeek?Qa(e):js(e,n),i=gs(r,s),a=[],l=0;l<=i;l++)a.push($t(s,l));var c=a.reduce(function(d,u){var f=n!=null&&n.ISOWeek?ZN(u):t2(u,n),h=d.find(function(m){return m.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function a7(e,t){var n=X1(tr(e),bm(e),t);if(t!=null&&t.useFixedWeeks){var r=IW(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=Rv(i,6-r),l=X1(Rv(i,1),a,t);n.push.apply(n,l)}}return n}function o7(e){var t,n,r,s=vt(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,v=a7(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:CH,y=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:i7,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:wH;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:v.map(function(b){return o.jsx(y,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),o.jsx(x,{displayMonth:e.displayMonth})]})}function l7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var c7=l7()?p.useLayoutEffect:p.useEffect,Up=!1,u7=0;function J1(){return"react-day-picker-".concat(++u7)}function d7(e){var t,n=e??(Up?J1():null),r=p.useState(n),s=r[0],i=r[1];return c7(function(){s===null&&i(J1())},[]),p.useEffect(function(){Up===!1&&(Up=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function f7(e){var t,n,r=vt(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=Xu().displayMonths,d=d7(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=a.month,m=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!m&&!v;s==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Ie(Ie({},h),a.caption_start)),v&&(f.push(i.caption_end),h=Ie(Ie({},h),a.caption_end)),g&&(f.push(i.caption_between),h=Ie(Ie({},h),a.caption_between));var y=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:yH;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(y,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(o7,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function h7(e){var t=vt(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function m7(e){var t,n,r=e.initialProps,s=vt(),i=mw(),a=Xu(),l=p.useState(!1),c=l[0],d=l[1];p.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var f=Ie(Ie({},s.styles.root),s.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var y;return Ie(Ie({},v),(y={},y[g]=r[g],y))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:h7;return o.jsx("div",Ie({className:u.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:o.jsx(m,{children:a.displayMonths.map(function(v,g){return o.jsx(f7,{displayIndex:g,displayMonth:v},g)})})}))}function p7(e){var t=e.children,n=$9(e,["children"]);return o.jsx(sH,{initialProps:n,children:o.jsx(mH,{children:o.jsx(GH,{initialProps:n,children:o.jsx(jH,{initialProps:n,children:o.jsx(PH,{initialProps:n,children:o.jsx(IH,{children:o.jsx(KH,{children:t})})})})})})})}function g7(e){return o.jsx(p7,Ie({},e,{children:o.jsx(m7,{initialProps:e})}))}function Ui({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(g7,{showOutsideDays:n,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(vu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge(vu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(h0,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(Uh,{className:"h-4 w-4"})},...r})}Ui.displayName="Calendar";var gw="Checkbox",[v7,aJ]=Tr(gw),[y7,w7]=v7(gw),J2=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,m]=p.useState(null),v=Qe(t,_=>m(_)),g=p.useRef(!1),y=h?u||!!h.closest("form"):!0,[x=!1,b]=Cs({prop:s,defaultProp:i,onChange:d}),C=p.useRef(x);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const w=()=>b(C.current);return _.addEventListener("reset",w),()=>_.removeEventListener("reset",w)}},[h,b]),o.jsxs(y7,{scope:n,state:x,disabled:l,children:[o.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":Bi(x)?"mixed":x,"aria-required":a,"data-state":tT(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:ve(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ve(e.onClick,_=>{b(w=>Bi(w)?!0:!w),y&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),y&&o.jsx(x7,{control:h,bubbles:!g.current,name:r,value:c,checked:x,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Bi(i)?!1:i})]})});J2.displayName=gw;var Z2="CheckboxIndicator",eT=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=w7(Z2,n);return o.jsx(rr,{present:r||Bi(i.state)||i.state===!0,children:o.jsx(Ne.span,{"data-state":tT(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});eT.displayName=Z2;var x7=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...i}=e,a=p.useRef(null),l=s2(n),c=Hk(t);p.useEffect(()=>{const u=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:r});u.indeterminate=Bi(n),m.call(u,Bi(n)?!1:n),u.dispatchEvent(v)}},[l,n,r]);const d=p.useRef(Bi(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Bi(e){return e==="indeterminate"}function tT(e){return Bi(e)?"indeterminate":e?"checked":"unchecked"}var nT=J2,b7=eT;const bu=p.forwardRef(({className:e,...t},n)=>o.jsx(nT,{ref:n,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(b7,{className:ge("flex items-center justify-center text-current"),children:o.jsx(Ol,{className:"h-4 w-4"})})}));bu.displayName=nT.displayName;var vw="Popover",[rT,oJ]=Tr(vw,[ta]),Ju=ta(),[C7,aa]=rT(vw),sT=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=Ju(t),c=p.useRef(null),[d,u]=p.useState(!1),[f=!1,h]=Cs({prop:r,defaultProp:s,onChange:i});return o.jsx(Wh,{...l,children:o.jsx(C7,{scope:t,contentId:_r(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:a,children:n})})};sT.displayName=vw;var iT="PopoverAnchor",S7=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=aa(iT,n),i=Ju(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Uu,{...i,...r,ref:t})});S7.displayName=iT;var aT="PopoverTrigger",oT=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=aa(aT,n),i=Ju(n),a=Qe(t,s.triggerRef),l=o.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fT(s.open),...r,ref:a,onClick:ve(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Uu,{asChild:!0,...i,children:l})});oT.displayName=aT;var yw="PopoverPortal",[j7,_7]=rT(yw,{forceMount:void 0}),lT=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=aa(yw,t);return o.jsx(j7,{scope:t,forceMount:n,children:o.jsx(rr,{present:n||i.open,children:o.jsx(Il,{asChild:!0,container:s,children:r})})})};lT.displayName=yw;var Pl="PopoverContent",cT=p.forwardRef((e,t)=>{const n=_7(Pl,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=aa(Pl,e.__scopePopover);return o.jsx(rr,{present:r||i.open,children:i.modal?o.jsx(k7,{...s,ref:t}):o.jsx(P7,{...s,ref:t})})});cT.displayName=Pl;var k7=p.forwardRef((e,t)=>{const n=aa(Pl,e.__scopePopover),r=p.useRef(null),s=Qe(t,r),i=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return cm(a)},[]),o.jsx(Hu,{as:qs,allowPinchZoom:!0,children:o.jsx(uT,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ve(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),P7=p.forwardRef((e,t)=>{const n=aa(Pl,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(uT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),uT=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=aa(Pl,n),m=Ju(n);return om(),o.jsx(Wu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(to,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(Hh,{"data-state":fT(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dT="PopoverClose",D7=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=aa(dT,n);return o.jsx(Ne.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>s.onOpenChange(!1))})});D7.displayName=dT;var E7="PopoverArrow",N7=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ju(n);return o.jsx(qh,{...s,...r,ref:t})});N7.displayName=E7;function fT(e){return e?"open":"closed"}var T7=sT,A7=oT,M7=lT,hT=cT;const ja=T7,_a=A7,Di=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(M7,{children:o.jsx(hT,{ref:s,align:t,sideOffset:n,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Di.displayName=hT.displayName;const Bd=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}T00:00:00.000Z`};function R7(){const{createChallenge:e}=Xr(),{language:t}=gt(),{t:n}=pt(t),{toast:r}=un(),s=wn(),i=zu(),[a,l]=p.useState(""),[c,d]=p.useState(""),[u,f]=p.useState(new Date),[h,m]=p.useState($t(new Date,30)),[v,g]=p.useState(!1),[y,x]=p.useState("standard"),[b,C]=p.useState(!1),[_,w]=p.useState(!1),[D,k]=p.useState(30),[S,N]=p.useState(!1),[O,I]=p.useState(!1),[$,F]=p.useState([{id:Hr(),title:"",description:"",targetValue:0,unit:"",pointsPerUnit:0}]),E=p.useRef(null);p.useEffect(()=>{const T=E.current;E.current=y,!(T===null&&y==="standard")&&(y==="completion"?F(j=>j.map(M=>({...M,targetValue:M.targetValue||1,unit:M.unit||"1",pointsPerUnit:M.pointsPerUnit||1}))):y==="bingo"?F(j=>{const M=j.length;if(M===25)return j;if(M<25){const U=[...j];for(let V=M;V<25;V++)U.push({id:Hr(),title:"",description:"",targetValue:1,unit:"",pointsPerUnit:1});return U}else return j.slice(0,25)}):T==="bingo"&&y!=="bingo"&&F(j=>j.length===25&&j.every(M=>!M.title&&!M.description)?[{id:Hr(),title:"",description:"",targetValue:0,unit:"",pointsPerUnit:0}]:j))},[y]),p.useEffect(()=>{if(y==="weekly"&&u){const T=Mn(u);if(u.getTime()!==T.getTime()&&f(T),h&&!b){const j=pn(h);h.getTime()!==j.getTime()&&m(j)}}},[y]);const L=()=>{const T=y==="completion"?1:0,j=y==="completion"?"1":"",M=y==="completion"?1:0;F([...$,{id:Hr(),title:"",description:"",targetValue:T,unit:j,pointsPerUnit:M}])},A=(T,j,M)=>{const U=[...$];U[T]={...U[T],[j]:M},F(U)},P=T=>{if($.length>1){const j=[...$];j.splice(T,1),F(j)}},R=async T=>{if(T.preventDefault(),O)return;if(!a||!c){r({title:n("error"),description:n("fillRequiredFields"),variant:"destructive"});return}if(_){if(!D||D<=0){r({title:n("error"),description:"Please enter a valid duration (in days)",variant:"destructive"});return}}else{if(!u){r({title:n("error"),description:n("fillRequiredFields"),variant:"destructive"});return}if(!b&&!h){r({title:n("error"),description:n("fillRequiredFields"),variant:"destructive"});return}}if(!_&&y==="weekly"&&!b&&u&&h&&!sD(u,h)){r({title:n("error"),description:n("mustSelectFullWeeks"),variant:"destructive"});return}if(y==="checklist"?$.some(B=>!B.title):y==="completion"||y==="weekly"||y==="bingo"?$.some(B=>!B.title):$.some(B=>!B.title||!B.unit||B.targetValue===void 0||(B.targetValue||0)<=0||B.pointsPerUnit===void 0||(B.pointsPerUnit||0)<=0)){r({title:n("error"),description:n("completeObjectiveDetails"),variant:"destructive"});return}const M=y==="checklist"?"collection":y,U=$.map(B=>{let q=B.id;$c(B.id)||(console.warn(`Invalid UUID for objective "${B.title}", generating new one`),q=Hr());const W=y==="completion"||y==="bingo"?1:Number(B.targetValue)||void 0,G=y==="completion"||y==="bingo"?"1":B.unit,Z=y==="completion"||y==="bingo"?1:Number(B.pointsPerUnit)||void 0;return{...B,id:q,targetValue:W,unit:G,pointsPerUnit:Z}});let V,z;if(_){const B=new Date(2024,0,1),q=$t(B,D);V=Bd(B),z=Bd(q)}else V=u?Bd(u):void 0,z=b?void 0:h?Bd(h):void 0;I(!0);try{await e({title:a,description:c,startDate:V,endDate:z,challengeType:M,capedPoints:v,objectives:U,isRepeating:_,isCollaborative:S})===!0&&s("/challenges")}catch(B){console.error("Error creating challenge:",B),r({title:n("error"),description:"Failed to create challenge. Please try again.",variant:"destructive"})}finally{I(!1)}};return o.jsxs("form",{onSubmit:R,className:"space-y-4 sm:space-y-8 px-2 sm:px-0",children:[o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"title",children:n("challengeTitle")}),o.jsx(Ge,{id:"title",placeholder:n("challengeTitlePlaceholder"),value:a,onChange:T=>l(T.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"description",children:n("description")}),o.jsx(dr,{id:"description",placeholder:n("descriptionPlaceholder"),value:c,onChange:T=>d(T.target.value),required:!0,className:"min-h-[100px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(De,{htmlFor:"challengeMode",children:n("challengeMode")}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{type:"button",variant:"ghost",size:"icon",className:"h-5 w-5",children:o.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})})}),o.jsx(Di,{className:"w-[calc(100vw-2rem)] sm:w-80 max-w-sm",align:"start",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsx("h4",{className:"font-semibold text-sm",children:n("challengeModeInfo")})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("individualChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("individualChallengeDescription")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("collaborativeChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("collaborativeChallengeDescription")})]})]})]})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx(de,{type:"button",variant:S?"outline":"default",className:`flex-1 text-xs sm:text-sm px-2 sm:px-4 py-2 ${_?"opacity-50 cursor-not-allowed":""}`,disabled:_,onClick:()=>{N(!1)},children:o.jsx("span",{className:"truncate",children:n("individualChallenge")||"Individual Challenge"})}),o.jsx(de,{type:"button",variant:S?"default":"outline",className:`flex-1 text-xs sm:text-sm px-2 sm:px-4 py-2 ${_?"opacity-50 cursor-not-allowed":""}`,disabled:_,onClick:()=>{N(!0),w(!1)},children:o.jsx("span",{className:"truncate",children:n("collaborativeChallenge")||"Collaborative Challenge"})})]})]}),_?o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"durationDays",children:n("challengeDuration")||"Challenge Duration (days)"}),o.jsx(Ge,{id:"durationDays",type:"number",min:"1",value:D,onChange:T=>{const j=parseInt(T.target.value,10);!isNaN(j)&&j>0&&k(j)},placeholder:"30"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:n("repeatingChallengeDurationHint")||"Each user will get this many days starting from when they join"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"startDate",className:"text-sm",children:n("startDate")||"Start Date"}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{variant:"outline",className:"w-full justify-start text-left font-normal",children:u?Ot(u,"LLL dd, yyyy"):o.jsx("span",{children:n("pickStartDate")||"Pick start date"})})}),o.jsx(Di,{className:"w-auto p-0",align:"start",side:i?"bottom":"start",children:o.jsx(Ui,{initialFocus:!0,mode:"single",selected:u,weekStartsOn:1,onSelect:T=>{if(T)if(y==="weekly"){const j=Mn(T);f(j)}else f(T)},disabled:T=>h&&!b?T>h:!1})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"endDate",className:"text-sm",children:n("endDate")||"End Date"}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:b,children:h&&!b?Ot(h,"LLL dd, yyyy"):b?o.jsx("span",{className:"text-muted-foreground",children:n("noEndDate")}):o.jsx("span",{children:n("pickEndDate")||"Pick end date"})})}),o.jsx(Di,{className:"w-auto p-0",align:"start",side:i?"bottom":"start",children:o.jsx(Ui,{initialFocus:!0,mode:"single",selected:h,weekStartsOn:1,onSelect:T=>{if(T)if(y==="weekly"){const j=pn(T);m(j)}else m(T)},disabled:T=>u?T<u:!1})})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bu,{id:"noEndDate",checked:b,onCheckedChange:T=>{C(T),T?m(void 0):h||m($t(u||new Date,30))}}),o.jsx(De,{htmlFor:"noEndDate",className:"text-sm font-normal cursor-pointer",children:n("noEndDate")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(De,{htmlFor:"challengeType",children:n("challengeType")}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{type:"button",variant:"ghost",size:"icon",className:"h-5 w-5",children:o.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})})}),o.jsx(Di,{className:"w-[calc(100vw-2rem)] sm:w-80 max-w-sm",align:"start",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsx("h4",{className:"font-semibold text-sm",children:n("challengeTypeInfo")})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("standardChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("standardChallengeDescription")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("bingoChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("bingoChallengeDescription")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("completionChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("completionChallengeDescription")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("weeklyChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("weeklyChallengeDescription")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[n("checklistChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:n("checklistChallengeDescription")})]})]})]})})]})]}),o.jsxs(Fa,{value:y,onValueChange:T=>x(T),children:[o.jsx(Li,{children:o.jsx(La,{placeholder:n("selectChallengeType")})}),o.jsxs($i,{children:[o.jsx(Vt,{value:"standard",children:n("standardChallenge")}),o.jsx(Vt,{value:"bingo",children:n("bingoChallenge")}),o.jsx(Vt,{value:"completion",children:n("completionChallenge")}),o.jsx(Vt,{value:"weekly",children:n("weeklyChallenge")}),o.jsx(Vt,{value:"checklist",children:n("checklistChallenge")})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bu,{id:"capedPoints",checked:v,onCheckedChange:T=>g(T)}),o.jsx(De,{htmlFor:"capedPoints",className:"text-sm font-normal",children:n("capedPoints")})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium",children:n("challengeObjectives")}),y!=="bingo"&&o.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:L,className:i?"px-2":"",children:[o.jsx(Lu,{className:i?"h-4 w-4":"mr-2 h-4 w-4"}),!i&&n("addObjective")]})]}),y==="bingo"?o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1 p-0.5",children:$.map((T,j)=>o.jsx(Xe,{className:"p-1.5 sm:p-2 relative aspect-square",children:o.jsxs("div",{className:"space-y-1 sm:space-y-2 h-full flex flex-col",children:[o.jsx(Ge,{placeholder:`${n("objectiveTitle")} ${j+1}`,value:T.title,onChange:M=>A(j,"title",M.target.value),className:"text-[10px] sm:text-xs h-6 sm:h-8"}),o.jsx(dr,{placeholder:n("objectiveDescription"),value:T.description||"",onChange:M=>A(j,"description",M.target.value),className:"text-[10px] sm:text-xs flex-1 min-h-[40px] sm:min-h-[60px] resize-none"})]})},T.id||j))}):o.jsx("div",{className:"space-y-4",children:$.map((T,j)=>o.jsxs(Xe,{className:"p-4 relative",children:[$.length>1&&o.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-2 h-8 w-8 p-0",onClick:()=>P(j),children:[o.jsx(m0,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:n("remove")})]}),o.jsxs("div",{className:"space-y-4 pr-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-title`,children:n("objectiveTitle")}),o.jsx(Ge,{id:`objective-${j}-title`,placeholder:n("objectiveTitlePlaceholder"),value:T.title,onChange:M=>A(j,"title",M.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(De,{htmlFor:`objective-${j}-description`,children:[n("objectiveDescription")," ",o.jsxs("span",{className:"text-muted-foreground",children:["(",n("optional"),")"]})]}),o.jsx(dr,{id:`objective-${j}-description`,placeholder:n("objectiveDescriptionPlaceholder"),value:T.description||"",onChange:M=>A(j,"description",M.target.value),className:"min-h-[60px]"})]}),y!=="checklist"&&y!=="completion"&&y!=="weekly"&&o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-target`,children:n("targetValue")}),o.jsx(Ge,{id:`objective-${j}-target`,type:"number",min:"1",placeholder:n("targetValuePlaceholder"),value:T.targetValue||"",onChange:M=>A(j,"targetValue",Number(M.target.value)),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-unit`,children:n("unit")}),o.jsx(Ge,{id:`objective-${j}-unit`,placeholder:n("unitPlaceholder"),value:T.unit,onChange:M=>A(j,"unit",M.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-points`,children:n("pointsPerUnit")}),o.jsx(Ge,{id:`objective-${j}-points`,type:"number",min:"1",placeholder:n("pointsPerUnitPlaceholder"),value:T.pointsPerUnit||"",onChange:M=>A(j,"pointsPerUnit",Number(M.target.value)),required:!0})]})]})]})]},j))})]}),o.jsx(de,{type:"submit",className:"w-full",disabled:O,children:O?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),n("creating")||"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"mr-2 h-4 w-4"})," ",n("createChallenge")]})})]})}function I7(){const{language:e}=gt(),{t}=pt(e);return o.jsx("div",{className:"container py-4 sm:py-8 px-2 sm:px-4",children:o.jsxs("div",{className:"mx-auto max-w-4xl",children:[o.jsx("h1",{className:"mb-4 sm:mb-6 text-2xl sm:text-3xl font-bold",children:t("createNewChallenge")}),o.jsx(R7,{})]})})}var ww="Tabs",[O7,lJ]=Tr(ww,[vm]),mT=vm(),[F7,xw]=O7(ww),pT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=pm(l),[f,h]=Cs({prop:r,onChange:s,defaultProp:i});return o.jsx(F7,{scope:n,baseId:_r(),value:f,onValueChange:h,orientation:a,dir:u,activationMode:c,children:o.jsx(Ne.div,{dir:u,"data-orientation":a,...d,ref:t})})});pT.displayName=ww;var gT="TabsList",vT=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=xw(gT,n),a=mT(n);return o.jsx(GD,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});vT.displayName=gT;var yT="TabsTrigger",wT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=xw(yT,n),l=mT(n),c=CT(a.baseId,r),d=ST(a.baseId,r),u=r===a.value;return o.jsx(QD,{asChild:!0,...l,focusable:!s,active:u,children:o.jsx(Ne.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ve(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ve(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ve(e.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!s&&f&&a.onValueChange(r)})})})});wT.displayName=yT;var xT="TabsContent",bT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=xw(xT,n),c=CT(l.baseId,r),d=ST(l.baseId,r),u=r===l.value,f=p.useRef(u);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(rr,{present:s||u,children:({present:h})=>o.jsx(Ne.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});bT.displayName=xT;function CT(e,t){return`${e}-trigger-${t}`}function ST(e,t){return`${e}-content-${t}`}var L7=pT,jT=vT,_T=wT,kT=bT;const PT=L7,bw=p.forwardRef(({className:e,...t},n)=>o.jsx(jT,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bw.displayName=jT.displayName;const $a=p.forwardRef(({className:e,...t},n)=>o.jsx(_T,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$a.displayName=_T.displayName;const Ua=p.forwardRef(({className:e,...t},n)=>o.jsx(kT,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ua.displayName=kT.displayName;var Cw="ContextMenu",[$7,cJ]=Tr(Cw,[ym]),Un=ym(),[U7,DT]=$7(Cw),ET=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:s,modal:i=!0}=e,[a,l]=p.useState(!1),c=Un(t),d=ln(r),u=p.useCallback(f=>{l(f),d(f)},[d]);return o.jsx(U7,{scope:t,open:a,onOpenChange:u,modal:i,children:o.jsx(wE,{...c,dir:s,open:a,onOpenChange:u,modal:i,children:n})})};ET.displayName=Cw;var NT="ContextMenuTrigger",TT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...s}=e,i=DT(NT,n),a=Un(n),l=p.useRef({x:0,y:0}),c=p.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=p.useRef(0),u=p.useCallback(()=>window.clearTimeout(d.current),[]),f=h=>{l.current={x:h.clientX,y:h.clientY},i.onOpenChange(!0)};return p.useEffect(()=>u,[u]),p.useEffect(()=>void(r&&u()),[r,u]),o.jsxs(o.Fragment,{children:[o.jsx(xE,{...a,virtualRef:c}),o.jsx(Ne.span,{"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:ve(e.onContextMenu,h=>{u(),f(h),h.preventDefault()}),onPointerDown:r?e.onPointerDown:ve(e.onPointerDown,Vd(h=>{u(),d.current=window.setTimeout(()=>f(h),700)})),onPointerMove:r?e.onPointerMove:ve(e.onPointerMove,Vd(u)),onPointerCancel:r?e.onPointerCancel:ve(e.onPointerCancel,Vd(u)),onPointerUp:r?e.onPointerUp:ve(e.onPointerUp,Vd(u))})]})});TT.displayName=NT;var B7="ContextMenuPortal",AT=e=>{const{__scopeContextMenu:t,...n}=e,r=Un(t);return o.jsx(bE,{...r,...n})};AT.displayName=B7;var MT="ContextMenuContent",RT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=DT(MT,n),i=Un(n),a=p.useRef(!1);return o.jsx(CE,{...i,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&a.current&&l.preventDefault(),a.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!s.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RT.displayName=MT;var V7="ContextMenuGroup",z7=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(SE,{...s,...r,ref:t})});z7.displayName=V7;var W7="ContextMenuLabel",IT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(jE,{...s,...r,ref:t})});IT.displayName=W7;var H7="ContextMenuItem",OT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(_E,{...s,...r,ref:t})});OT.displayName=H7;var q7="ContextMenuCheckboxItem",FT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(kE,{...s,...r,ref:t})});FT.displayName=q7;var K7="ContextMenuRadioGroup",Y7=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(PE,{...s,...r,ref:t})});Y7.displayName=K7;var G7="ContextMenuRadioItem",LT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(DE,{...s,...r,ref:t})});LT.displayName=G7;var Q7="ContextMenuItemIndicator",$T=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(EE,{...s,...r,ref:t})});$T.displayName=Q7;var X7="ContextMenuSeparator",UT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(NE,{...s,...r,ref:t})});UT.displayName=X7;var J7="ContextMenuArrow",Z7=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(TE,{...s,...r,ref:t})});Z7.displayName=J7;var eq="ContextMenuSubTrigger",BT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(AE,{...s,...r,ref:t})});BT.displayName=eq;var tq="ContextMenuSubContent",VT=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,s=Un(n);return o.jsx(ME,{...s,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VT.displayName=tq;function Vd(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var nq=ET,rq=TT,sq=AT,zT=RT,WT=IT,HT=OT,qT=FT,KT=LT,YT=$T,GT=UT,QT=BT,XT=VT;const Z1=nq,eC=rq,iq=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(QT,{ref:s,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...r,children:[n,o.jsx(Uh,{className:"ml-auto h-4 w-4"})]}));iq.displayName=QT.displayName;const aq=p.forwardRef(({className:e,...t},n)=>o.jsx(XT,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));aq.displayName=XT.displayName;const Vv=p.forwardRef(({className:e,...t},n)=>o.jsx(sq,{children:o.jsx(zT,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Vv.displayName=zT.displayName;const zv=p.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(HT,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));zv.displayName=HT.displayName;const oq=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(qT,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(YT,{children:o.jsx(Ol,{className:"h-4 w-4"})})}),t]}));oq.displayName=qT.displayName;const lq=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(KT,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(YT,{children:o.jsx(xk,{className:"h-2 w-2 fill-current"})})}),t]}));lq.displayName=KT.displayName;const cq=p.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(WT,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));cq.displayName=WT.displayName;const uq=p.forwardRef(({className:e,...t},n)=>o.jsx(GT,{ref:n,className:ge("-mx-1 my-1 h-px bg-border",e),...t}));uq.displayName=GT.displayName;const tC=["Apfel","Birne","Quitte","Aprikose","Marille","Pfirsich","Nektarine","Kirsche","Weichsel","Zwetschke","Pflaume","Mirabelle","Erdbeere","Himbeere","Brombeere","Heidelbeere","Blaubeere","Preiselbeere","Johannisbeere","Stachelbeere","Holunderbeere","Cranberry","Goji-Beere","Orange","Mandarine","Clementine","Zitrone","Limette","Grapefruit","Pomelo","Kumquat","Banane","Ananas","Mango","Papaya","Avocado","Kiwi","Passionsfrucht","Granatapfel","Feige","Dattel","Kokosnuss","Litschi","Physalis","Kaki","Sharon","Guave","Jackfruit","Durian","Wassermelone","Honigmelone","Galiamelone","Cantaloupe","Karotte","Petersilienwurzel","Pastinake","Sellerie","Rote Rbe","Rettich","Radieschen","Steckrbe","Topinambur","Skartoffel","Kartoffel","Kopfsalat","Eisbergsalat","Rucola","Vogerlsalat","Feldsalat","Endivie","Spinat","Mangold","Chinakohl","Weikraut","Rotkraut","Wirsing","Grnkohl","Brokkoli","Karfiol","Blumenkohl","Tomate","Paprika","Chili","Gurke","Zucchini","Melanzani","Aubergine","Krbis","Okra","Zwiebel","Schalotte","Knoblauch","Lauch","Porree","Frhlingszwiebel","Bambussprossen","Sojasprossen","Mungosprossen","Artischocke","Fenchel","Spargel","Zuckermais","Weizen","Dinkel","Roggen","Gerste","Hafer","Mais","Reis","Buchweizen","Quinoa","Amaranth","Hirse","Couscous","Bulgur","Polenta","Grie","Haferflocken","Haselnuss","Walnuss","Mandel","Cashew","Pistazie","Pekannuss","Paranuss","Macadamia","Erdnuss","Sonnenblumenkerne","Krbiskerne","Sesam","Mohn","Leinsamen","Chiasamen","Hanfsamen","Pinienkerne","Schwarzkmmel","Kidneybohnen","Weie Bohnen","Schwarze Bohnen","Borlotti-Bohnen","Sojabohnen","Edamame","Azukibohnen","Tellerlinsen","Berglinsen","Rote Linsen","Gelbe Linsen","Belugalinsen","Erbsen","Kichererbsen","Lupinen","Favabohnen"],dq=({startDate:e,endDate:t,completedDays:n,t:r})=>{if(!e||!t)return null;const s=new Date(e),i=new Date(s.getFullYear(),s.getMonth(),s.getDate()),a=new Date(t),l=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=Math.floor((l.getTime()-i.getTime())/(1e3*60*60*24))+1,d=new Date,u=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`,f=m=>{const v=m.getFullYear(),g=String(m.getMonth()+1).padStart(2,"0"),y=String(m.getDate()).padStart(2,"0");return`${v}-${g}-${y}`},h=[];for(let m=0;m<c;m++){const v=new Date(i);v.setDate(i.getDate()+m);const g=f(v),y=n.has(g),x=g===u;h.push({date:g,isCompleted:y,isToday:x})}return o.jsxs("div",{className:"mt-1.5",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:r("dailyProgress")}),o.jsx("div",{className:"flex flex-wrap gap-0.5",children:h.map((m,v)=>o.jsx("div",{className:`w-7 h-7 ${m.isCompleted?"bg-green-500":"bg-gray-200"}`,title:`${m.date} - ${m.isCompleted?r("completed"):r("notCompleted")}`},v))})]})},nC=({startDate:e,endDate:t,completedWeeks:n,t:r,completionItems:s,completedItems:i,onItemClick:a,readOnly:l,weekCompleted:c,currentWeekEntries:d,onCustomTextSubmit:u,language:f,targetValue:h,currentProgress:m})=>{const[v,g]=p.useState(!1),[y,x]=p.useState(""),[b,C]=p.useState(""),_=A=>{A.preventDefault(),y.trim()&&u&&(u(y.trim()),x(""),g(!1))},w=(s==null?void 0:s.filter(A=>A.toLowerCase().includes(b.toLowerCase())))||[];if(!e||!t)return null;const D=new Date(e),k=new Date(t);D.setHours(0,0,0,0),k.setHours(23,59,59,999);const S=Mn(D),N=pn(k),I=rn(new Date),$=A=>{const P=pn(A),R=A.toLocaleDateString("en-US",{month:"short",day:"numeric"}),T=P.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${R} - ${T}`},F=A=>{const P=pn(A);return A<=k&&P>=D},E=[],L=new Date(S);for(;L<=N;){if(F(L)){const A=rn(L),P=n.has(A),R=A===I,T=$(L);E.push({weekId:A,isCompleted:P,isCurrentWeek:R,weekRange:T,weekStart:new Date(L)})}L.setDate(L.getDate()+7)}return o.jsxs("div",{className:"mt-1.5 space-y-2",children:[(!s||s.length===0)&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:r("weeklyProgress")||r("dailyProgress")}),o.jsx("div",{className:"flex flex-wrap gap-0.5",children:E.map((A,P)=>o.jsx("div",{className:`w-7 h-7 ${A.isCompleted?"bg-green-500":"bg-gray-200"} ${A.isCurrentWeek?"ring-2 ring-blue-400":""}`,title:`${A.weekRange} - ${A.isCompleted?r("completed"):r("notCompleted")}`},P))})]}),s&&s.length>0&&o.jsxs("div",{children:[h!==void 0&&o.jsxs("div",{className:"mb-2 text-sm text-gray-700",children:[r("progress"),": ",(d==null?void 0:d.filter(A=>A.notes&&A.notes.trim()!=="").length)||0," / ",h," ",r(h===1?"completion":"completions")]}),o.jsx("div",{className:"mb-2",children:o.jsx("input",{type:"text",value:b,onChange:A=>C(A.target.value),placeholder:r("search")||"Search...",className:"w-full h-9 px-2 text-sm border border-gray-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})}),o.jsxs("div",{className:"flex flex-wrap gap-0.5 items-center",children:[!l&&!c&&!b.trim()&&o.jsx(o.Fragment,{children:v?o.jsxs("form",{onSubmit:_,className:"flex gap-1 items-center",children:[o.jsx("input",{type:"text",value:y,onChange:A=>x(A.target.value),placeholder:f==="de"?"hinzufgen":"Add...",className:"h-9 px-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0,onBlur:()=>{y.trim()||g(!1)}}),o.jsx("button",{type:"submit",disabled:!y.trim(),className:"h-9 px-2 text-sm bg-blue-500 text-white rounded-sm hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:r("addCompletion")||"Add"}),o.jsx("button",{type:"button",onClick:()=>{g(!1),x("")},className:"h-9 w-9 flex items-center justify-center bg-gray-200 text-gray-700 rounded-sm hover:bg-gray-300",title:r("cancel")||"Cancel",children:o.jsx(lu,{className:"h-4 w-4"})})]}):o.jsx("div",{onClick:()=>g(!0),className:"w-9 h-9 flex items-center justify-center text-lg font-medium bg-blue-500 text-white hover:bg-blue-600 cursor-pointer rounded-sm transition-colors",title:r("addCompletion")||"Add custom entry",children:"+"})}),!b.trim()&&(d==null?void 0:d.filter(A=>A.notes&&A.notes.trim()!=="").map((A,P)=>o.jsx("div",{className:"min-w-9 h-9 px-2 flex items-center justify-center text-sm font-medium bg-green-500 text-white rounded-sm",title:`${A.notes} - ${r("completed")}`,children:A.notes},`entry-${P}-${A.createdAt}`))),w.map(A=>{const P=(i==null?void 0:i.has(A))||!1,R=!l&&!c&&!P;return P?null:o.jsx("div",{onClick:R?()=>a==null?void 0:a(A):void 0,className:`min-w-9 h-9 px-2 flex items-center justify-center text-sm font-medium transition-colors rounded-sm ${R?"bg-gray-200 text-gray-700 hover:bg-gray-300 cursor-pointer":"bg-gray-200 text-gray-700"}`,title:`${A} - ${r("notCompleted")}`,children:A},A)}),b.trim()&&w.length===0&&!(i!=null&&i.has(b.trim()))&&!l&&!c&&o.jsxs("div",{onClick:()=>u==null?void 0:u(b.trim()),className:"min-w-9 h-9 px-2 flex items-center justify-center text-sm font-medium bg-blue-500 text-white hover:bg-blue-600 cursor-pointer rounded-sm transition-colors",title:`${r("addCompletion")||"Add"} "${b.trim()}"`,children:["+ ",b.trim()]})]})]}),(!s||s.length===0)&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:r("weeklyProgress")||r("dailyProgress")}),o.jsx("div",{className:"flex flex-wrap gap-0.5",children:E.map((A,P)=>o.jsx("div",{className:`w-7 h-7 ${A.isCompleted?"bg-green-500":"bg-gray-200"} ${A.isCurrentWeek?"ring-2 ring-blue-400":""}`,title:`${A.weekRange} - ${A.isCompleted?r("completed"):r("notCompleted")}`},P))})]})]})};function Bp({objective:e,challengeId:t,progress:n,challengeType:r,readOnly:s,capedPoints:i=!1,onProgressUpdate:a,challengeStartDate:l,challengeEndDate:c,selectedUserId:d,isExpanded:u,onExpandChange:f}){var _e;const[h,m]=p.useState(((_e=n==null?void 0:n.currentValue)==null?void 0:_e.toString())||"0"),[v,g]=p.useState(""),[y,x]=p.useState(!1),b=u!==void 0?u:y,C=Y=>{f?f(Y):x(Y)},[_,w]=p.useState(!1),[D,k]=p.useState(!1),[S,N]=p.useState(void 0),[O,I]=p.useState(!1);p.useState("1");const[$,F]=p.useState(!1),[E,L]=p.useState(new Set),[A,P]=p.useState(!1),[R,T]=p.useState(new Set),[j,M]=p.useState(0),[U,V]=p.useState(!1),[z,B]=p.useState([]),q=p.useRef(),{updateProgress:W}=Xr(),{user:G}=Ct(),{language:Z}=gt(),{t:H}=pt(Z),{toast:Q}=un(),re=zu(),ee=(n==null?void 0:n.currentValue)||0,ce=d||(n==null?void 0:n.userId)||(G==null?void 0:G.id),X=ce==="collective",se=(()=>{if(!l)return!0;const Y=new Date,te=new Date(l);if(!c)return Y>=te;const ue=new Date(c);return Y>=te&&Y<=ue})();let he=e.targetValue;Math.min(100,ee/e.targetValue*100);let ae=ee>=e.targetValue;if(r==="completion"&&l)if(c){const Y=new Date(l),te=new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()),ue=new Date(c),ye=new Date(ue.getFullYear(),ue.getMonth(),ue.getDate());he=Math.floor((ye.getTime()-te.getTime())/(1e3*60*60*24))+1,ae=ee>=he}else he=365,ae=!1;else(r==="checklist"||r==="collection")&&(ae=ee>=1);const oe=r==="bingo"?Math.floor(ee/e.targetValue):ae?1:0,xe=rD(e,ee,i),Ce=e.targetValue*e.pointsPerUnit;p.useEffect(()=>{if(r==="completion"&&ce)Ae().then(F),rt().then(Y=>L(Y));else if(r==="weekly"&&(ce||X)){const Y=e.targetValue||1;ct().then(te=>{M(te),Y===1?ot().then(P):P(te>=Y)}),Fe().then(te=>T(te)),St().then(te=>B(te))}},[r,ce,t,e.id,l,c]);const Pe=()=>{O&&!s&&(q.current=setTimeout(()=>{C(!0)},500))},je=()=>{q.current&&clearTimeout(q.current)},$e=async Y=>{if(Y.preventDefault(),!!G){if(!se){Q({title:H("challengeInactive"),description:H("challengeInactiveDescription"),variant:"destructive"});return}if(r==="weekly"){if(!v||v.trim()===""){Q({title:H("error"),description:"Please enter a description for this completion.",variant:"destructive"});return}await W(t,e.id,1,v.trim());const te=e.targetValue||1;let ue=0;if(te===1){P(!0);const pe=rn(new Date);T(we=>new Set([...we,pe])),Fe().then(we=>T(we)),ue=1}else{if(ue=await ct(),M(ue),ue>=te){P(!0);const pe=rn(new Date);T(we=>new Set([...we,pe])),Fe().then(we=>T(we))}St().then(ye=>B(ye))}g(""),(te===1||ue>=te)&&V(!1)}else{const te=parseFloat(h);if(isNaN(te))return;await W(t,e.id,te,v),C(!1),m("0"),g("")}a&&a()}},Ze=async()=>{G&&(await W(t,e.id,0),a&&a())},lt=async Y=>{if(!(!G||s)&&r==="weekly"){const te=e.targetValue||1;if((te>1?j>=te:A)&&te===1)return;await W(t,e.id,1,Y);let pe=0;if(te===1){P(!0);const Ee=rn(new Date);T(Te=>new Set([...Te,Ee])),Fe().then(Te=>T(Te)),pe=1}else{if(pe=await ct(),M(pe),pe>=te){P(!0);const Ee=rn(new Date);T(Te=>new Set([...Te,Ee])),Fe().then(Te=>T(Te))}St().then(we=>B(we))}a&&a()}},Ae=async()=>{if(!ce&&!X)return!1;const Y=Rn();try{const te=Fc(Y),ue=Lc(Y);let ye=J.from("entries").select("created_at").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",te).lte("created_at",ue);!X&&ce&&(ye=ye.eq("user_id",ce));const{data:pe,error:we}=await ye;return we?(console.error("Error checking today's entries:",we),!1):pe&&pe.length>0}catch(te){return console.error("Error checking today's entries:",te),!1}},rt=async()=>{if(!ce||!l)return new Set;console.log("getDailyEntries called with:",{challengeStartDate:l,challengeEndDate:c,userIdToQuery:ce});try{const Y=new Date(l),te=c?new Date(c):null;if(isNaN(Y.getTime())||te&&isNaN(te.getTime()))return console.error("Invalid date format:",{challengeStartDate:l,challengeEndDate:c}),new Set;const ue=Rn(Y),ye=Fc(ue);let pe=J.from("entries").select("created_at").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",ye);if(!X&&ce&&(pe=pe.eq("user_id",ce)),te){const ke=Rn(te),We=Lc(ke);pe.lte("created_at",We)}const{data:we,error:Ee}=await pe;if(Ee)return console.error("Error fetching daily entries:",Ee),new Set;const Te=new Set;return we&&we.forEach(ke=>{const We=Oa(ke.created_at);Te.add(We)}),Te}catch(Y){return console.error("Error fetching daily entries:",Y),new Set}},Fe=async()=>{if(!ce&&!X||!l)return new Set;try{const Y=new Date(l),te=c?new Date(c):null;if(isNaN(Y.getTime())||te&&isNaN(te.getTime()))return new Set;const ue=Y.toISOString();let ye=J.from("entries").select("created_at, value").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",ue);if(!X&&ce&&(ye=ye.eq("user_id",ce)),te){const We=new Date(te.getTime()+864e5-1).toISOString();ye=ye.lte("created_at",We)}const{data:pe,error:we}=await ye;if(we)return console.error("Error fetching weekly entries:",we),new Set;const Ee=e.targetValue||1,Te=new Map;pe&&pe.forEach(We=>{const st=new Date(We.created_at),ut=rn(st),Xl=Te.get(ut)||0;Te.set(ut,Xl+(We.value||0))});const ke=new Set;return Te.forEach((We,st)=>{We>=Ee&&ke.add(st)}),ke}catch(Y){return console.error("Error fetching weekly entries:",Y),new Set}},ot=async()=>{if(!ce&&!X)return!1;const Y=new Date,te=e.targetValue||1;try{const ue=Mn(Y),ye=pn(Y);let pe=J.from("entries").select("value").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",ue.toISOString()).lte("created_at",ye.toISOString());!X&&ce&&(pe=pe.eq("user_id",ce));const{data:we,error:Ee}=await pe;return Ee?(console.error("Error checking this week's entries:",Ee),!1):(we?we.reduce((ke,We)=>ke+(We.value||0),0):0)>=te}catch(ue){return console.error("Error checking this week's entries:",ue),!1}},ct=async()=>{if(!ce&&!X)return 0;const Y=new Date;try{const te=Mn(Y),ue=pn(Y);let ye=J.from("entries").select("value").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",te.toISOString()).lte("created_at",ue.toISOString());!X&&ce&&(ye=ye.eq("user_id",ce));const{data:pe,error:we}=await ye;return we?(console.error("Error getting this week's progress:",we),0):pe?pe.reduce((Ee,Te)=>Ee+(Te.value||0),0):0}catch(te){return console.error("Error getting this week's progress:",te),0}},St=async()=>{if(!ce&&!X)return[];const Y=new Date;try{const te=Mn(Y),ue=pn(Y);let ye=J.from("entries").select("notes, created_at, user_id").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",te.toISOString()).lte("created_at",ue.toISOString()).order("created_at",{ascending:!1});!X&&ce&&(ye=ye.eq("user_id",ce));const{data:pe,error:we}=await ye;if(we)return console.error("Error getting this week's entries:",we),[];const Ee=(pe||[]).map(Te=>({notes:Te.notes,createdAt:Te.created_at,userId:Te.user_id}));return console.log("Current week entries fetched:",Ee.length,Ee),Ee}catch(te){return console.error("Error getting this week's entries:",te),[]}},tt=async Y=>{if(!ce&&!X)return 0;try{const[te,ue,ye]=Y.split("-").map(Number),pe=new Date(te,ue-1,ye,0,0,0,0),we=pn(pe);let Ee=J.from("entries").select("value").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",pe.toISOString()).lte("created_at",we.toISOString());!X&&ce&&(Ee=Ee.eq("user_id",ce));const{data:Te,error:ke}=await Ee;return ke?(console.error("Error getting week progress:",ke),0):Te?Te.reduce((We,st)=>We+(st.value||0),0):0}catch(te){return console.error("Error getting week progress:",te),0}},dn=async Y=>{if(!ce)return!1;const te=e.targetValue||1;return await tt(Y)>=te},Qt=async Y=>{if(!ce)return!1;try{const te=Fc(Y),ue=Lc(Y),{data:ye,error:pe}=await J.from("entries").select("created_at").eq("user_id",ce).eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",te).lte("created_at",ue);return pe?(console.error("Error checking date entries:",pe),!1):!ye||ye.length===0?!1:ye.some(we=>Oa(we.created_at)===Y)}catch(te){return console.error("Error checking date entries:",te),!1}},Ar=async()=>{if(!(!S||!G)){if(!se){Q({title:H("challengeInactive"),description:H("challengeInactiveDescription"),variant:"destructive"});return}if(r==="weekly"){const Y=rn(S),te=e.targetValue||1;if(te===1){if(await dn(Y)){Q({title:H("alreadyCompleted"),description:H("alreadyCompletedForDate").replace("{date}",Y),variant:"destructive"});return}}else{const ue=Mn(S),ye=pn(S),{data:pe,error:we}=await J.from("entries").select("value").eq("user_id",ce||"").eq("challenge_id",t).eq("objective_id",e.id).gte("created_at",ue.toISOString()).lte("created_at",ye.toISOString());if(we)console.error("Error checking week progress:",we);else if((pe?pe.reduce((Te,ke)=>Te+(ke.value||0),0):0)>=te){Q({title:H("alreadyCompleted"),description:H("alreadyCompletedForDate").replace("{date}",Y),variant:"destructive"});return}}}else{const Y=S.getFullYear(),te=String(S.getMonth()+1).padStart(2,"0"),ue=String(S.getDate()).padStart(2,"0"),ye=`${Y}-${te}-${ue}`;if(await Qt(ye)){Q({title:H("alreadyCompleted"),description:H("alreadyCompletedForDate").replace("{date}",ye),variant:"destructive"});return}}if(l){const Y=new Date(l);Y.setHours(0,0,0,0);const te=new Date(S);if(te.setHours(0,0,0,0),te<Y){Q({title:H("invalidDate"),description:H("dateBeforeChallengeStart"),variant:"destructive"});return}}if(c){const Y=new Date(c);Y.setHours(23,59,59,999);const te=new Date(S);if(te.setHours(23,59,59,999),te>Y){Q({title:H("invalidDate"),description:H("dateAfterChallengeEnd"),variant:"destructive"});return}}if(r==="weekly"){if(!v||v.trim()===""){Q({title:H("error"),description:"Please enter a description for this completion.",variant:"destructive"});return}const Y=rn(S),te=e.targetValue||1;await tt(Y),await W(t,e.id,1,v.trim());const ue=await tt(Y),ye=ue>=te;ye&&Fe().then(Ee=>T(Ee));const we=rn(new Date);Y===we&&(te>1&&M(ue),ye&&P(!0)),g("")}else{const Y=S.getFullYear(),te=String(S.getMonth()+1).padStart(2,"0"),ue=String(S.getDate()).padStart(2,"0"),ye=`${Y}-${te}-${ue}`;await W(t,e.id,1,void 0,ye),rt().then(we=>L(we));const pe=Rn();ye===pe&&F(!0)}k(!1),N(void 0),a&&a()}},fe=async()=>{if(!((r==="checklist"||r==="collection")&&s)&&!(r==="completion"&&(!G||s||$))){if(r==="weekly"){if(!G||s)return;const Y=e.targetValue||1;if(Y===1&&A||Y>1&&j>=Y)return}if(!(r!=="checklist"&&r!=="collection"&&r!=="completion"&&r!=="weekly"&&(!G||s))&&!((r==="checklist"||r==="collection")&&!G)){if(!se){Q({title:H("challengeInactive"),description:H("challengeInactiveDescription"),variant:"destructive"});return}if(r==="bingo")await W(t,e.id,1);else if(r==="completion"){await W(t,e.id,1),F(!0);const Y=Rn();L(te=>new Set([...te,Y])),rt().then(te=>L(te))}else if(r==="weekly"){V(!0);return}else if(r==="checklist"||r==="collection"){const Y=ee>=1?0:1;await W(t,e.id,Y)}else{const Y=ee+1;await W(t,e.id,Y)}a&&a()}}};if(r==="bingo")return o.jsxs(Z1,{children:[o.jsx(eC,{children:o.jsxs(Xe,{className:`relative select-none mb-3 transition-all duration-200 ${ae?"border-challenge-teal bg-green-50/30":""} ${!s&&se?"cursor-pointer hover:shadow-md":""} ${se?"":"opacity-60 cursor-not-allowed"} ${re&&b?"shadow-lg w-full":""}`,onClick:Y=>{Y.button===0&&!s&&se&&(re?C(!b):Y.detail===1?fe():Y.detail===2&&C(!0))},onTouchStart:Y=>{!re&&O&&!s&&se&&(q.current=setTimeout(()=>{const te=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,clientX:Y.touches[0].clientX,clientY:Y.touches[0].clientY});Y.currentTarget.dispatchEvent(te)},500))},onTouchEnd:Y=>{q.current&&(clearTimeout(q.current),q.current=void 0)},onTouchCancel:Y=>{q.current&&(clearTimeout(q.current),q.current=void 0)},children:[o.jsx(Yt,{className:"flex flex-col items-center justify-center p-2 py-3 text-center",children:o.jsx(Gt,{className:`text-xs sm:text-sm leading-tight ${re&&b?"line-clamp-1":"line-clamp-2"} overflow-hidden text-ellipsis w-full font-medium`,children:e.title})}),oe>0&&o.jsx("div",{className:"absolute top-1 right-1",children:oe===1?o.jsx(ki,{className:"h-4 w-4 text-green-600"}):o.jsx("div",{className:"bg-green-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:oe})}),re&&b&&!s&&o.jsx(bt,{className:"pt-2 pb-3 px-3 border-t",children:o.jsxs("div",{className:"space-y-3",children:[e.description&&o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:e.description}),oe>0&&o.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[H("currentCompletions"),": ",oe]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(de,{variant:"outline",size:"sm",className:"flex-1 text-xs sm:text-sm",onClick:Y=>{Y.stopPropagation(),C(!1)},children:H("cancel")||"Dismiss"}),o.jsx(de,{size:"sm",className:"flex-1 text-xs sm:text-sm",onClick:async Y=>{if(Y.stopPropagation(),G){if(!se){Q({title:H("challengeInactive"),description:H("challengeInactiveDescription"),variant:"destructive"});return}await W(t,e.id,1),a&&a(),C(!1)}},children:H("complete")})]})]})})]})}),!s&&o.jsx(Vv,{children:o.jsxs(zv,{onClick:Ze,children:[o.jsx(qf,{className:"mr-2 h-4 w-4"}),H("resetObjective")]})}),!s&&!re&&o.jsx(cr,{open:b,onOpenChange:C,children:o.jsxs(Wn,{className:"sm:max-w-[425px]",children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:e.title}),o.jsxs(Cr,{children:[H("confirmCompleteObjective").replace("{objective}",e.title),oe>0&&o.jsxs("span",{className:"block mt-2 text-sm text-muted-foreground",children:[H("currentCompletions"),": ",oe]})]})]}),o.jsx(Wr,{children:o.jsx(de,{onClick:async()=>{if(G){if(!se){Q({title:H("challengeInactive"),description:H("challengeInactiveDescription"),variant:"destructive"});return}await W(t,e.id,1),a&&a(),C(!1)}},children:H("complete")})})]})})]});if(r==="collection")return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{className:`select-none mb-3 transition-colors ${ae?"border-green-200 bg-green-50/50":"border-gray-200 hover:border-gray-300"} ${!s&&se&&!ae?"cursor-pointer hover:shadow-md":""} ${se?"":"opacity-60 cursor-not-allowed"}`,onClick:!s&&se&&!ae?()=>w(!0):void 0,children:o.jsx(Yt,{className:"pb-2 pt-3 px-3",children:o.jsxs("div",{children:[o.jsx(Gt,{className:`text-sm ${ae?"line-through text-gray-500":"text-gray-900"}`,children:e.title}),e.description&&o.jsx(gn,{className:"mt-0.5 text-xs",children:e.description})]})})}),!s&&o.jsx(cr,{open:_,onOpenChange:w,children:o.jsxs(Wn,{className:"sm:max-w-[425px]",children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:H("completeObjective")}),o.jsx(Cr,{children:H("confirmCompleteObjective").replace("{objective}",e.title)})]}),o.jsxs(Wr,{children:[o.jsx(de,{variant:"outline",onClick:()=>w(!1),children:H("cancel")}),o.jsx(de,{onClick:async()=>{if(!G){console.error("No user logged in"),Q({title:H("error"),description:"You must be logged in to complete objectives",variant:"destructive"});return}if(console.log("Completing objective:",{challengeId:t,objectiveId:e.id,objective:e,challengeType:r}),!se){Q({title:H("challengeInactive"),description:H("challengeInactiveDescription"),variant:"destructive"}),w(!1);return}try{let Y=e.id;e.id&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.id)&&(console.warn("Invalid objective ID format (not a UUID):",e.id),Y=crypto.randomUUID(),console.log("Generated temporary UUID:",Y)),console.log("Calling updateProgress with:",{challengeId:t,objectiveId:Y,value:1}),await W(t,Y,1),console.log("Successfully completed objective"),w(!1),a&&a()}catch(Y){console.error("Error completing objective:",Y),Q({title:H("error"),description:"Failed to complete objective",variant:"destructive"})}},children:H("complete")})]})]})})]});if(r==="completion"){const te=new Date().toLocaleDateString(Z==="de"?"de-DE":"en-US",{day:"numeric",month:"short",year:"numeric"}),ue=!s&&!$,ye=ae||$;return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{className:`select-none mb-3 transition-all duration-200 ${ye?"border-green-200 bg-green-50/50":""} ${ue?"cursor-pointer hover:shadow-md":""}`,onClick:ue?pe=>{pe.detail===1&&fe()}:void 0,children:o.jsxs(Yt,{className:"pb-3 pt-4 px-4 text-center",children:[o.jsxs(Gt,{className:"text-sm font-medium leading-tight flex items-center justify-center gap-1.5 mb-1",children:[ye&&o.jsx(ki,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),o.jsx("span",{className:ye?"line-through text-gray-600":"text-gray-900",children:e.title})]}),o.jsx(gn,{className:"text-xs text-gray-500 mb-2",children:te}),ye?o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full inline-block",children:H($?"completedToday":"complete")})}):ue?o.jsx("div",{className:"mt-2 flex flex-col items-center gap-2",children:o.jsxs("div",{className:"bg-blue-500 text-white text-sm font-semibold px-4 py-2 rounded-lg inline-flex items-center gap-2 shadow-md",children:[o.jsx(B4,{className:"h-4 w-4"}),o.jsx("span",{children:H("tapToComplete")})]})}):null]})}),!s&&o.jsx("div",{className:"mt-1.5 flex justify-center",children:o.jsxs(cr,{open:D,onOpenChange:k,children:[o.jsx(xc,{asChild:!0,children:o.jsx(de,{variant:"outline",size:"sm",children:H("addPastCompletion")})}),o.jsxs(Wn,{className:"sm:max-w-[425px]",children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:H("addPastCompletion")}),o.jsx(Cr,{children:H("selectDateToAddCompletion")})]}),o.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[o.jsx(Ui,{mode:"single",selected:S,onSelect:N,disabled:pe=>{if(l){const st=new Date(l);if(st.setHours(0,0,0,0),pe<st)return!0}if(c){const st=new Date(c);if(st.setHours(23,59,59,999),pe>st)return!0}const we=new Date;if(we.setHours(23,59,59,999),pe>we)return!0;const Ee=pe.getFullYear(),Te=String(pe.getMonth()+1).padStart(2,"0"),ke=String(pe.getDate()).padStart(2,"0"),We=`${Ee}-${Te}-${ke}`;return E.has(We)},className:"rounded-md border"}),S&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[H("selectedDate"),": ",S.toLocaleDateString(Z==="de"?"de-DE":"en-US")]})]}),o.jsxs(Wr,{children:[o.jsx(de,{variant:"outline",onClick:()=>{k(!1),N(void 0)},children:H("cancel")}),o.jsx(de,{onClick:Ar,disabled:!S,children:H("addCompletion")})]})]})]})}),r!=="completion"&&r!=="weekly"&&o.jsx(dq,{startDate:l,endDate:c,completedDays:E,t:H}),r==="weekly"&&t!==41&&o.jsx(o.Fragment,{children:o.jsx(nC,{startDate:l,endDate:c,completedWeeks:R,t:H})})]})}if(r==="weekly"){const Y=new Date,te=Mn(Y),ue=pn(Y),ye=`${te.toLocaleDateString(Z==="de"?"de-DE":"en-US",{day:"numeric",month:"short"})} - ${ue.toLocaleDateString(Z==="de"?"de-DE":"en-US",{day:"numeric",month:"short",year:"numeric"})}`,pe=e.targetValue||1,we=pe>1,Ee=we?j>=pe:A,Te=!s&&!Ee;return t===41?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1.5",children:H("weeklyProgress")||H("dailyProgress")}),o.jsx("div",{className:"flex flex-wrap gap-0.5",children:(()=>{const ke=l?new Date(l):new Date,We=c?new Date(c):new Date;ke.setHours(0,0,0,0),We.setHours(23,59,59,999);const st=Mn(ke),ut=pn(We),rd=rn(new Date),Jl=[],ie=new Date(st);for(;ie<=ut;){const be=pn(ie);if(ie<=We&&be>=ke){const Ue=rn(ie),et=R.has(Ue),jt=Ue===rd;Jl.push({weekId:Ue,isCompleted:et,isCurrentWeek:jt})}ie.setDate(ie.getDate()+7)}return Jl.map((be,Ue)=>o.jsx("div",{className:`w-7 h-7 ${be.isCompleted?"bg-green-500":"bg-gray-200"} ${be.isCurrentWeek?"ring-2 ring-blue-400":""}`},Ue))})()})]}),o.jsx(nC,{startDate:l,endDate:c,completedWeeks:R,t:H,completionItems:tC,completedItems:new Set(z.filter(ke=>ke.notes&&tC.includes(ke.notes.trim())).map(ke=>ke.notes.trim())),onItemClick:lt,readOnly:s,weekCompleted:Ee,currentWeekEntries:z,onCustomTextSubmit:lt,language:Z,targetValue:e.targetValue||1,currentProgress:j}),!s&&o.jsx("div",{className:"mt-3 flex justify-center",children:o.jsxs(cr,{open:D,onOpenChange:k,children:[o.jsx(xc,{asChild:!0,children:o.jsx(de,{variant:"outline",size:"sm",children:H("addPastCompletion")})}),o.jsxs(Wn,{className:"sm:max-w-[425px]",children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:H("addPastCompletion")}),o.jsx(Cr,{children:H("selectDateToAddCompletion")})]}),o.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[o.jsx(Ui,{mode:"single",selected:S,onSelect:N,disabled:ke=>{if(l){const ut=new Date(l);if(ut.setHours(0,0,0,0),ke<ut)return!0}if(c){const ut=new Date(c);if(ut.setHours(23,59,59,999),ke>ut)return!0}const We=new Date;if(We.setHours(23,59,59,999),ke>We)return!0;if((e.targetValue||1)===1){const ut=rn(ke);return R.has(ut)}return!1},className:"rounded-md border"}),S&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[H("selectedDate"),": ",S.toLocaleDateString(Z==="de"?"de-DE":"en-US")]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(De,{htmlFor:"past-completion-notes",children:[H("description")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(dr,{id:"past-completion-notes",value:v,onChange:ke=>g(ke.target.value),placeholder:H("addNotesAboutProgress"),required:!0})]})]})]}),o.jsxs(Wr,{children:[o.jsx(de,{variant:"outline",onClick:()=>{k(!1),N(void 0),g("")},children:H("cancel")}),o.jsx(de,{onClick:Ar,disabled:!S||!v||v.trim()==="",children:H("addCompletion")})]})]})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Xe,{className:`select-none mb-3 transition-colors ${ae||Ee?"border-green-200 bg-green-50/50":"border-gray-200 hover:border-gray-300"} ${Te?"cursor-pointer hover:shadow-md":""}`,onClick:Te?ke=>{ke.detail===1&&fe()}:void 0,children:o.jsxs(Yt,{className:"pb-2 pt-3 px-3 text-center",children:[o.jsxs(Gt,{className:"text-sm font-medium leading-tight flex items-center justify-center gap-1.5",children:[ae&&o.jsx(ki,{className:"h-3.5 w-3.5 text-green-600 flex-shrink-0"}),o.jsx("span",{className:ae?"line-through text-gray-600":"text-gray-900",children:e.title})]}),o.jsx(gn,{className:"text-xs text-gray-500 mt-0.5",children:ye}),we&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"text-xs text-gray-600",children:[j," / ",pe," ",H(pe===1?"completion":"completions")]}),o.jsx(Hl,{value:Math.min(100,j/pe*100),className:"h-1.5 mt-1"})]}),(ae||Ee)&&!we&&o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"bg-green-100 text-green-800 text-xs font-medium px-1.5 py-0.5 rounded-full inline-block",children:H(A?"completedThisWeek":"complete")})}),Ee&&we&&o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"bg-green-100 text-green-800 text-xs font-medium px-1.5 py-0.5 rounded-full inline-block",children:H("completedThisWeek")})})]})}),!s&&U&&!Ee&&o.jsx(Xe,{className:"mt-2 border-gray-200",children:o.jsx(bt,{className:"pt-4 pb-3 px-3",children:o.jsxs("form",{onSubmit:$e,className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(De,{htmlFor:"weekly-completion-notes",className:"text-sm",children:[H("description")," ",o.jsx("span",{className:"text-red-500",children:"*"}),we&&o.jsxs("span",{className:"text-xs text-gray-500 ml-2 font-normal",children:["(",j," / ",pe," ",H("completions"),")"]})]}),o.jsx(dr,{id:"weekly-completion-notes",value:v,onChange:ke=>g(ke.target.value),placeholder:H("addNotesAboutProgress"),required:!0,className:"min-h-[80px]",autoFocus:!0})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(de,{type:"button",variant:"outline",size:"sm",onClick:()=>{V(!1),g("")},children:H("cancel")}),o.jsx(de,{type:"submit",size:"sm",disabled:!v||v.trim()==="",children:H("addCompletion")})]})]})})}),!s&&o.jsx("div",{className:"mt-1.5 flex justify-center",children:o.jsxs(cr,{open:D,onOpenChange:k,children:[o.jsx(xc,{asChild:!0,children:o.jsx(de,{variant:"outline",size:"sm",children:H("addPastCompletion")})}),o.jsxs(Wn,{className:"sm:max-w-[425px]",children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:H("addPastCompletion")}),o.jsx(Cr,{children:H("selectDateToAddCompletion")})]}),o.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[o.jsx(Ui,{mode:"single",selected:S,onSelect:N,disabled:ke=>{if(l){const ut=new Date(l);if(ut.setHours(0,0,0,0),ke<ut)return!0}if(c){const ut=new Date(c);if(ut.setHours(23,59,59,999),ke>ut)return!0}const We=new Date;if(We.setHours(23,59,59,999),ke>We)return!0;if((e.targetValue||1)===1){const ut=rn(ke);return R.has(ut)}return!1},className:"rounded-md border"}),S&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[H("selectedDate"),": ",S.toLocaleDateString(Z==="de"?"de-DE":"en-US")]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(De,{htmlFor:"past-completion-notes",children:[H("description")," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(dr,{id:"past-completion-notes",value:v,onChange:ke=>g(ke.target.value),placeholder:H("addNotesAboutProgress"),required:!0})]})]})]}),o.jsxs(Wr,{children:[o.jsx(de,{variant:"outline",onClick:()=>{k(!1),N(void 0),g("")},children:H("cancel")}),o.jsx(de,{onClick:Ar,disabled:!S||!v||v.trim()==="",children:H("addCompletion")})]})]})]})})]})}return o.jsxs(Z1,{children:[o.jsx(eC,{children:o.jsxs(Xe,{className:`select-none mb-3 ${ae?"border-challenge-teal bg-green-50/30":""} ${!s&&se&&r!=="standard"?"cursor-pointer hover:shadow-md transition-shadow":""} ${se?"":"opacity-60 cursor-not-allowed"}`,onClick:!s&&se&&r!=="standard"?Y=>{Y.detail===1?fe():Y.detail===2&&C(!0)}:void 0,onTouchStart:!s&&se&&r!=="standard"?Pe:void 0,onTouchEnd:!s&&se&&r!=="standard"?je:void 0,onTouchCancel:!s&&se&&r!=="standard"?je:void 0,children:[o.jsxs(Yt,{className:"pb-1.5 pt-3 px-3",children:[o.jsxs("div",{className:"flex justify-between items-center gap-2",children:[o.jsxs(Gt,{className:"text-sm flex items-center gap-1.5 flex-1 min-w-0",children:[ae&&o.jsx(ki,{className:"h-3.5 w-3.5 text-green-600 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.title}),!se&&o.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded-full flex-shrink-0",children:H("challengeInactive")})]}),o.jsxs("div",{className:"text-xs font-medium flex-shrink-0",children:[e.pointsPerUnit," ",H("points"),"/",e.unit]})]}),e.description&&o.jsx(gn,{className:"line-clamp-1 text-xs mt-0.5",children:e.description})]}),o.jsx(bt,{className:"pb-2 pt-0 px-3",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(er,{className:"h-3.5 w-3.5 text-challenge-purple flex-shrink-0"}),o.jsxs("span",{className:"text-xs font-medium",children:[Math.floor(xe)," / ",Math.floor(Ce)," ",H("points")]})]})}),o.jsx(Gi,{className:"pt-2 pb-3 px-3",children:!s&&o.jsxs(cr,{open:b,onOpenChange:C,children:[o.jsx(xc,{asChild:!0,children:o.jsx(de,{variant:"outline",size:"sm",className:"w-full",children:H("addProgress")})}),o.jsx(Wn,{className:"sm:max-w-[425px]",children:o.jsxs("form",{onSubmit:$e,children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:H(r==="weekly"?"addCompletion":"addProgress")}),o.jsx(Cr,{children:r==="weekly"?`${H("addCompletion")} ${H("forObjective")} ${e.title}. ${H("progress")}: ${j} / ${e.targetValue||1} ${H("completions")}`:`${H("enterProgressFor")} ${e.title}`})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[r!=="weekly"&&o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(De,{htmlFor:"progress-value",children:[H("progress"),": ",ee," /"," ",e.targetValue," ",e.unit]}),o.jsx(Ge,{id:"progress-value",type:"number",min:"0",value:h,onChange:Y=>m(Y.target.value),placeholder:H("enterUnit").replace("{unit}",e.unit)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(De,{htmlFor:"notes",children:[H(r==="weekly"?"description":"notes"),r==="weekly"&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(dr,{id:"notes",value:v,onChange:Y=>g(Y.target.value),placeholder:H("addNotesAboutProgress"),required:r==="weekly"})]})]}),o.jsx(Wr,{children:o.jsx(de,{type:"submit",disabled:r==="weekly"&&(!v||v.trim()===""),children:H(r==="weekly"?"addCompletion":"saveProgress")})})]})})]})})]})}),!s&&o.jsx(Vv,{children:o.jsxs(zv,{onClick:Ze,children:[o.jsx(qf,{className:"mr-2 h-4 w-4"}),H("resetObjective")]})})]})}const Sw=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",e),...t})}));Sw.displayName="Table";const JT=p.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",e),...t}));JT.displayName="TableHeader";const jw=p.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",e),...t}));jw.displayName="TableBody";const fq=p.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));fq.displayName="TableFooter";const oh=p.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));oh.displayName="TableRow";const gf=p.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));gf.displayName="TableHead";const Qo=p.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Qo.displayName="TableCell";const hq=p.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));hq.displayName="TableCaption";function ZT({challengeId:e,capedPoints:t=!1,onUserClick:n}){const{user:r}=Ct(),{language:s}=gt(),{t:i}=pt(s),{getParticipants:a}=Xr(),[l,c]=p.useState([]),[d,u]=p.useState([]),[f,h]=p.useState(null),[m,v]=p.useState(!0),[g,y]=p.useState({});p.useEffect(()=>{(async()=>{try{if(v(!0),e){const N=await a(e);u(N);const O=N.reduce((F,E)=>({...F,[E.id]:E.avatar}),{});y(O);const{data:I,error:$}=await J.from("challenges").select("objectives, totalPoints, challengeType, startDate, endDate").eq("id",e).single();if(!$&&I){const{data:F}=await J.from("objectives").select("*").eq("challenge_id",e).order("order",{ascending:!0});let E=[];F&&F.length>0?E=F.map(L=>({id:L.id,title:L.title,description:L.description||"",targetValue:L.target_value!==null?Number(L.target_value):0,unit:L.unit||"",pointsPerUnit:L.points_per_unit!==null?Number(L.points_per_unit):0})):I.objectives&&Array.isArray(I.objectives)&&(E=I.objectives),h({...I,objectives:E})}}let D=J.from("entries").select(`
    *,
    challenge:challenges (
      id,
      objectives,
      totalPoints
    )
  `);e&&(D=D.eq("challenge_id",e));const{data:k,error:S}=await D;S?console.error("Error fetching entries:",S):c(k||[])}catch(D){console.error("Unexpected error:",D)}finally{v(!1)}})()},[e,a]);const x=p.useMemo(()=>{const w=new Map,D=(f==null?void 0:f.challengeType)==="completion",k=(f==null?void 0:f.challengeType)==="weekly",S=new Map;l.forEach(F=>{w.has(F.user_id)||w.set(F.user_id,new Map);const E=w.get(F.user_id),L=E.get(F.objective_id)||0;if(k){S.has(F.user_id)||S.set(F.user_id,new Map);const A=S.get(F.user_id);A.has(F.objective_id)||A.set(F.objective_id,new Map);const P=A.get(F.objective_id),R=new Date(F.created_at),T=rn(R),j=P.get(T)||0;P.set(T,j+(F.value||0))}else D?E.set(F.objective_id,L+1):E.set(F.objective_id,L+F.value)}),k&&f&&f.objectives.forEach(F=>{S.forEach((E,L)=>{const A=E.get(F.id);if(A){const P=F.targetValue||1;let R=0;A.forEach(j=>{j>=P&&R++}),w.get(L).set(F.id,R)}})});const O=d.map(F=>{const E=w.get(F.id);if(!E)return{userId:F.id,username:F.name,score:0,uncappedScore:0};const L=Array.from(E.entries()).map(([j,M])=>({objectiveId:j,currentValue:M})),A=(f==null?void 0:f.objectives)||[],P=f==null?void 0:f.challengeType,R=gu(A,L,!0,P),T=gu(A,L,!1,P);return{userId:F.id,username:F.name,score:R,uncappedScore:T}}).map((F,E)=>({userId:F.userId,name:F.username,score:F.score,uncappedScore:F.uncappedScore,position:0}));if(t){f!=null&&f.totalPoints;const F=(f==null?void 0:f.objectives)||[];if(F.length>0){const E=new Map;O.forEach(L=>{const A=l.filter(M=>M.user_id===L.userId);if(A.length===0){E.set(L.userId,null);return}const P=new Map;let R=null;const T=A.sort((M,U)=>new Date(M.created_at).getTime()-new Date(U.created_at).getTime()),j=new Map;for(const M of T){if((f==null?void 0:f.challengeType)==="weekly"){j.has(M.objective_id)||j.set(M.objective_id,new Map);const V=j.get(M.objective_id),z=new Date(M.created_at),B=rn(z),q=V.get(B)||0;V.set(B,q+(M.value||0));const W=F.find(H=>H.id===M.objective_id),G=(W==null?void 0:W.targetValue)||1;let Z=0;V.forEach(H=>{H>=G&&Z++}),P.set(M.objective_id,Z)}else if((f==null?void 0:f.challengeType)==="completion"){const V=P.get(M.objective_id)||0;P.set(M.objective_id,V+1)}else{const V=P.get(M.objective_id)||0;P.set(M.objective_id,V+M.value)}let U;if((f==null?void 0:f.challengeType)==="completion"){const V=new Date(f.startDate),z=new Date(V.getFullYear(),V.getMonth(),V.getDate()),B=new Date(f.endDate),q=new Date(B.getFullYear(),B.getMonth(),B.getDate()),W=Math.floor((q.getTime()-z.getTime())/(1e3*60*60*24))+1;U=Array.from(P.values()).reduce((Z,H)=>Z+H,0)>=W}else if((f==null?void 0:f.challengeType)==="weekly"){const V=new Date(f.startDate),z=new Date(f.endDate),B=ps(V,z);U=Array.from(P.values()).reduce((W,G)=>W+G,0)>=B}else U=F.every(V=>(P.get(V.id)||0)>=V.targetValue);U&&!R&&(R=M.created_at)}E.set(L.userId,R)}),O.sort((L,A)=>{const P=E.get(L.userId),R=E.get(A.userId);if(P&&R){const T=new Date(P).getTime()-new Date(R).getTime();if(T!==0)return T}return P&&!R?-1:!P&&R?1:A.score-L.score})}else O.sort((E,L)=>L.score-E.score)}else O.sort((F,E)=>E.score-F.score);let I=1,$=Number.MAX_SAFE_INTEGER;return O.map((F,E)=>(F.score<$&&(I=E+1,$=F.score),{...F,position:I}))},[l,d,t,f]),b=p.useMemo(()=>{if(!t||!f)return new Map;const w=f.totalPoints||0,D=f.objectives||[];if(D.length===0)return new Map;const k=new Map;return x.forEach((S,N)=>{let O;if(f.challengeType==="completion"){const I=new Date(f.startDate),$=new Date(I.getFullYear(),I.getMonth(),I.getDate()),F=new Date(f.endDate),E=new Date(F.getFullYear(),F.getMonth(),F.getDate()),L=Math.floor((E.getTime()-$.getTime())/(1e3*60*60*24))+1;O=S.score>=L}else if(f.challengeType==="weekly"){const I=new Date(f.startDate),$=new Date(f.endDate),F=ps(I,$);O=S.score>=F}else O=S.score>=w;if(O){const I=l.filter(A=>A.user_id===S.userId);if(I.length===0)return;const $=new Map;let F=null;const E=I.sort((A,P)=>new Date(A.created_at).getTime()-new Date(P.created_at).getTime()),L=new Map;for(const A of E){if(f.challengeType==="weekly"){L.has(A.objective_id)||L.set(A.objective_id,new Map);const R=L.get(A.objective_id),T=new Date(A.created_at),j=rn(T),M=R.get(j)||0;R.set(j,M+(A.value||0));const U=D.find(B=>B.id===A.objective_id),V=(U==null?void 0:U.targetValue)||1;let z=0;R.forEach(B=>{B>=V&&z++}),$.set(A.objective_id,z)}else if(f.challengeType==="completion"){const R=$.get(A.objective_id)||0;$.set(A.objective_id,R+1)}else{const R=$.get(A.objective_id)||0;$.set(A.objective_id,R+A.value)}let P;if(f.challengeType==="completion"){const R=new Date(f.startDate),T=new Date(R.getFullYear(),R.getMonth(),R.getDate()),j=new Date(f.endDate),M=new Date(j.getFullYear(),j.getMonth(),j.getDate()),U=Math.floor((M.getTime()-T.getTime())/(1e3*60*60*24))+1;P=Array.from($.values()).reduce((z,B)=>z+B,0)>=U}else if(f.challengeType==="weekly"){const R=new Date(f.startDate),T=new Date(f.endDate),j=ps(R,T);P=Array.from($.values()).reduce((U,V)=>U+V,0)>=j}else P=D.every(R=>($.get(R.id)||0)>=R.targetValue);P&&!F&&(F=A.created_at)}F&&k.set(S.userId,{order:N+1,time:F})}}),k},[x,l,t,f]),C=w=>{switch(w){case 1:return"bg-yellow-100 text-yellow-700 border-yellow-300 shadow-sm";case 2:return"bg-gray-100 text-gray-700 border-gray-300 shadow-sm";case 3:return"bg-amber-100 text-amber-700 border-amber-300 shadow-sm";default:return"bg-blue-100 text-blue-700 border-blue-300 shadow-sm"}},_=w=>{switch(w){case 1:return"";case 2:return"";case 3:return"";default:return`${w}`}};return m?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:i("loading")})]}):x.length===0?o.jsxs("div",{className:"text-center py-10",children:[o.jsx(er,{className:"h-10 w-10 mx-auto text-muted-foreground opacity-50"}),o.jsx("h3",{className:"mt-4 text-lg font-medium",children:i("noParticipants")}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:i("noParticipantsDescription")})]}):o.jsx("div",{className:"rounded-md border overflow-x-auto",children:o.jsxs(Sw,{className:"min-w-full",children:[o.jsx(JT,{children:o.jsxs(oh,{children:[o.jsx(gf,{className:"w-12 md:w-16 text-center px-2 md:px-4",children:t?"":i("leaderboardRank")}),o.jsx(gf,{className:"px-2 md:px-4",children:"Player"}),o.jsx(gf,{className:"w-16 md:w-20 text-right px-2 md:px-4",children:"Pts"})]})}),o.jsx(jw,{children:x.map(w=>{const D=r&&w.userId===r.id,k=b.get(w.userId);return o.jsxs(oh,{className:`select-none ${D?"bg-muted/40":""}`,children:[o.jsx(Qo,{className:"text-center px-2 md:px-4",children:t?k?o.jsx("div",{className:`inline-flex items-center justify-center w-6 h-6 md:w-8 md:h-8 rounded-full text-xs md:text-sm font-bold border-2 ${C(k.order)} cursor-help`,title:`${_(k.order)} ${k.order===1?"1st":k.order===2?"2nd":"3rd"} to finish - ${new Date(k.time).toLocaleString()}`,children:_(k.order)}):w.score>=((f==null?void 0:f.totalPoints)||0)?o.jsx("span",{className:"text-muted-foreground text-xs",children:"-"}):o.jsx("span",{className:"text-muted-foreground text-xs",children:"-"}):o.jsxs(o.Fragment,{children:[w.position===1&&"",w.position===2&&"",w.position===3&&"",w.position>3&&w.position]})}),o.jsx(Qo,{className:"px-2 md:px-4",children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-3 cursor-pointer hover:opacity-80 select-none",onClick:()=>n==null?void 0:n(w.userId),children:[o.jsxs(Ls,{className:"h-6 w-6 md:h-8 md:w-8",children:[g[w.userId]&&o.jsx($s,{src:g[w.userId],onError:S=>{S.target.style.display="none"}}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-3 w-3 md:h-4 md:w-4"})})]}),o.jsxs("span",{className:`text-sm md:text-base ${D?"font-medium":""} break-words`,children:[w.name,D&&o.jsx("span",{className:"ml-1",children:"(You)"}),t&&(()=>{if((f==null?void 0:f.challengeType)==="completion"){const S=new Date(f.startDate),N=new Date(S.getFullYear(),S.getMonth(),S.getDate()),O=new Date(f.endDate),I=new Date(O.getFullYear(),O.getMonth(),O.getDate()),$=Math.floor((I.getTime()-N.getTime())/(1e3*60*60*24))+1;return w.score>=$}else if((f==null?void 0:f.challengeType)==="weekly"){const S=new Date(f.startDate),N=new Date(f.endDate),O=ps(S,N);return w.score>=O}else return w.score>=((f==null?void 0:f.totalPoints)||0)})()&&(!k||k.order>3)&&o.jsx("span",{className:"ml-1 md:ml-2 inline-flex items-center justify-center w-4 h-4 md:w-6 md:h-6 bg-green-100 text-green-700 rounded-full text-xs font-bold",title:`100% ${i("complete")}`,children:""})]})]})}),o.jsxs(Qo,{className:"text-right font-medium px-2 md:px-4",children:[o.jsx("span",{className:"text-sm md:text-base",children:Math.round(w.score)}),t&&w.uncappedScore!==w.score&&o.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground ml-1 md:ml-2",children:["(",Math.round(w.uncappedScore),")"]})]})]},w.userId)})})]})})}const lh={async createActivity(e,t,n){try{const{error:r}=await J.from("activity_feed").insert({user_id:e,activity_type:t,challenge_id:n.challengeId||null,objective_id:n.objectiveId||null,chapter_id:n.chapterId||null,quest_id:n.questId||null,quest_objective_id:n.questObjectiveId||null,metadata:n.metadata||null});r&&console.error("Error creating activity feed entry:",r)}catch(r){console.error("Error creating activity feed entry:",r)}},async getActivityFeed(e=50,t=0){const{data:n,error:r}=await J.from("activity_feed").select("*").order("created_at",{ascending:!1}).range(t,t+e-1);if(r)return console.error("Error fetching activity feed:",r),[];if(!n||n.length===0)return[];const s=[...new Set(n.map(D=>D.user_id))],i=[...new Set(n.map(D=>D.challenge_id).filter(Boolean))],a=[...new Set(n.map(D=>D.objective_id).filter(Boolean))],l=[...new Set(n.map(D=>D.chapter_id).filter(Boolean))],c=[...new Set(n.map(D=>D.quest_id).filter(Boolean))],d=[...new Set(n.map(D=>D.quest_objective_id).filter(Boolean))],[u,f,h,m,v,g]=await Promise.all([s.length>0?J.from("user_profiles").select("id, name").in("id",s):{data:[]},i.length>0?J.from("challenges").select("id, title").in("id",i):{data:[]},a.length>0?J.from("objectives").select("id, title").in("id",a):{data:[]},l.length>0?J.from("chapters").select("id, title").in("id",l):{data:[]},c.length>0?J.from("quests").select("id, title").in("id",c):{data:[]},d.length>0?J.from("quest_objectives").select("id, title").in("id",d):{data:[]}]),y=new Map((u.data||[]).map(D=>[D.id,D.name])),x=new Map((f.data||[]).map(D=>[D.id,D.title])),b=new Map((h.data||[]).map(D=>[D.id,D.title])),C=new Map((m.data||[]).map(D=>[D.id,D.title])),_=new Map((v.data||[]).map(D=>[D.id,D.title])),w=new Map((g.data||[]).map(D=>[D.id,D.title]));return n.map(D=>({id:D.id,userId:D.user_id,activityType:D.activity_type,challengeId:D.challenge_id,objectiveId:D.objective_id,chapterId:D.chapter_id,questId:D.quest_id,questObjectiveId:D.quest_objective_id,metadata:D.metadata,createdAt:D.created_at,userName:y.get(D.user_id),challengeTitle:D.challenge_id?x.get(D.challenge_id):void 0,objectiveTitle:D.objective_id?b.get(D.objective_id):void 0,chapterTitle:D.chapter_id?C.get(D.chapter_id):void 0,questTitle:D.quest_id?_.get(D.quest_id):void 0,questObjectiveTitle:D.quest_objective_id?w.get(D.quest_objective_id):void 0}))},async deleteActivityForEntry(e,t,n,r,s){try{const{data:i,error:a}=await J.from("activity_feed").select("id, metadata").eq("user_id",e).eq("challenge_id",t).eq("objective_id",n).eq("activity_type","objective_progress").order("created_at",{ascending:!1});if(a){console.error("Error fetching activity feed entries:",a);return}if(!i||i.length===0)return;const l=i.find(c=>{const d=c.metadata||{},u=d.value,f=d.notes||null,h=Number(u)===Number(r),m=f===null&&s==null||f===(s||null);return h&&m});if(l){const{error:c}=await J.from("activity_feed").delete().eq("id",l.id);c&&console.error("Error deleting activity feed entry:",c)}}catch(i){console.error("Error deleting activity feed entry:",i)}},async deleteActivitiesForObjective(e,t,n){try{const{error:r}=await J.from("activity_feed").delete().eq("user_id",e).eq("challenge_id",t).eq("objective_id",n).eq("activity_type","objective_progress");r&&console.error("Error deleting activity feed entries:",r)}catch(r){console.error("Error deleting activity feed entries:",r)}},async deleteActivityForQuestEntry(e,t,n,r,s,i){try{const{data:a,error:l}=await J.from("activity_feed").select("id, metadata").eq("user_id",e).eq("chapter_id",t).eq("quest_id",n).eq("quest_objective_id",r).eq("activity_type","objective_progress").order("created_at",{ascending:!1});if(l){console.error("Error fetching activity feed entries:",l);return}if(!a||a.length===0)return;const c=a.find(d=>{const u=d.metadata||{},f=u.value,h=u.notes||null,m=Number(f)===Number(s),v=h===null&&i==null||h===(i||null);return m&&v});if(c){const{error:d}=await J.from("activity_feed").delete().eq("id",c.id);d&&console.error("Error deleting activity feed entry:",d)}}catch(a){console.error("Error deleting activity feed entry:",a)}},async deleteActivitiesForChallenge(e,t){try{const{error:n}=await J.from("activity_feed").delete().eq("user_id",e).eq("challenge_id",t);n&&console.error("Error deleting activity feed entries for challenge:",n)}catch(n){console.error("Error deleting activity feed entries for challenge:",n)}},async getUserActivityFeed(e,t=50,n=0){var D;const{data:r,error:s}=await J.from("activity_feed").select("*").eq("user_id",e).order("created_at",{ascending:!1}).range(n,n+t-1);if(s)return console.error("Error fetching user activity feed:",s),[];if(!r||r.length===0)return[];const i=[...new Set(r.map(k=>k.challenge_id).filter(Boolean))],a=[...new Set(r.map(k=>k.objective_id).filter(Boolean))],l=[...new Set(r.map(k=>k.chapter_id).filter(Boolean))],c=[...new Set(r.map(k=>k.quest_id).filter(Boolean))],d=[...new Set(r.map(k=>k.quest_objective_id).filter(Boolean))],[u,f,h,m,v,g]=await Promise.all([J.from("user_profiles").select("id, name").eq("id",e).single(),i.length>0?J.from("challenges").select("id, title").in("id",i):{data:[]},a.length>0?J.from("objectives").select("id, title").in("id",a):{data:[]},l.length>0?J.from("chapters").select("id, title").in("id",l):{data:[]},c.length>0?J.from("quests").select("id, title").in("id",c):{data:[]},d.length>0?J.from("quest_objectives").select("id, title").in("id",d):{data:[]}]),y=(D=u.data)==null?void 0:D.name,x=new Map((f.data||[]).map(k=>[k.id,k.title])),b=new Map((h.data||[]).map(k=>[k.id,k.title])),C=new Map((m.data||[]).map(k=>[k.id,k.title])),_=new Map((v.data||[]).map(k=>[k.id,k.title])),w=new Map((g.data||[]).map(k=>[k.id,k.title]));return r.map(k=>({id:k.id,userId:k.user_id,activityType:k.activity_type,challengeId:k.challenge_id,objectiveId:k.objective_id,chapterId:k.chapter_id,questId:k.quest_id,questObjectiveId:k.quest_objective_id,metadata:k.metadata,createdAt:k.created_at,userName:y,challengeTitle:k.challenge_id?x.get(k.challenge_id):void 0,objectiveTitle:k.objective_id?b.get(k.objective_id):void 0,chapterTitle:k.chapter_id?C.get(k.chapter_id):void 0,questTitle:k.quest_id?_.get(k.quest_id):void 0,questObjectiveTitle:k.quest_objective_id?w.get(k.quest_objective_id):void 0}))}},Rs=Object.freeze(Object.defineProperty({__proto__:null,activityFeedService:lh},Symbol.toStringTag,{value:"Module"}));function mq({challengeId:e,onUserClick:t}){const{language:n}=gt(),{t:r}=pt(n),{getChallenge:s}=Xr(),{user:i}=Ct(),{toast:a}=un(),[l,c]=p.useState([]),[d,u]=p.useState({}),[f,h]=p.useState(!0),[m,v]=p.useState({}),[g,y]=p.useState(null),[x,b]=p.useState(!1),[C,_]=p.useState(null),[w,D]=p.useState(""),[k,S]=p.useState(""),[N,O]=p.useState(!1),[I,$]=p.useState(null),[F,E]=p.useState(!1),L=p.useRef(),[A,P]=p.useState(!1),[R,T]=p.useState({x:0,y:0}),[j,M]=p.useState(null);p.useEffect(()=>{const Q=()=>{E("ontouchstart"in window||navigator.maxTouchPoints>0)};return Q(),window.addEventListener("resize",Q),()=>{window.removeEventListener("resize",Q)}},[]),p.useEffect(()=>{(async()=>{try{h(!0);const re=await s(e);if(re){const X=re.objectives.reduce((ne,se)=>({...ne,[se.id]:se}),{});u(X),y(re.challengeType)}const{data:ee,error:ce}=await J.from("entries").select("*").eq("challenge_id",e).order("created_at",{ascending:!1});if(ce)console.error("Error fetching activities:",ce);else{c(ee||[]);const X=[...new Set((ee==null?void 0:ee.map(he=>he.user_id))||[])],{data:ne,error:se}=await J.from("user_profiles").select("id, avatar_url").in("id",X);if(se)console.error("Error fetching user profiles:",se);else{const he=(ne||[]).reduce((ae,oe)=>({...ae,[oe.id]:oe.avatar_url}),{});v(he)}}}catch(re){console.error("Unexpected error:",re)}finally{h(!1)}})()},[e,s]);const U=n==="de"?Cm:io,V=Q=>{_(Q),D(Q.value.toString()),S(Q.notes||""),b(!0),P(!1)},z=Q=>{$(Q),O(!0),P(!1)},B=async Q=>{if(Q.preventDefault(),!C||!i)return;const re=parseFloat(w);if(isNaN(re)||re<0){a({title:r("error"),description:r("pleaseEnterValidValue"),variant:"destructive"});return}try{const{error:ee}=await J.from("entries").update({value:re,notes:k.trim()||null}).eq("id",C.id).eq("user_id",i.id);if(ee){console.error("Error updating activity:",ee),a({title:r("error"),description:r("failedToUpdateActivity"),variant:"destructive"});return}c(ce=>ce.map(X=>X.id===C.id?{...X,value:re,notes:k.trim()||null}:X)),a({title:r("activityUpdated"),description:r("activityUpdatedDescription")}),b(!1),_(null),D(""),S("")}catch(ee){console.error("Error updating activity:",ee),a({title:r("error"),description:r("failedToUpdateActivity"),variant:"destructive"})}},q=async()=>{if(!(!I||!i))try{const{error:Q}=await J.from("entries").delete().eq("id",I.id).eq("user_id",i.id);if(Q){console.error("Error deleting activity:",Q),a({title:r("error"),description:r("failedToDeleteActivity"),variant:"destructive"});return}await lh.deleteActivityForEntry(i.id,e,I.objective_id,I.value,I.notes||null),c(re=>re.filter(ee=>ee.id!==I.id)),a({title:r("activityDeleted"),description:r("activityDeletedDescription")}),O(!1),$(null)}catch(Q){console.error("Error deleting activity:",Q),a({title:r("error"),description:r("failedToDeleteActivity"),variant:"destructive"})}},W=(Q,re)=>{F&&i&&Q.user_id===i.id&&(L.current=setTimeout(()=>{const ee=re.touches[0];T({x:ee.clientX,y:ee.clientY}),M(Q),P(!0)},500))},G=()=>{L.current&&(clearTimeout(L.current),L.current=void 0)},Z=()=>{L.current&&(clearTimeout(L.current),L.current=void 0)},H=(Q,re)=>{i&&Q.user_id===i.id&&(re.preventDefault(),re.stopPropagation(),T({x:re.clientX,y:re.clientY}),M(Q),P(!0))};return p.useEffect(()=>{const Q=()=>{P(!1)},re=ee=>{ee.key==="Escape"&&P(!1)};if(A)return document.addEventListener("click",Q),document.addEventListener("keydown",re),()=>{document.removeEventListener("click",Q),document.removeEventListener("keydown",re)}},[A]),f?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:r("loading")})]}):l.length===0?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("p",{className:"text-muted-foreground",children:r("noActivities")}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:r("noActivitiesDescription")})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-md border",children:o.jsx(Sw,{children:o.jsx(jw,{children:l.map(Q=>(d[Q.objective_id],i&&(Q.user_id,i.id),o.jsxs(oh,{className:"cursor-pointer hover:bg-muted/50 select-none",onTouchStart:re=>W(Q,re),onTouchEnd:G,onTouchCancel:Z,onContextMenu:re=>H(Q,re),onClick:re=>{re.button===0&&(t==null||t(Q.user_id))},children:[o.jsx(Qo,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Ls,{className:"h-8 w-8",children:[m[Q.user_id]&&o.jsx($s,{src:m[Q.user_id],onError:re=>{re.target.style.display="none"}}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-4 w-4"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:Q.username}),Q.notes&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Q.notes})]})]})}),o.jsx(Qo,{className:"text-right text-muted-foreground",children:Ot(new Date(Q.created_at),r("dateFormatLong")+" HH:mm",{locale:U})})]},Q.id)))})})}),A&&j&&o.jsxs("div",{className:"fixed z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",style:{left:R.x,top:R.y,transform:"translate(0, -100%)"},children:[o.jsxs("button",{className:"relative flex w-full cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground hover:bg-accent hover:text-accent-foreground",onClick:()=>V(j),children:[o.jsx(Ck,{className:"mr-2 h-4 w-4"}),r("edit")]}),o.jsxs("button",{className:"relative flex w-full cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground hover:bg-accent hover:text-accent-foreground text-destructive focus:text-destructive",onClick:()=>z(j),children:[o.jsx(jk,{className:"mr-2 h-4 w-4"}),r("delete")]})]}),o.jsx(cr,{open:x,onOpenChange:b,children:o.jsx(Wn,{className:"sm:max-w-[425px]",children:o.jsxs("form",{onSubmit:B,children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:r("editActivity")}),o.jsx(Cr,{children:C&&d[C.objective_id]&&o.jsxs(o.Fragment,{children:[r("editActivityFor"),' "',d[C.objective_id].title,'"']})})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(De,{htmlFor:"edit-value",children:C&&d[C.objective_id]&&o.jsxs(o.Fragment,{children:[r("value")," (",d[C.objective_id].unit,")"]})}),o.jsx(Ge,{id:"edit-value",type:"number",min:"0",step:"0.01",value:w,onChange:Q=>D(Q.target.value),placeholder:C&&d[C.objective_id]?r("enterUnit").replace("{unit}",d[C.objective_id].unit):""})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(De,{htmlFor:"edit-notes",children:r("notes")}),o.jsx(dr,{id:"edit-notes",value:k,onChange:Q=>S(Q.target.value),placeholder:r("addNotesAboutProgress")})]})]}),o.jsxs(Wr,{children:[o.jsx(de,{type:"button",variant:"outline",onClick:()=>b(!1),children:r("cancel")}),o.jsx(de,{type:"submit",children:r("save")})]})]})})}),o.jsx(xu,{open:N,onOpenChange:O,children:o.jsxs(vl,{children:[o.jsxs(yl,{children:[o.jsx(xl,{children:r("deleteActivity")}),o.jsx(bl,{children:r("deleteActivityConfirmation")})]}),o.jsxs(wl,{children:[o.jsx(Sl,{children:r("cancel")}),o.jsx(Cl,{onClick:q,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:r("delete")})]})]})})]})}var _w={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var j=new OffscreenCanvas(1,1),M=j.getContext("2d");M.fillRect(0,0,1,1);var U=j.transferToImageBitmap();try{M.createPattern(U,"no-repeat")}catch{return!1}return!0}();function c(){}function d(j){var M=n.exports.Promise,U=M!==void 0?M:t.Promise;return typeof U=="function"?new U(j):(j(c,c),null)}var u=function(j,M){return{transform:function(U){if(j)return U;if(M.has(U))return M.get(U);var V=new OffscreenCanvas(U.width,U.height),z=V.getContext("2d");return z.drawImage(U,0,0),M.set(U,V),V},clear:function(){M.clear()}}}(l,new Map),f=function(){var j=Math.floor(16.666666666666668),M,U,V={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(M=function(B){var q=Math.random();return V[q]=requestAnimationFrame(function W(G){z===G||z+j-1<G?(z=G,delete V[q],B()):V[q]=requestAnimationFrame(W)}),q},U=function(B){V[B]&&cancelAnimationFrame(V[B])}):(M=function(B){return setTimeout(B,j)},U=function(B){return clearTimeout(B)}),{frame:M,cancel:U}}(),h=function(){var j,M,U={};function V(z){function B(q,W){z.postMessage({options:q||{},callback:W})}z.init=function(W){var G=W.transferControlToOffscreen();z.postMessage({canvas:G},[G])},z.fire=function(W,G,Z){if(M)return B(W,null),M;var H=Math.random().toString(36).slice(2);return M=d(function(Q){function re(ee){ee.data.callback===H&&(delete U[H],z.removeEventListener("message",re),M=null,u.clear(),Z(),Q())}z.addEventListener("message",re),B(W,H),U[H]=re.bind(null,{data:{callback:H}})}),M},z.reset=function(){z.postMessage({reset:!0});for(var W in U)U[W](),delete U[W]}}return function(){if(j)return j;if(!r&&i){var z=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([z])))}catch(B){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",B),null}V(j)}return j}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(j,M){return M?M(j):j}function g(j){return j!=null}function y(j,M,U){return v(j&&g(j[M])?j[M]:m[M],U)}function x(j){return j<0?0:Math.floor(j)}function b(j,M){return Math.floor(Math.random()*(M-j))+j}function C(j){return parseInt(j,16)}function _(j){return j.map(w)}function w(j){var M=String(j).replace(/[^0-9a-f]/gi,"");return M.length<6&&(M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]),{r:C(M.substring(0,2)),g:C(M.substring(2,4)),b:C(M.substring(4,6))}}function D(j){var M=y(j,"origin",Object);return M.x=y(M,"x",Number),M.y=y(M,"y",Number),M}function k(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function S(j){var M=j.getBoundingClientRect();j.width=M.width,j.height=M.height}function N(j){var M=document.createElement("canvas");return M.style.position="fixed",M.style.top="0px",M.style.left="0px",M.style.pointerEvents="none",M.style.zIndex=j,M}function O(j,M,U,V,z,B,q,W,G){j.save(),j.translate(M,U),j.rotate(B),j.scale(V,z),j.arc(0,0,1,q,W,G),j.restore()}function I(j){var M=j.angle*(Math.PI/180),U=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-M+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function $(j,M){M.x+=Math.cos(M.angle2D)*M.velocity+M.drift,M.y+=Math.sin(M.angle2D)*M.velocity+M.gravity,M.velocity*=M.decay,M.flat?(M.wobble=0,M.wobbleX=M.x+10*M.scalar,M.wobbleY=M.y+10*M.scalar,M.tiltSin=0,M.tiltCos=0,M.random=1):(M.wobble+=M.wobbleSpeed,M.wobbleX=M.x+10*M.scalar*Math.cos(M.wobble),M.wobbleY=M.y+10*M.scalar*Math.sin(M.wobble),M.tiltAngle+=.1,M.tiltSin=Math.sin(M.tiltAngle),M.tiltCos=Math.cos(M.tiltAngle),M.random=Math.random()+2);var U=M.tick++/M.totalTicks,V=M.x+M.random*M.tiltCos,z=M.y+M.random*M.tiltSin,B=M.wobbleX+M.random*M.tiltCos,q=M.wobbleY+M.random*M.tiltSin;if(j.fillStyle="rgba("+M.color.r+", "+M.color.g+", "+M.color.b+", "+(1-U)+")",j.beginPath(),a&&M.shape.type==="path"&&typeof M.shape.path=="string"&&Array.isArray(M.shape.matrix))j.fill(P(M.shape.path,M.shape.matrix,M.x,M.y,Math.abs(B-V)*.1,Math.abs(q-z)*.1,Math.PI/10*M.wobble));else if(M.shape.type==="bitmap"){var W=Math.PI/10*M.wobble,G=Math.abs(B-V)*.1,Z=Math.abs(q-z)*.1,H=M.shape.bitmap.width*M.scalar,Q=M.shape.bitmap.height*M.scalar,re=new DOMMatrix([Math.cos(W)*G,Math.sin(W)*G,-Math.sin(W)*Z,Math.cos(W)*Z,M.x,M.y]);re.multiplySelf(new DOMMatrix(M.shape.matrix));var ee=j.createPattern(u.transform(M.shape.bitmap),"no-repeat");ee.setTransform(re),j.globalAlpha=1-U,j.fillStyle=ee,j.fillRect(M.x-H/2,M.y-Q/2,H,Q),j.globalAlpha=1}else if(M.shape==="circle")j.ellipse?j.ellipse(M.x,M.y,Math.abs(B-V)*M.ovalScalar,Math.abs(q-z)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI):O(j,M.x,M.y,Math.abs(B-V)*M.ovalScalar,Math.abs(q-z)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI);else if(M.shape==="star")for(var ce=Math.PI/2*3,X=4*M.scalar,ne=8*M.scalar,se=M.x,he=M.y,ae=5,oe=Math.PI/ae;ae--;)se=M.x+Math.cos(ce)*ne,he=M.y+Math.sin(ce)*ne,j.lineTo(se,he),ce+=oe,se=M.x+Math.cos(ce)*X,he=M.y+Math.sin(ce)*X,j.lineTo(se,he),ce+=oe;else j.moveTo(Math.floor(M.x),Math.floor(M.y)),j.lineTo(Math.floor(M.wobbleX),Math.floor(z)),j.lineTo(Math.floor(B),Math.floor(q)),j.lineTo(Math.floor(V),Math.floor(M.wobbleY));return j.closePath(),j.fill(),M.tick<M.totalTicks}function F(j,M,U,V,z){var B=M.slice(),q=j.getContext("2d"),W,G,Z=d(function(H){function Q(){W=G=null,q.clearRect(0,0,V.width,V.height),u.clear(),z(),H()}function re(){r&&!(V.width===s.width&&V.height===s.height)&&(V.width=j.width=s.width,V.height=j.height=s.height),!V.width&&!V.height&&(U(j),V.width=j.width,V.height=j.height),q.clearRect(0,0,V.width,V.height),B=B.filter(function(ee){return $(q,ee)}),B.length?W=f.frame(re):Q()}W=f.frame(re),G=Q});return{addFettis:function(H){return B=B.concat(H),Z},canvas:j,promise:Z,reset:function(){W&&f.cancel(W),G&&G()}}}function E(j,M){var U=!j,V=!!y(M||{},"resize"),z=!1,B=y(M,"disableForReducedMotion",Boolean),q=i&&!!y(M||{},"useWorker"),W=q?h():null,G=U?k:S,Z=j&&W?!!j.__confetti_initialized:!1,H=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Q;function re(ce,X,ne){for(var se=y(ce,"particleCount",x),he=y(ce,"angle",Number),ae=y(ce,"spread",Number),oe=y(ce,"startVelocity",Number),xe=y(ce,"decay",Number),Ce=y(ce,"gravity",Number),Pe=y(ce,"drift",Number),je=y(ce,"colors",_),$e=y(ce,"ticks",Number),Ze=y(ce,"shapes"),lt=y(ce,"scalar"),Ae=!!y(ce,"flat"),rt=D(ce),Fe=se,ot=[],ct=j.width*rt.x,St=j.height*rt.y;Fe--;)ot.push(I({x:ct,y:St,angle:he,spread:ae,startVelocity:oe,color:je[Fe%je.length],shape:Ze[b(0,Ze.length)],ticks:$e,decay:xe,gravity:Ce,drift:Pe,scalar:lt,flat:Ae}));return Q?Q.addFettis(ot):(Q=F(j,ot,G,X,ne),Q.promise)}function ee(ce){var X=B||y(ce,"disableForReducedMotion",Boolean),ne=y(ce,"zIndex",Number);if(X&&H)return d(function(oe){oe()});U&&Q?j=Q.canvas:U&&!j&&(j=N(ne),document.body.appendChild(j)),V&&!Z&&G(j);var se={width:j.width,height:j.height};W&&!Z&&W.init(j),Z=!0,W&&(j.__confetti_initialized=!0);function he(){if(W){var oe={getBoundingClientRect:function(){if(!U)return j.getBoundingClientRect()}};G(oe),W.postMessage({resize:{width:oe.width,height:oe.height}});return}se.width=se.height=null}function ae(){Q=null,V&&(z=!1,t.removeEventListener("resize",he)),U&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,Z=!1)}return V&&!z&&(z=!0,t.addEventListener("resize",he,!1)),W?W.fire(ce,se,ae):re(ce,se,ae)}return ee.reset=function(){W&&W.reset(),Q&&Q.reset()},ee}var L;function A(){return L||(L=E(null,{useWorker:!0,resize:!0})),L}function P(j,M,U,V,z,B,q){var W=new Path2D(j),G=new Path2D;G.addPath(W,new DOMMatrix(M));var Z=new Path2D;return Z.addPath(G,new DOMMatrix([Math.cos(q)*z,Math.sin(q)*z,-Math.sin(q)*B,Math.cos(q)*B,U,V])),Z}function R(j){if(!a)throw new Error("path confetti are not supported in this browser");var M,U;typeof j=="string"?M=j:(M=j.path,U=j.matrix);var V=new Path2D(M),z=document.createElement("canvas"),B=z.getContext("2d");if(!U){for(var q=1e3,W=q,G=q,Z=0,H=0,Q,re,ee=0;ee<q;ee+=2)for(var ce=0;ce<q;ce+=2)B.isPointInPath(V,ee,ce,"nonzero")&&(W=Math.min(W,ee),G=Math.min(G,ce),Z=Math.max(Z,ee),H=Math.max(H,ce));Q=Z-W,re=H-G;var X=10,ne=Math.min(X/Q,X/re);U=[ne,0,0,ne,-Math.round(Q/2+W)*ne,-Math.round(re/2+G)*ne]}return{type:"path",path:M,matrix:U}}function T(j){var M,U=1,V="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?M=j:(M=j.text,U="scalar"in j?j.scalar:U,z="fontFamily"in j?j.fontFamily:z,V="color"in j?j.color:V);var B=10*U,q=""+B+"px "+z,W=new OffscreenCanvas(B,B),G=W.getContext("2d");G.font=q;var Z=G.measureText(M),H=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),Q=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),re=2,ee=Z.actualBoundingBoxLeft+re,ce=Z.actualBoundingBoxAscent+re;H+=re+re,Q+=re+re,W=new OffscreenCanvas(H,Q),G=W.getContext("2d"),G.font=q,G.fillStyle=V,G.fillText(M,ee,ce);var X=1/U;return{type:"bitmap",bitmap:W.transferToImageBitmap(),matrix:[X,0,0,X,-H*X/2,-Q*X/2]}}n.exports=function(){return A().apply(this,arguments)},n.exports.reset=function(){A().reset()},n.exports.create=E,n.exports.shapeFromPath=R,n.exports.shapeFromText=T})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),_w,!1);const pq=_w.exports;_w.exports.create;const kw=p.createContext({});function Pw(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Dw=typeof window<"u",eA=Dw?p.useLayoutEffect:p.useEffect,Pm=p.createContext(null);function Ew(e,t){e.indexOf(t)===-1&&e.push(t)}function Nw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gs=(e,t,n)=>n>t?t:n<e?e:n;let ch=()=>{};const Qs={},tA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nA(e){return typeof e=="object"&&e!==null}const rA=e=>/^0[^.\s]+$/u.test(e);function Tw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pr=e=>e,gq=(e,t)=>n=>t(e(n)),Zu=(...e)=>e.reduce(gq),Cu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Aw{constructor(){this.subscriptions=[]}add(t){return Ew(this.subscriptions,t),()=>Nw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ws=e=>e*1e3,xs=e=>e/1e3;function sA(e,t){return t?e*(1e3/t):0}const iA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vq=1e-7,yq=12;function wq(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=iA(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>vq&&++l<yq);return a}function ed(e,t,n,r){if(e===t&&n===r)return Pr;const s=i=>wq(i,0,1,e,n);return i=>i===0||i===1?i:iA(s(i),t,r)}const aA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oA=e=>t=>1-e(1-t),lA=ed(.33,1.53,.69,.99),Mw=oA(lA),cA=aA(Mw),uA=e=>(e*=2)<1?.5*Mw(e):.5*(2-Math.pow(2,-10*(e-1))),Rw=e=>1-Math.sin(Math.acos(e)),dA=oA(Rw),fA=aA(Rw),xq=ed(.42,0,1,1),bq=ed(0,0,.58,1),hA=ed(.42,0,.58,1),Cq=e=>Array.isArray(e)&&typeof e[0]!="number",mA=e=>Array.isArray(e)&&typeof e[0]=="number",rC={linear:Pr,easeIn:xq,easeInOut:hA,easeOut:bq,circIn:Rw,circInOut:fA,circOut:dA,backIn:Mw,backInOut:cA,backOut:lA,anticipate:uA},Sq=e=>typeof e=="string",sC=e=>{if(mA(e)){ch(e.length===4);const[t,n,r,s]=e;return ed(t,n,r,s)}else if(Sq(e))return ch(rC[e]!==void 0),rC[e];return e},zd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],iC={value:null,addProjectionMetrics:null};function jq(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){a.has(f)&&(u.schedule(f),e()),c++,f(l)}const u={schedule:(f,h=!1,m=!1)=>{const g=m&&s?n:r;return h&&a.add(f),g.has(f)||g.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),t&&iC.value&&iC.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,u.process(f))}};return u}const _q=40;function pA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=zd.reduce((C,_)=>(C[_]=jq(i,t?_:void 0),C),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:h,render:m,postRender:v}=a,g=()=>{const C=Qs.useManualTiming?s.timestamp:performance.now();n=!1,Qs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,_q),1)),s.timestamp=C,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),f.process(s),h.process(s),m.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},y=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:zd.reduce((C,_)=>{const w=a[_];return C[_]=(D,k=!1,S=!1)=>(n||y(),w.schedule(D,k,S)),C},{}),cancel:C=>{for(let _=0;_<zd.length;_++)a[zd[_]].cancel(C)},state:s,steps:a}}const{schedule:Tt,cancel:Qi,state:mn,steps:Vp}=pA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0);let vf;function kq(){vf=void 0}const Qn={now:()=>(vf===void 0&&Qn.set(mn.isProcessing||Qs.useManualTiming?mn.timestamp:performance.now()),vf),set:e=>{vf=e,queueMicrotask(kq)}},gA=e=>t=>typeof t=="string"&&t.startsWith(e),Iw=gA("--"),Pq=gA("var(--"),Ow=e=>Pq(e)?Dq.test(e.split("/*")[0].trim()):!1,Dq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Su={...Yl,transform:e=>Gs(0,1,e)},Wd={...Yl,default:1},Uc=e=>Math.round(e*1e5)/1e5,Fw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Eq(e){return e==null}const Nq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lw=(e,t)=>n=>!!(typeof n=="string"&&Nq.test(n)&&n.startsWith(e)||t&&!Eq(n)&&Object.prototype.hasOwnProperty.call(n,t)),vA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(Fw);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Tq=e=>Gs(0,255,e),zp={...Yl,transform:e=>Math.round(Tq(e))},ka={test:Lw("rgb","red"),parse:vA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zp.transform(e)+", "+zp.transform(t)+", "+zp.transform(n)+", "+Uc(Su.transform(r))+")"};function Aq(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Wv={test:Lw("#"),parse:Aq,transform:ka.transform},td=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ui=td("deg"),bs=td("%"),Re=td("px"),Mq=td("vh"),Rq=td("vw"),aC={...bs,parse:e=>bs.parse(e)/100,transform:e=>bs.transform(e*100)},Ao={test:Lw("hsl","hue"),parse:vA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+bs.transform(Uc(t))+", "+bs.transform(Uc(n))+", "+Uc(Su.transform(r))+")"},kn={test:e=>ka.test(e)||Wv.test(e)||Ao.test(e),parse:e=>ka.test(e)?ka.parse(e):Ao.test(e)?Ao.parse(e):Wv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ka.transform(e):Ao.transform(e)},Iq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Oq(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Fw))==null?void 0:t.length)||0)+(((n=e.match(Iq))==null?void 0:n.length)||0)>0}const yA="number",wA="color",Fq="var",Lq="var(",oC="${}",$q=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace($q,c=>(kn.test(c)?(r.color.push(i),s.push(wA),n.push(kn.parse(c))):c.startsWith(Lq)?(r.var.push(i),s.push(Fq),n.push(c)):(r.number.push(i),s.push(yA),n.push(parseFloat(c))),++i,oC)).split(oC);return{values:n,split:l,indexes:r,types:s}}function xA(e){return ju(e).values}function bA(e){const{split:t,types:n}=ju(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const l=n[a];l===yA?i+=Uc(s[a]):l===wA?i+=kn.transform(s[a]):i+=s[a]}return i}}const Uq=e=>typeof e=="number"?0:e;function Bq(e){const t=xA(e);return bA(e)(t.map(Uq))}const Xi={test:Oq,parse:xA,createTransformer:bA,getAnimatableNone:Bq};function Wp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Vq({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Wp(c,l,e+1/3),i=Wp(c,l,e),a=Wp(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function uh(e,t){return n=>n>0?t:e}const Et=(e,t,n)=>e+(t-e)*n,Hp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},zq=[Wv,ka,Ao],Wq=e=>zq.find(t=>t.test(e));function lC(e){const t=Wq(e);if(!t)return!1;let n=t.parse(e);return t===Ao&&(n=Vq(n)),n}const cC=(e,t)=>{const n=lC(e),r=lC(t);if(!n||!r)return uh(e,t);const s={...n};return i=>(s.red=Hp(n.red,r.red,i),s.green=Hp(n.green,r.green,i),s.blue=Hp(n.blue,r.blue,i),s.alpha=Et(n.alpha,r.alpha,i),ka.transform(s))},Hv=new Set(["none","hidden"]);function Hq(e,t){return Hv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function qq(e,t){return n=>Et(e,t,n)}function $w(e){return typeof e=="number"?qq:typeof e=="string"?Ow(e)?uh:kn.test(e)?cC:Gq:Array.isArray(e)?CA:typeof e=="object"?kn.test(e)?cC:Kq:uh}function CA(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>$w(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Kq(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=$w(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Yq(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],l=e.values[a]??0;n[s]=l,r[i]++}return n}const Gq=(e,t)=>{const n=Xi.createTransformer(t),r=ju(e),s=ju(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hv.has(e)&&!s.values.length||Hv.has(t)&&!r.values.length?Hq(e,t):Zu(CA(Yq(r,s),s.values),n):uh(e,t)};function SA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):$w(e)(e,t)}const Qq=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Tt.update(t,n),stop:()=>Qi(t),now:()=>mn.isProcessing?mn.timestamp:Qn.now()}},jA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},dh=2e4;function Uw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<dh;)t+=n,r=e.next(t);return t>=dh?1/0:t}function Xq(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Uw(r),dh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:xs(s)}}const Jq=5;function _A(e,t,n){const r=Math.max(t-Jq,0);return sA(n-e(r),t-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qp=.001;function Zq({duration:e=Rt.duration,bounce:t=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,a=1-t;a=Gs(Rt.minDamping,Rt.maxDamping,a),e=Gs(Rt.minDuration,Rt.maxDuration,xs(e)),a<1?(s=d=>{const u=d*a,f=u*e,h=u-n,m=qv(d,a),v=Math.exp(-f);return qp-h/m*v},i=d=>{const f=d*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(d,2)*e,v=Math.exp(-f),g=qv(Math.pow(d,2),a);return(-s(d)+qp>0?-1:1)*((h-m)*v)/g}):(s=d=>{const u=Math.exp(-d*e),f=(d-n)*e+1;return-qp+u*f},i=d=>{const u=Math.exp(-d*e),f=(n-d)*(e*e);return u*f});const l=5/e,c=tK(s,i,l);if(e=ws(e),isNaN(c))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:e}}}const eK=12;function tK(e,t,n){let r=n;for(let s=1;s<eK;s++)r=r-e(r)/t(r);return r}function qv(e,t){return e*Math.sqrt(1-t*t)}const nK=["duration","bounce"],rK=["stiffness","damping","mass"];function uC(e,t){return t.some(n=>e[n]!==void 0)}function sK(e){let t={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...e};if(!uC(e,rK)&&uC(e,nK))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Rt.mass,stiffness:s,damping:i}}else{const n=Zq(e);t={...t,...n,mass:Rt.mass},t.isResolvedFromDuration=!0}return t}function fh(e=Rt.visualDuration,t=Rt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=sK({...n,velocity:-xs(n.velocity||0)}),v=h||0,g=d/(2*Math.sqrt(c*u)),y=a-i,x=xs(Math.sqrt(c/u)),b=Math.abs(y)<5;r||(r=b?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=b?Rt.restDelta.granular:Rt.restDelta.default);let C;if(g<1){const w=qv(x,g);C=D=>{const k=Math.exp(-g*x*D);return a-k*((v+g*x*y)/w*Math.sin(w*D)+y*Math.cos(w*D))}}else if(g===1)C=w=>a-Math.exp(-x*w)*(y+(v+x*y)*w);else{const w=x*Math.sqrt(g*g-1);C=D=>{const k=Math.exp(-g*x*D),S=Math.min(w*D,300);return a-k*((v+g*x*y)*Math.sinh(S)+w*y*Math.cosh(S))/w}}const _={calculatedDuration:m&&f||null,next:w=>{const D=C(w);if(m)l.done=w>=f;else{let k=w===0?v:0;g<1&&(k=w===0?ws(v):_A(C,w,D));const S=Math.abs(k)<=r,N=Math.abs(a-D)<=s;l.done=S&&N}return l.value=l.done?a:D,l},toString:()=>{const w=Math.min(Uw(_),dh),D=jA(k=>_.next(w*k).value,w,30);return w+"ms "+D},toTransition:()=>{}};return _}fh.applyToOptions=e=>{const t=Xq(e,100,fh);return e.ease=t.ease,e.duration=ws(t.duration),e.type="keyframes",e};function Kv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,v=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let g=n*t;const y=f+g,x=a===void 0?y:a(y);x!==y&&(g=x-f);const b=S=>-g*Math.exp(-S/r),C=S=>x+b(S),_=S=>{const N=b(S),O=C(S);h.done=Math.abs(N)<=d,h.value=h.done?x:O};let w,D;const k=S=>{m(h.value)&&(w=S,D=fh({keyframes:[h.value,v(h.value)],velocity:_A(C,S,h.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:S=>{let N=!1;return!D&&w===void 0&&(N=!0,_(S),k(S)),w!==void 0&&S>=w?D.next(S-w):(!N&&_(S),h)}}}function iK(e,t,n){const r=[],s=n||Qs.mix||SA,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Pr:t;l=Zu(c,l)}r.push(l)}return r}function aK(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(ch(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=iK(t,r,s),c=l.length,d=u=>{if(a&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Cu(e[f],e[f+1],u);return l[f](h)};return n?u=>d(Gs(e[0],e[i-1],u)):d}function oK(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Cu(0,t,r);e.push(Et(n,1,s))}}function lK(e){const t=[0];return oK(t,e.length-1),t}function cK(e,t){return e.map(n=>n*t)}function uK(e,t){return e.map(()=>t||hA).splice(0,e.length-1)}function Bc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Cq(r)?r.map(sC):sC(r),i={done:!1,value:t[0]},a=cK(n&&n.length===t.length?n:lK(t),e),l=aK(a,t,{ease:Array.isArray(s)?s:uK(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const dK=e=>e!==null;function Bw(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(dK),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const fK={decay:Kv,inertia:Kv,tween:Bc,keyframes:Bc,spring:fh};function kA(e){typeof e.type=="string"&&(e.type=fK[e.type])}class Vw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hK=e=>e/100;class zw extends Vw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Qn.now()&&this.tick(Qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kA(t);const{type:n=Bc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=n||Bc;c!==Bc&&typeof l[0]!="number"&&(this.mixKeyframes=Zu(hK,SA(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Uw(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:m,type:v,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,_=r;if(f){const S=Math.min(this.currentTime,s)/l;let N=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(h==="reverse"?(O=1-O,m&&(O-=m/l)):h==="mirror"&&(_=a)),C=Gs(0,1,O)*l}const w=b?{done:!1,value:u[0]}:_.next(C);i&&(w.value=i(w.value));let{done:D}=w;!b&&c!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return k&&v!==Kv&&(w.value=Bw(u,this.options,y,this.speed)),g&&g(w.value),k&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return xs(this.calculatedDuration)}get time(){return xs(this.currentTime)}set time(t){var n;t=ws(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Qn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xs(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Qq,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function mK(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pa=e=>e*180/Math.PI,Yv=e=>{const t=Pa(Math.atan2(e[1],e[0]));return Gv(t)},pK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yv,rotateZ:Yv,skewX:e=>Pa(Math.atan(e[1])),skewY:e=>Pa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gv=e=>(e=e%360,e<0&&(e+=360),e),dC=Yv,fC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fC,scaleY:hC,scale:e=>(fC(e)+hC(e))/2,rotateX:e=>Gv(Pa(Math.atan2(e[6],e[5]))),rotateY:e=>Gv(Pa(Math.atan2(-e[2],e[0]))),rotateZ:dC,rotate:dC,skewX:e=>Pa(Math.atan(e[4])),skewY:e=>Pa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qv(e){return e.includes("scale")?1:0}function Xv(e,t){if(!e||e==="none")return Qv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=gK,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pK,s=l}if(!s)return Qv(t);const i=r[t],a=s[1].split(",").map(yK);return typeof i=="function"?i(a):a[i]}const vK=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Xv(n,t)};function yK(e){return parseFloat(e.trim())}const Gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ql=new Set(Gl),mC=e=>e===Yl||e===Re,wK=new Set(["x","y","z"]),xK=Gl.filter(e=>!wK.has(e));function bK(e){const t=[];return xK.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ba={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xv(t,"x"),y:(e,{transform:t})=>Xv(t,"y")};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const Va=new Set;let Jv=!1,Zv=!1,ey=!1;function PA(){if(Zv){const e=Array.from(Va).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=bK(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zv=!1,Jv=!1,Va.forEach(e=>e.complete(ey)),Va.clear()}function DA(){Va.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zv=!0)})}function CK(){ey=!0,DA(),PA(),ey=!1}class Ww{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Va.add(this),Jv||(Jv=!0,Tt.read(DA),Tt.resolveKeyframes(PA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}mK(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Va.delete(this)}cancel(){this.state==="scheduled"&&(Va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SK=e=>e.startsWith("--");function jK(e,t,n){SK(t)?e.style.setProperty(t,n):e.style[t]=n}const _K=Tw(()=>window.ScrollTimeline!==void 0),kK={};function PK(e,t){const n=Tw(e);return()=>kK[t]??n()}const EA=PK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,pC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sc([0,.65,.55,1]),circOut:Sc([.55,0,1,.45]),backIn:Sc([.31,.01,.66,-.59]),backOut:Sc([.33,1.53,.69,.99])};function NA(e,t){if(e)return typeof e=="function"?EA()?jA(e,t):"ease-out":mA(e)?Sc(e):Array.isArray(e)?e.map(n=>NA(n,t)||pC.easeOut):pC[e]}function DK(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const f=NA(l,s);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function TA(e){return typeof e=="function"&&"applyToOptions"in e}function EK({type:e,...t}){return TA(e)&&EA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NK extends Vw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,ch(typeof t.type!="string");const d=EK(t);this.animation=DK(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Bw(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):jK(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xs(Number(t))}get time(){return xs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ws(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&_K()?(this.animation.timeline=t,Pr):n(this)}}const AA={anticipate:uA,backInOut:cA,circInOut:fA};function TK(e){return e in AA}function AK(e){typeof e.ease=="string"&&TK(e.ease)&&(e.ease=AA[e.ease])}const gC=10;class MK extends NK{constructor(t){AK(t),kA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new zw({...a,autoplay:!1}),c=ws(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-gC).value,l.sample(c).value,gC),l.stop()}}const vC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xi.test(e)||e==="0")&&!e.startsWith("url("));function RK(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function IK(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=vC(s,t),l=vC(i,t);return!a||!l?!1:RK(e)||(n==="spring"||TA(n))&&r}function Hw(e){return nA(e)&&"offsetHeight"in e}const OK=new Set(["opacity","clipPath","filter","transform"]),FK=Tw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LK(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!Hw((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return FK()&&n&&OK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const $K=40;class UK extends Vw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var v;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Qn.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:d,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||Ww;this.keyframeResolver=new m(l,(g,y,x)=>this.onKeyframesResolved(g,y,h,!x),c,d,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Qn.now(),IK(t,i,a,l)||((Qs.instantAnimations||!c)&&(u==null||u(Bw(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$K?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!d&&LK(h)?new MK({...h,element:h.motionValue.owner.current}):new zw(h);m.finished.then(()=>this.notifyFinished()).catch(Pr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),CK()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const BK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VK(e){const t=BK.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function MA(e,t,n=1){const[r,s]=VK(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return tA(a)?parseFloat(a):a}return Ow(s)?MA(s,t,n+1):s}function qw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const RA=new Set(["width","height","top","left","right","bottom",...Gl]),zK={test:e=>e==="auto",parse:e=>e},IA=e=>t=>t.test(e),OA=[Yl,Re,bs,ui,Rq,Mq,zK],yC=e=>OA.find(IA(e));function WK(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rA(e):!0}const HK=new Set(["brightness","contrast","saturate","opacity"]);function qK(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Fw)||[];if(!r)return e;const s=n.replace(r,"");let i=HK.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const KK=/\b([a-z-]*)\(.*?\)/gu,ty={...Xi,getAnimatableNone:e=>{const t=e.match(KK);return t?t.map(qK).join(" "):e}},wC={...Yl,transform:Math.round},YK={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:Wd,scaleX:Wd,scaleY:Wd,scaleZ:Wd,skew:ui,skewX:ui,skewY:ui,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Su,originX:aC,originY:aC,originZ:Re},Kw={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...YK,zIndex:wC,fillOpacity:Su,strokeOpacity:Su,numOctaves:wC},GK={...Kw,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:ty,WebkitFilter:ty},FA=e=>GK[e];function LA(e,t){let n=FA(e);return n!==ty&&(n=Xi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const QK=new Set(["auto","none","0"]);function XK(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!QK.has(i)&&ju(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=LA(n,s)}class JK extends Ww{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Ow(d))){const u=MA(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!RA.has(r)||t.length!==2)return;const[s,i]=t,a=yC(s),l=yC(i);if(a!==l)if(mC(a)&&mC(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Ba[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||WK(t[s]))&&r.push(s);r.length&&XK(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Ba[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function ZK(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const $A=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xC=30,eY=e=>!isNaN(parseFloat(e));class tY{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,l;const i=Qn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Aw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xC);return sA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dl(e,t){return new tY(e,t)}const{schedule:Yw,cancel:uJ}=pA(queueMicrotask,!1),Fr={x:!1,y:!1};function UA(){return Fr.x||Fr.y}function nY(e){return e==="x"||e==="y"?Fr[e]?null:(Fr[e]=!0,()=>{Fr[e]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1})}function BA(e,t){const n=ZK(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function bC(e){return!(e.pointerType==="touch"||UA())}function rY(e,t,n={}){const[r,s,i]=BA(e,n),a=l=>{if(!bC(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=f=>{bC(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const VA=(e,t)=>t?e===t?!0:VA(e,t.parentElement):!1,Gw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iY(e){return sY.has(e.tagName)||e.tabIndex!==-1}const yf=new WeakSet;function CC(e){return t=>{t.key==="Enter"&&e(t)}}function Kp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aY=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=CC(()=>{if(yf.has(n))return;Kp(n,"down");const s=CC(()=>{Kp(n,"up")}),i=()=>Kp(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function SC(e){return Gw(e)&&!UA()}function oY(e,t,n={}){const[r,s,i]=BA(e,n),a=l=>{const c=l.currentTarget;if(!SC(l))return;yf.add(c);const d=t(c,l),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),yf.has(c)&&yf.delete(c),SC(m)&&typeof d=="function"&&d(m,{success:v})},f=m=>{u(m,c===window||c===document||n.useGlobalTarget||VA(c,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),Hw(l)&&(l.addEventListener("focus",d=>aY(d,s)),!iY(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function zA(e){return nA(e)&&"ownerSVGElement"in e}function lY(e){return zA(e)&&e.tagName==="svg"}const Dn=e=>!!(e&&e.getVelocity),cY=[...OA,kn,Xi],uY=e=>cY.find(IA(e)),Qw=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class dY extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Hw(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fY({children:e,isPresent:t,anchorX:n}){const r=p.useId(),s=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=p.useContext(Qw);return p.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:f}=i.current;if(t||!s.current||!l||!c)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;s.current.dataset.motionPopId=r;const m=document.createElement("style");return a&&(m.nonce=a),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),o.jsx(dY,{isPresent:t,childRef:s,sizeRef:i,children:p.cloneElement(e,{ref:s})})}const hY=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l})=>{const c=Pw(mY),d=p.useId();let u=!0,f=p.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:h=>{c.set(h,!0);for(const m of c.values())if(!m)return;r&&r()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[n,c,r]);return i&&u&&(f={...f}),p.useMemo(()=>{c.forEach((h,m)=>c.set(m,!1))},[n]),p.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(e=o.jsx(fY,{isPresent:n,anchorX:l,children:e})),o.jsx(Pm.Provider,{value:f,children:e})};function mY(){return new Map}function WA(e=!0){const t=p.useContext(Pm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{if(e)return s(i)},[e]);const a=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const Hd=e=>e.key||"";function jC(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const pY=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,d]=WA(a),u=p.useMemo(()=>jC(e),[e]),f=a&&!c?[]:u.map(Hd),h=p.useRef(!0),m=p.useRef(u),v=Pw(()=>new Map),[g,y]=p.useState(u),[x,b]=p.useState(u);eA(()=>{h.current=!1,m.current=u;for(let w=0;w<x.length;w++){const D=Hd(x[w]);f.includes(D)?v.delete(D):v.get(D)!==!0&&v.set(D,!1)}},[x,f.length,f.join("-")]);const C=[];if(u!==g){let w=[...u];for(let D=0;D<x.length;D++){const k=x[D],S=Hd(k);f.includes(S)||(w.splice(D,0,k),C.push(k))}return i==="wait"&&C.length&&(w=C),b(jC(w)),y(u),null}const{forceRender:_}=p.useContext(kw);return o.jsx(o.Fragment,{children:x.map(w=>{const D=Hd(w),k=a&&!c?!1:u===x||f.includes(D),S=()=>{if(v.has(D))v.set(D,!0);else return;let N=!0;v.forEach(O=>{O||(N=!1)}),N&&(_==null||_(),b(m.current),a&&(d==null||d()),r&&r())};return o.jsx(hY,{isPresent:k,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:S,anchorX:l,children:w},D)})})},HA=p.createContext({strict:!1}),_C={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const e in _C)El[e]={isEnabled:t=>_C[e].some(n=>!!t[n])};function gY(e){for(const t in e)El[t]={...El[t],...e[t]}}const vY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vY.has(e)}let qA=e=>!hh(e);function yY(e){e&&(qA=t=>t.startsWith("on")?!hh(t):e(t))}try{yY(require("@emotion/is-prop-valid").default)}catch{}function wY(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(qA(s)||n===!0&&hh(s)||!t&&!hh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function xY(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Dm=p.createContext({});function Em(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _u(e){return typeof e=="string"||Array.isArray(e)}const Xw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jw=["initial",...Xw];function Nm(e){return Em(e.animate)||Jw.some(t=>_u(e[t]))}function KA(e){return!!(Nm(e)||e.variants)}function bY(e,t){if(Nm(e)){const{initial:n,animate:r}=e;return{initial:n===!1||_u(n)?n:void 0,animate:_u(r)?r:void 0}}return e.inherit!==!1?t:{}}function CY(e){const{initial:t,animate:n}=bY(e,p.useContext(Dm));return p.useMemo(()=>({initial:t,animate:n}),[kC(t),kC(n)])}function kC(e){return Array.isArray(e)?e.join(" "):e}const SY=Symbol.for("motionComponentSymbol");function Mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jY(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mo(n)&&(n.current=r))},[t])}const Zw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_Y="framerAppearId",YA="data-"+Zw(_Y),GA=p.createContext({});function kY(e,t,n,r,s){var g,y;const{visualElement:i}=p.useContext(Dm),a=p.useContext(HA),l=p.useContext(Pm),c=p.useContext(Qw).reducedMotion,d=p.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=p.useContext(GA);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&PY(d.current,n,s,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{u&&h.current&&u.update(n,l)});const m=n[YA],v=p.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return eA(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Yw.render(u.render),v.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,m)}),v.current=!1))}),u}function PY(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:QA(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Mo(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function QA(e){if(e)return e.options.allowProjection!==!1?e.projection:QA(e.parent)}function DY({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&gY(e);function i(l,c){let d;const u={...p.useContext(Qw),...l,layoutId:EY(l)},{isStatic:f}=u,h=CY(l),m=r(l,f);if(!f&&Dw){NY();const v=TY(u);d=v.MeasureLayout,h.visualElement=kY(s,m,u,t,v.ProjectionNode)}return o.jsxs(Dm.Provider,{value:h,children:[d&&h.visualElement?o.jsx(d,{visualElement:h.visualElement,...u}):null,n(s,l,jY(m,h.visualElement,c),m,f,h.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=p.forwardRef(i);return a[SY]=s,a}function EY({layoutId:e}){const t=p.useContext(kw).id;return t&&e!==void 0?t+"-"+e:e}function NY(e,t){p.useContext(HA).strict}function TY(e){const{drag:t,layout:n}=El;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ku={};function AY(e){for(const t in e)ku[t]=e[t],Iw(t)&&(ku[t].isCSSVariable=!0)}function XA(e,{layout:t,layoutId:n}){return Ql.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ku[e]||e==="opacity")}const MY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RY=Gl.length;function IY(e,t,n){let r="",s=!0;for(let i=0;i<RY;i++){const a=Gl[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=$A(l,Kw[a]);if(!c){s=!1;const u=MY[a]||a;r+=`${u}(${d}) `}n&&(t[a]=d)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ex(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const d=t[c];if(Ql.has(c)){a=!0;continue}else if(Iw(c)){s[c]=d;continue}else{const u=$A(d,Kw[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(t.transform||(a||n?r.transform=IY(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const tx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JA(e,t,n){for(const r in t)!Dn(t[r])&&!XA(r,n)&&(e[r]=t[r])}function OY({transformTemplate:e},t){return p.useMemo(()=>{const n=tx();return ex(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FY(e,t){const n=e.style||{},r={};return JA(r,n,e),Object.assign(r,OY(e,t)),r}function LY(e,t){const n={},r=FY(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const $Y={offset:"stroke-dashoffset",array:"stroke-dasharray"},UY={offset:"strokeDashoffset",array:"strokeDasharray"};function BY(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?$Y:UY;e[i.offset]=Re.transform(-r);const a=Re.transform(t),l=Re.transform(n);e[i.array]=`${a} ${l}`}function ZA(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,d,u){if(ex(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&BY(f,s,i,a,!1)}const eM=()=>({...tx(),attrs:{}}),tM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VY(e,t,n,r){const s=p.useMemo(()=>{const i=eM();return ZA(i,t,tM(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};JA(i,e.style,e),s.style={...i,...s.style}}return s}const zY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nx(e){return typeof e!="string"||e.includes("-")?!1:!!(zY.indexOf(e)>-1||/[A-Z]/u.test(e))}function WY(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(nx(n)?VY:LY)(r,i,a,n),d=wY(r,typeof n=="string",e),u=n!==p.Fragment?{...d,...c,ref:s}:{},{children:f}=r,h=p.useMemo(()=>Dn(f)?f.get():f,[f]);return p.createElement(n,{...u,children:h})}}function PC(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function rx(e,t,n,r){if(typeof t=="function"){const[s,i]=PC(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=PC(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function wf(e){return Dn(e)?e.get():e}function HY({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:qY(n,r,s,e),renderState:t()}}const nM=e=>(t,n)=>{const r=p.useContext(Dm),s=p.useContext(Pm),i=()=>HY(e,t,r,s);return n?i():Pw(i)};function qY(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=wf(i[h]);let{initial:a,animate:l}=e;const c=Nm(e),d=KA(e);t&&d&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const f=u?l:a;if(f&&typeof f!="boolean"&&!Em(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=rx(e,h[m]);if(v){const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let C=x[b];if(Array.isArray(C)){const _=u?C.length-1:0;C=C[_]}C!==null&&(s[b]=C)}for(const b in g)s[b]=g[b]}}}return s}function sx(e,t,n){var i;const{style:r}=e,s={};for(const a in r)(Dn(r[a])||t.style&&Dn(t.style[a])||XA(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const KY={useVisualState:nM({scrapeMotionValuesFromProps:sx,createRenderState:tx})};function rM(e,t,n){const r=sx(e,t,n);for(const s in e)if(Dn(e[s])||Dn(t[s])){const i=Gl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const YY={useVisualState:nM({scrapeMotionValuesFromProps:rM,createRenderState:eM})};function GY(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...nx(r)?YY:KY,preloadedFeatures:e,useRender:WY(s),createVisualElement:t,Component:r};return DY(a)}}function Pu(e,t,n){const r=e.getProps();return rx(r,t,n!==void 0?n:r.custom,e)}const ny=e=>Array.isArray(e);function QY(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Dl(n))}function XY(e){return ny(e)?e[e.length-1]||0:e}function JY(e,t){const n=Pu(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=XY(i[a]);QY(e,a,l)}}function ZY(e){return!!(Dn(e)&&e.add)}function ry(e,t){const n=e.getValue("willChange");if(ZY(n))return n.add(t);if(!n&&Qs.WillChange){const r=new Qs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function sM(e){return e.props[YA]}const eG=e=>e!==null;function tG(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(eG),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const nG={type:"spring",stiffness:500,damping:25,restSpeed:10},rG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sG={type:"keyframes",duration:.8},iG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aG=(e,{keyframes:t})=>t.length>2?sG:Ql.has(e)?e.startsWith("scale")?rG(t[1]):nG:iG;function oG({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const ix=(e,t,n,r={},s,i)=>a=>{const l=qw(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ws(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};oG(l)||Object.assign(u,aG(e,u)),u.duration&&(u.duration=ws(u.duration)),u.repeatDelay&&(u.repeatDelay=ws(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=tG(u.keyframes,l);if(h!==void 0){Tt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new zw(u):new UK(u)};function lG({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function iM(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),h=l[u];if(h===void 0||d&&lG(d,u))continue;const m={delay:n,...qw(i||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const x=sM(e);if(x){const b=window.MotionHandoffAnimation(x,u,Tt);b!==null&&(m.startTime=b,g=!0)}}ry(e,u),f.start(ix(u,f,h,e.shouldReduceMotion&&RA.has(u)?{type:!1}:m,e,g));const y=f.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{Tt.update(()=>{a&&JY(e,a)})}),c}function sy(e,t,n={}){var c;const r=Pu(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(iM(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return cG(e,t,u+d,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,u]=l==="beforeChildren"?[i,a]:[a,i];return d().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function cG(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(uG).forEach((d,u)=>{d.notify("AnimationStart",t),a.push(sy(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function uG(e,t){return e.sortNodePosition(t)}function dG(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>sy(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=sy(e,t,n);else{const s=typeof t=="function"?Pu(e,t,n.custom):t;r=Promise.all(iM(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function aM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const fG=Jw.length;function oM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?oM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fG;n++){const r=Jw[n],s=e.props[r];(_u(s)||s===!1)&&(t[r]=s)}return t}const hG=[...Xw].reverse(),mG=Xw.length;function pG(e){return t=>Promise.all(t.map(({animation:n,options:r})=>dG(e,n,r)))}function gG(e){let t=pG(e),n=DC(),r=!0;const s=c=>(d,u)=>{var h;const f=Pu(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,...g}=f;d={...d,...g,...v}}return d};function i(c){t=c(e)}function a(c){const{props:d}=e,u=oM(e.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let y=0;y<mG;y++){const x=hG[y],b=n[x],C=d[x]!==void 0?d[x]:u[x],_=_u(C),w=x===c?b.isActive:null;w===!1&&(v=y);let D=C===u[x]&&C!==d[x]&&_;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),b.protectedKeys={...m},!b.isActive&&w===null||!C&&!b.prevProp||Em(C)||typeof C=="boolean")continue;const k=vG(b.prevProp,C);let S=k||x===c&&b.isActive&&!D&&_||y>v&&_,N=!1;const O=Array.isArray(C)?C:[C];let I=O.reduce(s(x),{});w===!1&&(I={});const{prevResolvedValues:$={}}=b,F={...$,...I},E=P=>{S=!0,h.has(P)&&(N=!0,h.delete(P)),b.needsAnimating[P]=!0;const R=e.getValue(P);R&&(R.liveStyle=!1)};for(const P in F){const R=I[P],T=$[P];if(m.hasOwnProperty(P))continue;let j=!1;ny(R)&&ny(T)?j=!aM(R,T):j=R!==T,j?R!=null?E(P):h.add(P):R!==void 0&&h.has(P)?E(P):b.protectedKeys[P]=!0}b.prevProp=C,b.prevResolvedValues=I,b.isActive&&(m={...m,...I}),r&&e.blockInitialAnimation&&(S=!1),S&&(!(D&&k)||N)&&f.push(...O.map(P=>({animation:P,options:{type:x}})))}if(h.size){const y={};if(typeof d.initial!="boolean"){const x=Pu(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),C=e.getValue(x);C&&(C.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let g=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,d)}),n[c].isActive=d;const u=a(c);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=DC(),r=!0}}}function vG(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aM(t,e):!1}function da(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DC(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class oa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yG extends oa{constructor(t){super(t),t.animationState||(t.animationState=gG(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Em(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let wG=0;class xG extends oa{constructor(){super(...arguments),this.id=wG++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const bG={animation:{Feature:yG},exit:{Feature:xG}};function Du(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function nd(e){return{point:{x:e.pageX,y:e.pageY}}}const CG=e=>t=>Gw(t)&&e(t,nd(t));function Vc(e,t,n,r){return Du(e,t,CG(n),r)}function lM({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function SG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function jG(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const cM=1e-4,_G=1-cM,kG=1+cM,uM=.01,PG=0-uM,DG=0+uM;function In(e){return e.max-e.min}function EG(e,t,n){return Math.abs(e-t)<=n}function EC(e,t,n,r=.5){e.origin=r,e.originPoint=Et(t.min,t.max,e.origin),e.scale=In(n)/In(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_G&&e.scale<=kG||isNaN(e.scale))&&(e.scale=1),(e.translate>=PG&&e.translate<=DG||isNaN(e.translate))&&(e.translate=0)}function zc(e,t,n,r){EC(e.x,t.x,n.x,r?r.originX:void 0),EC(e.y,t.y,n.y,r?r.originY:void 0)}function NC(e,t,n){e.min=n.min+t.min,e.max=e.min+In(t)}function NG(e,t,n){NC(e.x,t.x,n.x),NC(e.y,t.y,n.y)}function TC(e,t,n){e.min=t.min-n.min,e.max=e.min+In(t)}function Wc(e,t,n){TC(e.x,t.x,n.x),TC(e.y,t.y,n.y)}const AC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:AC(),y:AC()}),MC=()=>({min:0,max:0}),Lt=()=>({x:MC(),y:MC()});function yr(e){return[e("x"),e("y")]}function Yp(e){return e===void 0||e===1}function iy({scale:e,scaleX:t,scaleY:n}){return!Yp(e)||!Yp(t)||!Yp(n)}function va(e){return iy(e)||dM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function dM(e){return RC(e.x)||RC(e.y)}function RC(e){return e&&e!=="0%"}function mh(e,t,n){const r=e-n,s=t*r;return n+s}function IC(e,t,n,r,s){return s!==void 0&&(e=mh(e,s,r)),mh(e,n,r)+t}function ay(e,t=0,n=1,r,s){e.min=IC(e.min,t,n,r,s),e.max=IC(e.max,t,n,r,s)}function fM(e,{x:t,y:n}){ay(e.x,t.translate,t.scale,t.originPoint),ay(e.y,n.translate,n.scale,n.originPoint)}const OC=.999999999999,FC=1.0000000000001;function TG(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Oo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,fM(e,a)),r&&va(i.latestValues)&&Oo(e,i.latestValues))}t.x<FC&&t.x>OC&&(t.x=1),t.y<FC&&t.y>OC&&(t.y=1)}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function LC(e,t,n,r,s=.5){const i=Et(e.min,e.max,s);ay(e,t,n,i,r)}function Oo(e,t){LC(e.x,t.x,t.scaleX,t.scale,t.originX),LC(e.y,t.y,t.scaleY,t.scale,t.originY)}function hM(e,t){return lM(jG(e.getBoundingClientRect(),t))}function AG(e,t,n){const r=hM(e,n),{scroll:s}=t;return s&&(Io(r.x,s.offset.x),Io(r.y,s.offset.y)),r}const mM=({current:e})=>e?e.ownerDocument.defaultView:null,$C=(e,t)=>Math.abs(e-t);function MG(e,t){const n=$C(e.x,t.x),r=$C(e.y,t.y);return Math.sqrt(n**2+r**2)}class pM{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qp(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=MG(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=f,{timestamp:g}=mn;this.history.push({...v,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gp(h,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Qp(f.type==="pointercancel"?this.lastMoveEventInfo:Gp(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),v&&v(f,y)},!Gw(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=nd(t),l=Gp(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=mn;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,Qp(l,this.history)),this.removeListeners=Zu(Vc(this.contextWindow,"pointermove",this.handlePointerMove),Vc(this.contextWindow,"pointerup",this.handlePointerUp),Vc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qi(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function UC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qp({point:e},t){return{point:e,delta:UC(e,gM(t)),offset:UC(e,RG(t)),velocity:IG(t,.1)}}function RG(e){return e[0]}function gM(e){return e[e.length-1]}function IG(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=gM(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ws(t)));)n--;if(!r)return{x:0,y:0};const i=xs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function OG(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Et(n,e,r.max):Math.min(e,n)),e}function BC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function FG(e,{top:t,left:n,bottom:r,right:s}){return{x:BC(e.x,n,s),y:BC(e.y,t,r)}}function VC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function LG(e,t){return{x:VC(e.x,t.x),y:VC(e.y,t.y)}}function $G(e,t){let n=.5;const r=In(e),s=In(t);return s>r?n=Cu(t.min,t.max-r,e.min):r>s&&(n=Cu(e.min,e.max-s,t.min)),Gs(0,1,n)}function UG(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const oy=.35;function BG(e=oy){return e===!1?e=0:e===!0&&(e=oy),{x:zC(e,"left","right"),y:zC(e,"top","bottom")}}function zC(e,t,n){return{min:WC(e,t),max:WC(e,n)}}function WC(e,t){return typeof e=="number"?e:e[t]||0}const VG=new WeakMap;class zG{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nd(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nY(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yr(y=>{let x=this.getAxisMotionValue(y).get()||0;if(bs.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[y];C&&(x=In(C)*(parseFloat(x)/100))}}this.originPoint[y]=x}),v&&Tt.postRender(()=>v(u,f)),ry(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=WG(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(u,f)},l=(u,f)=>this.stop(u,f),c=()=>yr(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new pM(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:mM(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Tt.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!qd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=OG(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=FG(r.layoutBox,t):this.constraints=!1,this.elastic=BG(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=UG(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=AG(r,s.root,this.visualElement.getTransformPagePoint());let a=LG(s.layout.layoutBox,i);if(n){const l=n(SG(a));this.hasMutatedConstraints=!!l,l&&(a=lM(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=yr(u=>{if(!qd(u,n,this.currentDirection))return;let f=c&&c[u]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ry(this.visualElement,t),r.start(ix(t,r,0,n,this.visualElement,!1))}stopAnimation(){yr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yr(n=>{const{drag:r}=this.getProps();if(!qd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Et(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=$G({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yr(a=>{if(!qd(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Et(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;VG.set(this.visualElement,this);const t=this.visualElement.current,n=Vc(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Mo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tt.read(r);const a=Du(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(yr(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=oy,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function qd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WG(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class HG extends oa{constructor(t){super(t),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new zG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const HC=e=>(t,n)=>{e&&Tt.postRender(()=>e(t,n))};class qG extends oa{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(t){this.session=new pM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:HC(t),onStart:HC(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Tt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Vc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const mc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Re.test(e))e=parseFloat(e);else return e;const n=qC(e,t.target.x),r=qC(e,t.target.y);return`${n}% ${r}%`}},KG={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Xi.parse(e);if(s.length>5)return r;const i=Xi.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const d=Et(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class YG extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;AY(GG),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Tt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vM(e){const[t,n]=WA(),r=p.useContext(kw);return o.jsx(YG,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(GA),isPresent:t,safeToRemove:n})}const GG={borderRadius:{...mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mc,borderTopRightRadius:mc,borderBottomLeftRadius:mc,borderBottomRightRadius:mc,boxShadow:KG};function QG(e,t,n){const r=Dn(e)?e:Dl(e);return r.start(ix("",r,t,n)),r.animation}const XG=(e,t)=>e.depth-t.depth;class JG{constructor(){this.children=[],this.isDirty=!1}add(t){Ew(this.children,t),this.isDirty=!0}remove(t){Nw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XG),this.isDirty=!1,this.children.forEach(t)}}function ZG(e,t){const n=Qn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Qi(r),e(i-t))};return Tt.setup(r,!0),()=>Qi(r)}const yM=["TopLeft","TopRight","BottomLeft","BottomRight"],eQ=yM.length,KC=e=>typeof e=="string"?parseFloat(e):e,YC=e=>typeof e=="number"||Re.test(e);function tQ(e,t,n,r,s,i){s?(e.opacity=Et(0,n.opacity??1,nQ(r)),e.opacityExit=Et(t.opacity??1,0,rQ(r))):i&&(e.opacity=Et(t.opacity??1,n.opacity??1,r));for(let a=0;a<eQ;a++){const l=`border${yM[a]}Radius`;let c=GC(t,l),d=GC(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||YC(c)===YC(d)?(e[l]=Math.max(Et(KC(c),KC(d),r),0),(bs.test(d)||bs.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,r))}function GC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nQ=wM(0,.5,dA),rQ=wM(.5,.95,Pr);function wM(e,t,n){return r=>r<e?0:r>t?1:n(Cu(e,t,r))}function QC(e,t){e.min=t.min,e.max=t.max}function vr(e,t){QC(e.x,t.x),QC(e.y,t.y)}function XC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function JC(e,t,n,r,s){return e-=t,e=mh(e,1/n,r),s!==void 0&&(e=mh(e,1/s,r)),e}function sQ(e,t=0,n=1,r=.5,s,i=e,a=e){if(bs.test(t)&&(t=parseFloat(t),t=Et(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Et(i.min,i.max,r);e===i&&(l-=t),e.min=JC(e.min,t,n,l,s),e.max=JC(e.max,t,n,l,s)}function ZC(e,t,[n,r,s],i,a){sQ(e,t[n],t[r],t[s],t.scale,i,a)}const iQ=["x","scaleX","originX"],aQ=["y","scaleY","originY"];function eS(e,t,n,r){ZC(e.x,t,iQ,n?n.x:void 0,r?r.x:void 0),ZC(e.y,t,aQ,n?n.y:void 0,r?r.y:void 0)}function tS(e){return e.translate===0&&e.scale===1}function xM(e){return tS(e.x)&&tS(e.y)}function nS(e,t){return e.min===t.min&&e.max===t.max}function oQ(e,t){return nS(e.x,t.x)&&nS(e.y,t.y)}function rS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bM(e,t){return rS(e.x,t.x)&&rS(e.y,t.y)}function sS(e){return In(e.x)/In(e.y)}function iS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lQ{constructor(){this.members=[]}add(t){Ew(this.members,t),t.scheduleRender()}remove(t){if(Nw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cQ(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Xp=["","X","Y","Z"],uQ={visibility:"hidden"},dQ=1e3;let fQ=0;function Jp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CM(r)}function SM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=fQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pQ),this.nodes.forEach(xQ),this.nodes.forEach(bQ),this.nodes.forEach(gQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new JG)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Aw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=zA(a)&&!lY(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=ZG(f,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(oS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||kQ,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!bM(this.targetLayout,m),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...qw(v,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(u,b)}else f||oS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aS);return}this.isUpdating||this.nodes.forEach(yQ),this.isUpdating=!1,this.nodes.forEach(wQ),this.nodes.forEach(hQ),this.nodes.forEach(mQ),this.clearAllSnapshots();const l=Qn.now();mn.delta=Gs(0,1e3/60,l-mn.timestamp),mn.timestamp=l,mn.isProcessing=!0,Vp.update.process(mn),Vp.preRender.process(mn),Vp.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vQ),this.sharedNodes.forEach(SQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!xM(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||va(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),PQ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return Lt();const l=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(DQ))){const{scroll:u}=this.root;u&&(Io(l.x,u.offset.x),Io(l.y,u.offset.y))}return l}removeElementScroll(a){var c;const l=Lt();if(vr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&vr(l,a),Io(l.x,f.offset.x),Io(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Lt();vr(c,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Oo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),va(u.latestValues)&&Oo(c,u.latestValues)}return va(this.latestValues)&&Oo(c,this.latestValues),c}removeTransform(a){const l=Lt();vr(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!va(d.latestValues))continue;iy(d.latestValues)&&d.updateSnapshot();const u=Lt(),f=d.measurePageBox();vr(u,f),eS(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return va(this.latestValues)&&eS(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Wc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),fM(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Wc(this.relativeTargetOrigin,this.target,m.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iy(this.parent.latestValues)||dM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;vr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;TG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Lt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XC(this.prevProjectionDelta.x,this.projectionDelta.x),XC(this.prevProjectionDelta.y,this.projectionDelta.y)),zc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!iS(this.projectionDelta.x,this.prevProjectionDelta.x)||!iS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Lt(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(_Q));this.animationProgress=0;let C;this.mixTargetDelta=_=>{const w=_/1e3;lS(f.x,a.x,w),lS(f.y,a.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jQ(this.relativeTarget,this.relativeTargetOrigin,h,w),C&&oQ(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Lt()),vr(C,this.relativeTarget)),g&&(this.animationValues=u,tQ(u,d,this.latestValues,w,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dl(0)),this.currentAnimation=QG(this.motionValue,[0,1e3],{...a,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&jM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Lt();const f=In(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=In(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}vr(l,c),Oo(l,u),zc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new lQ),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Jp("z",a,d,this.animationValues);for(let u=0;u<Xp.length;u++)Jp(`rotate${Xp[u]}`,a,d,this.animationValues),Jp(`skew${Xp[u]}`,a,d,this.animationValues);a.render();for(const u in d)a.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return uQ;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=wf(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=wf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=cQ(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:f,y:h}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in ku){if(u[m]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:y}=ku[m],x=l.transform==="none"?u[m]:v(u[m],d);if(g){const b=g.length;for(let C=0;C<b;C++)l[g[C]]=x}else y?this.options.visualElement.renderState.vars[m]=x:l[m]=x}return this.options.layoutId&&(l.pointerEvents=d===this?wf(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(aS),this.root.sharedNodes.clear()}}}function hQ(e){e.updateLayout()}function mQ(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?yr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=In(h);h.min=r[f].min,h.max=h.min+m}):jM(i,t.layoutBox,r)&&yr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=In(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Ro();zc(l,r,t.layoutBox);const c=Ro();a?zc(c,e.applyTransform(s,!0),t.measuredBox):zc(c,r,t.layoutBox);const d=!xM(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=Lt();Wc(v,t.layoutBox,h.layoutBox);const g=Lt();Wc(g,r,m.layoutBox),bM(v,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function pQ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vQ(e){e.clearSnapshot()}function aS(e){e.clearMeasurements()}function yQ(e){e.isLayoutDirty=!1}function wQ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xQ(e){e.resolveTargetDelta()}function bQ(e){e.calcProjection()}function CQ(e){e.resetSkewAndRotation()}function SQ(e){e.removeLeadSnapshot()}function lS(e,t,n){e.translate=Et(t.translate,0,n),e.scale=Et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cS(e,t,n,r){e.min=Et(t.min,n.min,r),e.max=Et(t.max,n.max,r)}function jQ(e,t,n,r){cS(e.x,t.x,n.x,r),cS(e.y,t.y,n.y,r)}function _Q(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kQ={duration:.45,ease:[.4,0,.1,1]},uS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dS=uS("applewebkit/")&&!uS("chrome/")?Math.round:Pr;function fS(e){e.min=dS(e.min),e.max=dS(e.max)}function PQ(e){fS(e.x),fS(e.y)}function jM(e,t,n){return e==="position"||e==="preserve-aspect"&&!EG(sS(t),sS(n),.2)}function DQ(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const EQ=SM({attachResizeListener:(e,t)=>Du(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zp={current:void 0},_M=SM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zp.current){const e=new EQ({});e.mount(window),e.setOptions({layoutScroll:!0}),Zp.current=e}return Zp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NQ={pan:{Feature:qG},drag:{Feature:HG,ProjectionNode:_M,MeasureLayout:vM}};function hS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Tt.postRender(()=>i(t,nd(t)))}class TQ extends oa{mount(){const{current:t}=this.node;t&&(this.unmount=rY(t,(n,r)=>(hS(this.node,r,"Start"),s=>hS(this.node,s,"End"))))}unmount(){}}class AQ extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zu(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Tt.postRender(()=>i(t,nd(t)))}class MQ extends oa{mount(){const{current:t}=this.node;t&&(this.unmount=oY(t,(n,r)=>(mS(this.node,r,"Start"),(s,{success:i})=>mS(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ly=new WeakMap,eg=new WeakMap,RQ=e=>{const t=ly.get(e.target);t&&t(e)},IQ=e=>{e.forEach(RQ)};function OQ({root:e,...t}){const n=e||document;eg.has(n)||eg.set(n,{});const r=eg.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(IQ,{root:e,...t})),r[s]}function FQ(e,t,n){const r=OQ(t);return ly.set(e,n),r.observe(e),()=>{ly.delete(e),r.unobserve(e)}}const LQ={some:0,all:1};class $Q extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:LQ[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=d?u:f;h&&h(c)};return FQ(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(UQ(t,n))&&this.startObserver()}unmount(){}}function UQ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const BQ={inView:{Feature:$Q},tap:{Feature:MQ},focus:{Feature:AQ},hover:{Feature:TQ}},VQ={layout:{ProjectionNode:_M,MeasureLayout:vM}},cy={current:null},kM={current:!1};function zQ(){if(kM.current=!0,!!Dw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cy.current=e.matches;e.addListener(t),t()}else cy.current=!1}const WQ=new WeakMap;function HQ(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Dn(s))e.addValue(r,s);else if(Dn(i))e.addValue(r,Dl(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,Dl(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const pS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qQ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ww,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Qn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Tt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Nm(n),this.isVariantNode=KA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Dn(m)&&m.set(c[h],!1)}}mount(t){this.current=t,WQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kM.current||zQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ql.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in El){const n=El[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<pS.length;r++){const s=pS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=HQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Dl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(tA(r)||rA(r))?r=parseFloat(r):!uY(r)&&Xi.test(n)&&(r=LA(t,n)),this.setBaseTarget(t,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=rx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Dn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Aw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class PM extends qQ{constructor(){super(...arguments),this.KeyframeResolver=JK}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Dn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DM(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}function KQ(e){return window.getComputedStyle(e)}class YQ extends PM{constructor(){super(...arguments),this.type="html",this.renderInstance=DM}readValueFromInstance(t,n){var r;if(Ql.has(n))return(r=this.projection)!=null&&r.isProjecting?Qv(n):vK(t,n);{const s=KQ(t),i=(Iw(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hM(t,n)}build(t,n,r){ex(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return sx(t,n,r)}}const EM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GQ(e,t,n,r){DM(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(EM.has(s)?s:Zw(s),t.attrs[s])}class QQ extends PM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ql.has(n)){const r=FA(n);return r&&r.default||0}return n=EM.has(n)?n:Zw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rM(t,n,r)}build(t,n,r){ZA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){GQ(t,n,r,s)}mount(t){this.isSVGTag=tM(t.tagName),super.mount(t)}}const XQ=(e,t)=>nx(e)?new QQ(t):new YQ(t,{allowProjection:e!==p.Fragment}),JQ=GY({...bG,...BQ,...NQ,...VQ},XQ),gS=xY(JQ);function ZQ({isVisible:e,onComplete:t}){return p.useEffect(()=>{if(e){const r=Date.now()+1500,s=(a,l)=>Math.random()*(l-a)+a,i=setInterval(()=>{const a=r-Date.now();if(a<=0){clearInterval(i),t==null||t();return}const l=50*(a/1500);pq({startVelocity:30,spread:360,ticks:60,zIndex:999,particleCount:l,origin:{x:s(.1,.9),y:Math.random()-.2}})},250);return()=>clearInterval(i)}},[e,t]),o.jsx(pY,{mode:"wait",children:e&&o.jsx(gS.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2},className:"fixed inset-0 flex items-center justify-center pointer-events-none z-50",children:o.jsx(gS.div,{initial:{y:-100},animate:{y:0},exit:{y:100,opacity:0},transition:{duration:.2},className:"text-6xl font-bold text-challenge-purple bg-white/90 px-8 py-4 rounded-lg shadow-lg",children:"BINGO!"})})})}const eX=()=>"https://www.saikochallenges.com/auth/strava/callback",po={clientId:"182954",clientSecret:"8760b56521364b87ec144ec43ff5358aac3c5fed",get redirectUri(){return eX()}},wa=class wa{constructor(){Zl(this,"accessToken",null);Zl(this,"refreshToken",null);Zl(this,"expiresAt",null)}static getInstance(){return wa.instance||(wa.instance=new wa),wa.instance}async getAppConfig(t){const{data:n,error:r}=await J.from("strava_app_configs").select("*").eq("user_id",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return null;throw new Error(`Failed to get Strava app config: ${r.message}`)}return{id:n.id,userId:n.user_id,clientId:n.client_id,clientSecret:n.client_secret,redirectUri:n.redirect_uri,isActive:n.is_active,createdAt:n.created_at,updatedAt:n.updated_at}}async getAuthorizationUrl(t){return`https://www.strava.com/oauth/authorize?${new URLSearchParams({client_id:po.clientId,redirect_uri:po.redirectUri,response_type:"code",scope:"read,profile:read_all,activity:read",approval_prompt:"force",state:t}).toString()}`}async exchangeCodeForToken(t,n){const r=await fetch("https://www.strava.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:po.clientId,client_secret:po.clientSecret,code:t,grant_type:"authorization_code"})});if(!r.ok){let s=`Failed to exchange code for token: ${r.statusText}`;try{const i=await r.json();console.error("Strava token exchange error:",i),s=`Failed to exchange code for token: ${i.message||JSON.stringify(i)}`}catch{console.error("Could not parse Strava error response")}throw new Error(s)}return r.json()}async refreshAccessToken(t,n){const r=await fetch("https://www.strava.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:po.clientId,client_secret:po.clientSecret,refresh_token:t,grant_type:"refresh_token"})});if(!r.ok){const s=await r.json();throw new Error(`Failed to refresh token: ${s.message||r.statusText}`)}return r.json()}async getAthleteProfile(t){const n=await fetch("https://www.strava.com/api/v3/athlete",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const r=await n.json();throw new Error(`Failed to get athlete profile: ${r.message||n.statusText}`)}return n.json()}async saveConnection(t,n,r){var c;const s=r??((c=n.athlete)==null?void 0:c.id);if(!s)throw new Error("Strava athlete ID is required but not available in token response");const i={user_id:t,strava_athlete_id:s,access_token:n.access_token,refresh_token:n.refresh_token,expires_at:new Date(n.expires_at*1e3).toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:l}=await J.from("strava_connections").upsert(i,{onConflict:"user_id"}).select().single();if(l)throw new Error(`Failed to save Strava connection: ${l.message}`);return{id:a.id,userId:a.user_id,stravaAthleteId:a.strava_athlete_id,accessToken:a.access_token,refreshToken:a.refresh_token,expiresAt:a.expires_at,createdAt:a.created_at,updatedAt:a.updated_at}}async getConnection(t){const{data:n,error:r}=await J.from("strava_connections").select("*").eq("user_id",t).single();if(r){if(r.code==="PGRST116")return null;throw new Error(`Failed to get Strava connection: ${r.message}`)}return{id:n.id,userId:n.user_id,stravaAthleteId:n.strava_athlete_id,accessToken:n.access_token,refreshToken:n.refresh_token,expiresAt:n.expires_at,createdAt:n.created_at,updatedAt:n.updated_at}}async ensureValidToken(t){const n=new Date(t.expiresAt).getTime(),r=Date.now(),s=5*60*1e3;if(console.log("Token validation:",{now:new Date(r).toISOString(),expiresAt:new Date(n).toISOString(),bufferTime:s/1e3/60+" minutes",isExpired:r>=n-s,timeUntilExpiry:(n-r)/1e3/60+" minutes"}),r>=n-s){console.log("Token expired or expiring soon, refreshing...");try{const i=await this.refreshAccessToken(t.refreshToken,t.userId);return await this.saveConnection(t.userId,i,t.stravaAthleteId),console.log("Token refreshed successfully"),i.access_token}catch(i){throw console.error("Failed to refresh token:",i),new Error(`Failed to refresh Strava token: ${i instanceof Error?i.message:"Unknown error"}`)}}return console.log("Token is still valid"),t.accessToken}async importProfile(t){const n=await this.getConnection(t);if(!n)throw new Error("No Strava connection found. Please connect your Strava account first.");const r=await this.ensureValidToken(n);return await this.getAthleteProfile(r)}async getRecentActivities(t,n=30){const r=await this.getConnection(t);if(!r)throw new Error("No Strava connection found. Please connect your Strava account first.");console.log("Current connection:",{userId:t,expiresAt:r.expiresAt,isExpired:new Date(r.expiresAt)<new Date});const s=await this.ensureValidToken(r);console.log("Using access token:",s?`${s.substring(0,10)}...`:"null");let i,a;if(typeof n=="number")i=Math.floor(Date.now()/1e3),a=Math.floor((Date.now()-n*24*60*60*1e3)/1e3);else{let d=typeof n.after=="string"?new Date(n.after):n.after,u=n.before?typeof n.before=="string"?new Date(n.before):n.before:new Date;if(isNaN(d.getTime()))throw new Error(`Invalid after date: ${n.after}`);if(isNaN(u.getTime()))throw new Error(`Invalid before date: ${n.before}`);const f=new Date;if(u>f&&(u=f),d>f&&(d=f),d>=u)throw new Error(`Invalid date range: start date (${d.toISOString()}) must be before end date (${u.toISOString()}). Note: Strava cannot fetch activities from future dates.`);const h=new Date(d);h.setHours(0,0,0,0);const m=new Date(u);if(m.setHours(23,59,59,999),i=Math.floor(m.getTime()/1e3),a=Math.floor(h.getTime()/1e3),i<=a)throw new Error(`Invalid timestamp calculation: before (${i}) must be greater than after (${a})`)}console.log("Fetching activities:",{before:i,after:a,options:n});const l=await fetch(`https://www.strava.com/api/v3/athlete/activities?before=${i}&after=${a}&per_page=200`,{headers:{Authorization:`Bearer ${s}`}});if(console.log("Strava API response:",{status:l.status,statusText:l.statusText,ok:l.ok}),!l.ok){let d=`Failed to get activities: ${l.statusText}`;try{const u=await l.json();console.error("Strava activities error:",u),d=`Failed to get activities: ${u.message||JSON.stringify(u)}`}catch{console.error("Could not parse Strava error response")}throw new Error(d)}const c=await l.json();return console.log("Successfully loaded activities:",c.length),c}async disconnect(t){const{error:n}=await J.from("strava_connections").delete().eq("user_id",t);if(n)throw new Error(`Failed to disconnect Strava account: ${n.message}`)}};Zl(wa,"instance");let uy=wa;const Da=uy.getInstance();function tX(){var ut,Xl,rd,Jl;const{id:e}=T0(),[t,n]=A0(),{getChallenge:r,joinChallenge:s,leaveChallenge:i,getChallengeProgress:a,getParticipantProgress:l,getParticipants:c,getCreatorAvatar:d,getUserChallengeStartDate:u,getUserChallengeEndDate:f,updateProgress:h}=Xr(),{user:m,isLoading:v}=Ct(),{language:g}=gt(),{t:y}=pt(g),{toast:x}=un(),b=wn();p.useEffect(()=>{!v&&!m&&b("/",{replace:!0})},[m,v,b]);const[C,_]=p.useState(!0),[w,D]=p.useState(null),[k,S]=p.useState(0),[N,O]=p.useState(0),[I,$]=p.useState({current:0,total:0}),[F,E]=p.useState(null),[L,A]=p.useState([]),[P,R]=p.useState([]),[T,j]=p.useState(!1),[M,U]=p.useState(new Set),[V,z]=p.useState([]),[B,q]=p.useState(!1),[W,G]=p.useState(!1),[Z,H]=p.useState(!1),Q=zu(),re=["objectives","leaderboard","activities"],ee=t.get("tab"),ce=ee&&re.includes(ee)?ee:"objectives",[X,ne]=p.useState(ce),se=p.useCallback(ie=>{ne(ie);const be=new URLSearchParams(t);ie==="objectives"?be.delete("tab"):be.set("tab",ie),n(be,{replace:!0})},[t,n]);p.useEffect(()=>{const ie=t.get("tab"),be=ie&&re.includes(ie)?ie:"objectives";be!==X&&ne(be)},[t,X]);const[he,ae]=p.useState(void 0);p.useState(!1);const[oe,xe]=p.useState(null),[Ce,Pe]=p.useState([]),[je,$e]=p.useState(!1),[Ze,lt]=p.useState(new Set),[Ae,rt]=p.useState(null),[Fe,ot]=p.useState(null),[ct,St]=p.useState(!1),tt=m&&(w==null?void 0:w.participants)&&w.participants.includes(m.id),dn=m&&(w==null?void 0:w.createdById)===m.id,Qt=w!=null&&w.isRepeating?!1:w!=null&&w.endDate?new Date>new Date(w.endDate):!1;p.useEffect(()=>{w!=null&&w.isRepeating&&m&&tt?Promise.all([u(w.id,m.id),f(w.id,m.id)]).then(([ie,be])=>{rt(ie),ot(be)}):(rt(null),ot(null))},[w==null?void 0:w.isRepeating,w==null?void 0:w.id,m,tt,u,f]);const Ar=async()=>{if(w){if(Qt){x({title:y("error"),description:y("cannotJoinCompletedChallenge"),variant:"destructive"});return}if(w.isRepeating){St(!0);return}await fe()}},fe=async()=>{if(w){$e(!0);try{await s(w.id);const ie=await r(w.id);if(ie){D(ie);const be=await c(w.id);R(be)}}catch(ie){console.error("Error joining challenge:",ie)}finally{$e(!1),St(!1)}}},_e=async()=>{if(!w)return;const ie=`${window.location.origin}/challenges/${w.id}`,be=(y("shareChallengeMessage")||"Check out this challenge: {title}").replace("{title}",w.title);if(navigator.share)try{await navigator.share({title:w.title,text:be,url:ie})}catch(Ue){if(Ue.name!=="AbortError"){console.error("Error sharing:",Ue);try{await navigator.clipboard.writeText(ie),x({title:y("linkCopied")||"Link copied!",description:y("challengeLinkCopied")||"Challenge link has been copied to your clipboard"})}catch(et){console.error("Failed to copy:",et)}}}else try{await navigator.clipboard.writeText(ie),x({title:y("linkCopied")||"Link copied!",description:y("challengeLinkCopied")||"Challenge link has been copied to your clipboard"})}catch(Ue){console.error("Failed to copy:",Ue),x({title:y("error")||"Error",description:y("failedToCopyLink")||"Failed to copy link. Please try again.",variant:"destructive"})}},Y=async()=>{if(w){G(!0);try{await i(w.id),b("/dashboard")}catch(ie){console.error("Error leaving challenge:",ie),G(!1)}}};p.useEffect(()=>{(async()=>{if(e){_(!0);try{const be=await cs(r(parseInt(e)),15e3);if(be){D(be);const[Ue,et]=await Promise.all([cs(d(be.createdById),1e4),cs(c(parseInt(e)),1e4)]);ae(Ue),R(et)}}catch(be){console.error("Error fetching challenge:",be),x({title:y("error"),description:be instanceof Error?be.message:y("errorLoadingChallenge")||"Failed to load challenge",variant:"destructive"})}finally{_(!1)}}})()},[e]),p.useEffect(()=>{(async()=>{if(!(!w||!m))try{const be=await a(w.id,w.challengeType);Pe(be),z(be)}catch(be){console.error("Error loading user progress:",be)}})()},[w==null?void 0:w.id,m==null?void 0:m.id]);const te=p.useCallback(async()=>{if(!w||w.challengeType!=="completion"||!w.objectives||!m&&!F)return;const ie=F||(m==null?void 0:m.id);if(ie)try{const Ue=(w.isRepeating&&Ae?ht(new Date(Ae)):w.startDate?ht(w.startDate):null)||ht(new Date),et=w.isRepeating&&Fe?ht(new Date(Fe)):w.isRepeating?null:w.endDate?ht(w.endDate):null,{startUTC:jt,endUTC:Ft}=et?tD(Ue,et):{startUTC:Ue.toISOString(),endUTC:new Date(Ue.getTime()+365*24*60*60*1e3).toISOString()},Xt=J.from("entries").select("created_at, objective_id").eq("user_id",ie).eq("challenge_id",w.id).gte("created_at",jt);et&&Xt.lte("created_at",Ft);const{data:Me,error:dt}=await Xt;if(dt){console.error("Error fetching completion entries:",dt);return}if(!Me)return;const He=new Map;Me.forEach(ns=>{const la=Oa(ns.created_at);He.has(la)||He.set(la,new Set),He.get(la).add(ns.objective_id)});const Wt=new Set(w.objectives.map(ns=>ns.id)),ts=new Set;He.forEach((ns,la)=>{Array.from(Wt).every(VM=>ns.has(VM))&&ts.add(la)}),lt(ts)}catch(be){console.error("Error loading completion days:",be)}},[w==null?void 0:w.id,w==null?void 0:w.challenge_type,w==null?void 0:w.objectives,w==null?void 0:w.startDate,w==null?void 0:w.endDate,m==null?void 0:m.id,F]),ue=p.useCallback(async()=>{if(!(!w||!m))try{const ie=await a(w.id,w.challengeType);Pe(ie),w.challengeType==="completion"&&await te()}catch(ie){console.error("Error refreshing progress:",ie)}},[w==null?void 0:w.id,w==null?void 0:w.challenge_type,m==null?void 0:m.id,a,te]);p.useEffect(()=>{(async()=>{if(!(!F||!w))try{const be=await l(w.id,F);A(be)}catch(be){console.error("Error loading participant progress:",be)}})()},[F,w==null?void 0:w.id]),p.useEffect(()=>{if(m&&w){const ie=F?L:Ce,be=gu(w.objectives,ie,w.capedPoints,w.challengeType);if(S(be),w.challengeType==="completion"){const et=w.isRepeating&&Ae?new Date(Ae):w.startDate?new Date(w.startDate):new Date,jt=new Date(et.getFullYear(),et.getMonth(),et.getDate()),Ft=w.isRepeating&&Fe?new Date(Fe):w.isRepeating?null:w.endDate?new Date(w.endDate):null,Xt=Ft?new Date(Ft.getFullYear(),Ft.getMonth(),Ft.getDate()):null,Me=ht(new Date),dt=w.isRepeating&&Xt?Math.floor((Xt.getTime()-jt.getTime())/(1e3*60*60*24))+1:w.isRepeating?Math.floor((Me.getTime()-jt.getTime())/(1e3*60*60*24))+1:Xt?Math.floor((Xt.getTime()-jt.getTime())/(1e3*60*60*24))+1:365,He=ie.reduce((Wt,ts)=>Wt+ts.currentValue,0);O(He/dt*100),$({current:He,total:dt})}else if(w.challengeType==="weekly"){const et=w.isRepeating&&Ae?new Date(Ae):w.startDate?new Date(w.startDate):new Date,jt=w.isRepeating&&Fe?new Date(Fe):w.isRepeating?null:w.endDate?new Date(w.endDate):null,Ft=w.isRepeating?Math.max(1,Math.floor((Ee.getTime()-et.getTime())/(1e3*60*60*24*7))+1):jt?ps(et,jt):52,Xt=ie.reduce((dt,He)=>dt+He.currentValue,0),Me=w.objectives.reduce((dt,He)=>{const Wt=He.targetValue||1;return dt+Ft*Wt},0);O(Me>0?Xt/Me*100:0),$({current:Xt,total:Me})}else if(w.challengeType==="collection"||w.challengeType==="checklist"){const Ue=ie.filter(jt=>jt.currentValue>=1).length,et=w.objectives.length;O(Ue/et*100),$({current:Ue,total:et})}else O(be/w.totalPoints*100),$({current:be,total:w.totalPoints})}},[m==null?void 0:m.id,w==null?void 0:w.id,w==null?void 0:w.objectives,w==null?void 0:w.capedPoints,Ce,L,F]),p.useEffect(()=>{te()},[te]),p.useEffect(()=>{U(new Set)},[F]);const ye=p.useCallback((ie,be)=>{var Xt;if((w==null?void 0:w.challenge_type)!=="bingo"&&((Xt=w==null?void 0:w.objectives)==null?void 0:Xt.length)!==25)return!1;const Ue=Math.sqrt(w.objectives.length),et=new Set(ie.filter(Me=>(Me.currentValue||0)>=1).map(Me=>Me.objectiveId));for(let Me=0;Me<Ue;Me++){let dt=!0;for(let He=0;He<Ue;He++){const Wt=Me*Ue+He;if(!et.has(w.objectives[Wt].id)){dt=!1;break}}if(dt){const He=`row-${Me}`;if(!be.has(He))return U(Wt=>new Set([...Wt,He])),!0}}for(let Me=0;Me<Ue;Me++){let dt=!0;for(let He=0;He<Ue;He++){const Wt=He*Ue+Me;if(!et.has(w.objectives[Wt].id)){dt=!1;break}}if(dt){const He=`col-${Me}`;if(!be.has(He))return U(Wt=>new Set([...Wt,He])),!0}}let jt=!0;for(let Me=0;Me<Ue;Me++){const dt=Me*Ue+Me;if(!et.has(w.objectives[dt].id)){jt=!1;break}}if(jt){const Me="diag-main";if(!be.has(Me))return U(dt=>new Set([...dt,Me])),!0}let Ft=!0;for(let Me=0;Me<Ue;Me++){const dt=Me*Ue+(Ue-1-Me);if(!et.has(w.objectives[dt].id)){Ft=!1;break}}if(Ft){const Me="diag-anti";if(!be.has(Me))return U(dt=>new Set([...dt,Me])),!0}return!1},[w==null?void 0:w.id,w==null?void 0:w.challenge_type,w==null?void 0:w.objectives]);if(p.useEffect(()=>{var et;if((w==null?void 0:w.challenge_type)!=="bingo"&&((et=w==null?void 0:w.objectives)==null?void 0:et.length)!==25||!m)return;const ie=F?L:Ce,be=F?[]:V;ie.some(jt=>{const Ft=be.find(Xt=>Xt.objectiveId===jt.objectiveId);return jt.currentValue>=1&&(!Ft||Ft.currentValue<1)})&&ye(ie,M)&&j(!0),F||z(ie)},[w==null?void 0:w.challenge_type,F,L,Ce,ye,V,m==null?void 0:m.id,M]),C||!w)return o.jsxs("div",{className:"container py-2",children:[o.jsx("div",{className:"animate-pulse space-y-4 mb-4",children:o.jsx("div",{className:"h-8 w-64 rounded bg-muted"})}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[o.jsx("div",{className:"h-8 w-64 rounded bg-muted"}),o.jsx("div",{className:"h-6 w-20 rounded bg-muted"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-6",children:[o.jsx("div",{className:"h-5 w-48 rounded bg-muted"}),o.jsx("div",{className:"h-5 w-32 rounded bg-muted"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-6 w-6 rounded-full bg-muted"}),o.jsx("div",{className:"h-5 w-40 rounded bg-muted"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-10 w-full rounded bg-muted"}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(ie=>o.jsx("div",{className:"h-20 rounded bg-muted"},ie))})]})]})})]});const pe=w.isRepeating&&Ae?ht(new Date(Ae)):w.startDate?ht(w.startDate):null,we=w.isRepeating&&Fe?ht(new Date(Fe)):w.isRepeating?null:w.endDate?ht(w.endDate):null,Ee=ht(new Date),Te=pe?Ee>=pe&&(!we||Ee<=we):!1,ke=pe?Ee<pe:!1,We=we?Ee>we:!1;we&&Math.ceil((we.getTime()-Ee.getTime())/(1e3*60*60*24));const st=g==="de"?Cm:io;return o.jsxs("div",{className:"container py-2",children:[o.jsx(ZQ,{isVisible:T,onComplete:()=>j(!1)}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:w.title}),o.jsx(cP,{children:o.jsxs(LL,{children:[o.jsx($L,{asChild:!0,children:o.jsx(de,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>H(!0),children:o.jsx(Sa,{className:"h-4 w-4"})})}),o.jsx(uP,{children:o.jsx("p",{children:y("challengeInfo")})})]})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[ke&&o.jsx(an,{variant:"outline",className:"border-blue-400 text-blue-500",children:y("upcoming")}),Te&&!we&&o.jsx(an,{className:"bg-blue-500",children:y("ongoing")}),Te&&we&&o.jsx(an,{className:"bg-green-500",children:y("active")}),We&&o.jsx(an,{variant:"outline",className:"border-gray-400 text-gray-500",children:y("completed")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(de,{variant:"ghost",onClick:_e,size:"icon",title:y("shareChallenge")||"Share Challenge",children:o.jsx(bk,{className:"h-4 w-4"})}),dn&&o.jsx(de,{variant:"ghost",onClick:()=>b(`/challenges/${w.id}/edit`),size:"icon",title:y("editChallenge")||"Edit Challenge",children:o.jsx(Ck,{className:"h-4 w-4"})}),tt&&o.jsx(de,{variant:"ghost",onClick:()=>q(!0),disabled:W,size:"icon",className:"text-destructive hover:text-destructive",title:y("leaveChallenge"),children:o.jsx(W4,{className:"h-4 w-4"})})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 sm:gap-6 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:w.isRepeating?tt&&Ae?o.jsxs(o.Fragment,{children:[Ot(new Date(Ae),y("dateFormatShort"),{locale:st}),Fe?o.jsxs(o.Fragment,{children:[" - ",Ot(new Date(Fe),y("dateFormatLong"),{locale:st})]}):o.jsxs(o.Fragment,{children:[" - ",y("ongoing")]})]}):y("repeatingChallengeAvailable")||"Available - Start when you join":pe?o.jsxs(o.Fragment,{children:[Ot(pe,y("dateFormatShort"),{locale:st}),we&&o.jsxs(o.Fragment,{children:[" - ",Ot(we,y("dateFormatLong"),{locale:st})]}),!we&&o.jsxs(o.Fragment,{children:[" - ",y("ongoing")]})]}):y("noDatesSet")||"No dates set"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rv,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[w.participants.length," ",y("participants")]})]})]}),o.jsxs("div",{className:"flex flex-col items-start gap-2 sm:flex-row sm:items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ls,{className:"h-6 w-6",children:[he&&o.jsx($s,{src:he,onError:ie=>{ie.target.style.display="none"}}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-4 w-4"})})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[y("createdBy")," ",o.jsx("span",{className:"font-medium text-foreground",children:w.creatorName})]})]}),!tt&&o.jsxs(de,{className:"sm:ml-auto",onClick:Ar,disabled:je||Qt,children:[o.jsx(er,{className:"mr-2 h-4 w-4"}),y(je?"joining":"joinChallenge")]})]})]}),o.jsxs(PT,{value:X,onValueChange:se,defaultValue:"objectives",children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:Q?o.jsxs("div",{className:"flex flex-row gap-2 w-full",children:[o.jsxs(Fa,{value:X,onValueChange:se,children:[o.jsx(Li,{className:"flex-1",children:o.jsx(La,{})}),o.jsxs($i,{children:[o.jsx(Vt,{value:"objectives",children:y("objectives")}),o.jsx(Vt,{value:"leaderboard",children:y("leaderboard")}),o.jsx(Vt,{value:"activities",children:y("activities")})]})]}),!1,(w.challengeType==="bingo"||((ut=w==null?void 0:w.objectives)==null?void 0:ut.length)===25)&&w.isCollaborative&&o.jsxs(Fa,{value:F||"",onValueChange:ie=>E(ie),children:[o.jsx(Li,{className:"flex-1",children:o.jsx(La,{placeholder:y("participants")})}),o.jsx($i,{children:P.map(ie=>o.jsx(Vt,{value:ie.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ls,{className:"h-6 w-6",children:[ie.avatar&&o.jsx($s,{src:ie.avatar}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-4 w-4"})})]}),o.jsx("span",{children:ie.name})]})},ie.id))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 w-full",children:[o.jsxs(bw,{className:"w-auto",children:[o.jsx($a,{value:"objectives",children:y("objectives")}),o.jsx($a,{value:"leaderboard",children:y("leaderboard")}),o.jsx($a,{value:"activities",children:y("activities")})]}),!1]}),(w.challengeType==="bingo"||((Xl=w==null?void 0:w.objectives)==null?void 0:Xl.length)===25)&&w.isCollaborative&&o.jsxs(Fa,{value:F||"",onValueChange:ie=>E(ie),children:[o.jsx(Li,{className:"w-full sm:w-[200px]",children:o.jsx(La,{placeholder:y("participants")})}),o.jsx($i,{children:P.map(ie=>o.jsx(Vt,{value:ie.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ls,{className:"h-6 w-6",children:[ie.avatar&&o.jsx($s,{src:ie.avatar}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-4 w-4"})})]}),o.jsx("span",{children:ie.name})]})},ie.id))})]})]})}),o.jsxs(Ua,{value:"objectives",className:"mt-6",children:[(tt||F)&&o.jsxs("div",{className:`mb-6 space-y-2 rounded-lg border p-4 text-card-foreground ${N>=100?"border-challenge-teal bg-green-50/30":"bg-card"}`,children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(f0,{className:"h-5 w-5 text-challenge-purple"}),o.jsx("span",{className:"font-medium",children:F?((rd=P.find(ie=>ie.id===F))==null?void 0:rd.name)+"'s "+y("challengeProgress").toLowerCase():y("challengeProgress")}),N>=100&&o.jsx(ki,{className:"h-4 w-4 text-green-600"})]}),o.jsxs("span",{className:"text-sm font-medium",children:[I.current," / ",I.total]})]}),o.jsx(Hl,{value:N,className:"h-2"})]}),(w==null?void 0:w.challengeType)==="checklist"||(w==null?void 0:w.challengeType)==="collection"?o.jsx(o.Fragment,{children:o.jsx("div",{className:"flex flex-wrap gap-0.5 items-center",children:w.objectives.map(ie=>{const be=F?L.find(Me=>Me.objectiveId===ie.id):Ce.find(Me=>Me.objectiveId===ie.id),Ue=(be==null?void 0:be.currentValue)||0,et=Ue>=1,jt=F!==null&&F!==(m==null?void 0:m.id),Ft=w.endDate?new Date(w.endDate)>=new Date:!0,Xt=async()=>{if(!(!m||jt||!Ft))try{const Me=Ue>=1?0:1;await h(w.id,ie.id,Me),await ue()}catch(Me){console.error("Error updating progress:",Me),x({title:y("error"),description:y("errorUpdatingProgress"),variant:"destructive"})}};return o.jsx("div",{onClick:Xt,className:`min-w-9 h-9 px-2 flex items-center justify-center text-sm font-medium transition-colors rounded-sm ${et?"bg-green-500 text-white":jt||!Ft?"bg-gray-200 text-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300 cursor-pointer"}`,title:`${ie.title}${ie.description?` - ${ie.description}`:""} - ${y(et?"completed":"notCompleted")}`,children:ie.title},ie.id)})})}):(w==null?void 0:w.challenge_type)==="bingo"||((Jl=w==null?void 0:w.objectives)==null?void 0:Jl.length)===25?o.jsxs(o.Fragment,{children:[oe&&(()=>{const ie=w.objectives.find(be=>be.id===oe);return ie?o.jsx("div",{className:"mb-2",children:o.jsx(Bp,{objective:ie,challengeId:w.id,progress:F?L.find(be=>be.objectiveId===ie.id):Ce.find(be=>be.objectiveId===ie.id),challengeType:w.challengeType,capedPoints:w.capedPoints,readOnly:F!==null&&F!==(m==null?void 0:m.id),onProgressUpdate:ue,challengeStartDate:w.isRepeating&&tt&&Ae?Ae:w.startDate||void 0,challengeEndDate:w.isRepeating&&Fe?Fe:w.isRepeating?void 0:w.endDate,selectedUserId:F,isExpanded:!0,onExpandChange:be=>{xe(be?ie.id:null)}},ie.id)}):null})(),o.jsx("div",{className:"grid grid-cols-5 gap-1 p-0.5",children:w.objectives.filter(ie=>ie.id!==oe).map(ie=>o.jsx(Bp,{objective:ie,challengeId:w.id,progress:F?L.find(be=>be.objectiveId===ie.id):Ce.find(be=>be.objectiveId===ie.id),challengeType:w.challengeType,capedPoints:w.capedPoints,readOnly:F!==null&&F!==(m==null?void 0:m.id),onProgressUpdate:ue,challengeStartDate:w.isRepeating&&tt&&Ae?Ae:w.startDate||void 0,challengeEndDate:w.isRepeating&&Fe?Fe:w.isRepeating?void 0:w.endDate,selectedUserId:F,isExpanded:!1,onExpandChange:be=>{xe(be?ie.id:null)}},ie.id))})]}):o.jsxs("div",{className:"space-y-4",children:[w.objectives.map(ie=>o.jsx(Bp,{objective:ie,challengeId:w.id,progress:F?L.find(be=>be.objectiveId===ie.id):Ce.find(be=>be.objectiveId===ie.id),challengeType:w.challengeType,capedPoints:w.capedPoints,readOnly:F!==null&&F!==(m==null?void 0:m.id),onProgressUpdate:ue,challengeStartDate:w.isRepeating&&tt&&Ae?Ae:w.startDate||void 0,challengeEndDate:w.isRepeating&&Fe?Fe:w.isRepeating?void 0:w.endDate,selectedUserId:F,challengeTitle:w.title},ie.id)),w.challengeType==="completion"&&w.endDate&&o.jsxs("div",{className:"mt-6 rounded-lg border p-4",children:[o.jsx("div",{className:"text-sm font-medium mb-3",children:y("dailyProgress")}),o.jsx("div",{className:"mt-1.5",children:o.jsx("div",{className:"flex flex-wrap gap-0.5",children:(()=>{const ie=new Date(w.startDate),be=new Date(ie.getFullYear(),ie.getMonth(),ie.getDate()),Ue=new Date(w.endDate),et=new Date(Ue.getFullYear(),Ue.getMonth(),Ue.getDate()),jt=Math.floor((et.getTime()-be.getTime())/(1e3*60*60*24))+1,Ft=new Date,Xt=`${Ft.getFullYear()}-${String(Ft.getMonth()+1).padStart(2,"0")}-${String(Ft.getDate()).padStart(2,"0")}`,Me=He=>{const Wt=He.getFullYear(),ts=String(He.getMonth()+1).padStart(2,"0"),ns=String(He.getDate()).padStart(2,"0");return`${Wt}-${ts}-${ns}`},dt=[];for(let He=0;He<jt;He++){const Wt=new Date(be);Wt.setDate(be.getDate()+He);const ts=Me(Wt),ns=Ze.has(ts),la=ts===Xt;dt.push({date:ts,isCompleted:ns,isToday:la})}return dt.map((He,Wt)=>o.jsx("div",{className:`w-7 h-7 ${He.isCompleted?"bg-green-500":"bg-gray-200"} ${He.isToday?"ring-2 ring-blue-500":""}`,title:`${He.date} - ${He.isCompleted?y("completed"):y("notCompleted")}`},Wt))})()})})]})]})]}),o.jsx(Ua,{value:"leaderboard",className:"mt-6",children:o.jsx(ZT,{challengeId:w.id,capedPoints:w.capedPoints,onUserClick:ie=>{E(ie),se("objectives")}},`leaderboard-${w.id}-${P.length}`)}),o.jsx(Ua,{value:"activities",className:"mt-6",children:o.jsx(mq,{challengeId:w.id,onUserClick:ie=>{E(ie),se("objectives")}})})]})]})}),o.jsx(xu,{open:B,onOpenChange:q,children:o.jsxs(vl,{children:[o.jsxs(yl,{children:[o.jsx(xl,{children:y("leaveChallengeConfirmation")}),o.jsx(bl,{children:y("leaveChallengeConfirmationDescription")})]}),o.jsxs(wl,{children:[o.jsx(Sl,{disabled:W,children:y("cancel")}),o.jsx(Cl,{onClick:Y,disabled:W,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:y(W?"leaving":"leaveChallenge")})]})]})}),o.jsx(xu,{open:ct,onOpenChange:St,children:o.jsxs(vl,{children:[o.jsxs(yl,{children:[o.jsx(xl,{children:y("joinRepeatingChallenge")||"Start Challenge Today?"}),o.jsx(bl,{children:y("joinRepeatingChallengeDescription")||"This challenge will start today. Are you sure you want to join and start the challenge now?"})]}),o.jsxs(wl,{children:[o.jsx(Sl,{disabled:je,children:y("cancel")}),o.jsx(Cl,{onClick:fe,disabled:je,children:je?y("joining"):y("startToday")||"Yes, start today"})]})]})}),o.jsx(cr,{open:Z,onOpenChange:H,children:o.jsxs(Wn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Hn,{children:[o.jsx(qn,{className:"text-2xl",children:w.title}),w.description&&o.jsx(Cr,{className:"text-base pt-2",children:w.description})]}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.isRepeating?o.jsxs(o.Fragment,{children:[tt&&Ae?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("youStarted")||"You Started"}),o.jsx("span",{className:"font-medium",children:Ot(new Date(Ae),y("dateFormatLong"),{locale:st})})]})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("repeatingChallenge")||"Repeating Challenge"}),o.jsx("span",{className:"font-medium",children:y("startWhenYouJoin")||"Start when you join"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("endDate")||"End Date"}),o.jsx("span",{className:"font-medium",children:y("ongoing")||"Ongoing"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("startDate")||"Start Date"}),o.jsx("span",{className:"font-medium",children:pe?Ot(pe,y("dateFormatLong"),{locale:st}):w.isRepeating&&tt&&Ae?Ot(new Date(Ae),y("dateFormatLong"),{locale:st}):y("noDateSet")||"No date set"})]})]}),we&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("endDate")||"End Date"}),o.jsx("span",{className:"font-medium",children:Ot(we,y("dateFormatLong"),{locale:st})})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rv,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("participants")}),o.jsx("span",{className:"font-medium",children:w.participants.length})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("totalPoints")||"Total Points"}),o.jsx("span",{className:"font-medium",children:w.totalPoints})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[o.jsxs(Ls,{className:"h-6 w-6",children:[he&&o.jsx($s,{src:he,onError:ie=>{ie.target.style.display="none"}}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:y("createdBy")}),o.jsx("span",{className:"font-medium",children:w.creatorName})]})]}),w.objectives&&w.objectives.length>0&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("h3",{className:"font-semibold mb-3",children:y("objectives")}),o.jsx("div",{className:"space-y-2",children:w.objectives.map((ie,be)=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("span",{className:"text-muted-foreground min-w-[24px]",children:[be+1,"."]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:ie.title}),ie.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:ie.description}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Sk,{className:"h-3 w-3 text-muted-foreground"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[ie.targetValue&&`${ie.targetValue} ${ie.unit||""}`,ie.pointsPerUnit&&ie.unit&&`  ${ie.pointsPerUnit} ${y("points")||"points"}/${ie.unit}`]})]})]})]},ie.id))})]})]})]})})]})}const Kd=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}T00:00:00.000Z`};function nX(){const{id:e}=T0(),{updateChallenge:t,getChallenge:n}=Xr(),{language:r}=gt(),{t:s}=pt(r),{toast:i}=un(),a=wn(),[l,c]=p.useState(!0),[d,u]=p.useState(""),[f,h]=p.useState(""),[m,v]=p.useState(new Date),[g,y]=p.useState($t(new Date,30)),[x,b]=p.useState(!1),[C,_]=p.useState("standard"),[w,D]=p.useState(!1),[k,S]=p.useState(!1),[N,O]=p.useState(30),[I,$]=p.useState(!1),[F,E]=p.useState([{id:Hr(),title:"",description:"",targetValue:0,unit:"",pointsPerUnit:0}]);p.useEffect(()=>{C==="completion"?E(T=>T.map(j=>({...j,targetValue:j.targetValue||1,unit:j.unit||"1",pointsPerUnit:j.pointsPerUnit||1}))):C==="bingo"&&E(T=>{const j=T.length;if(j===25)return T;if(j<25){const M=[...T];for(let U=j;U<25;U++)M.push({id:Hr(),title:"",description:"",targetValue:1,unit:"",pointsPerUnit:1});return M}else return T.slice(0,25)})},[C]),p.useEffect(()=>{if(C==="weekly"&&m){const T=Mn(m);if(m.getTime()!==T.getTime()&&v(T),g&&!w){const j=pn(g);g.getTime()!==j.getTime()&&y(j)}}},[C]),p.useEffect(()=>{(async()=>{if(e)try{const j=await n(parseInt(e));if(j){if(u(j.title),h(j.description),b(j.capedPoints||!1),_(j.challengeType),S(j.isRepeating||!1),$(j.isCollaborative||!1),j.isRepeating){if(j.startDate&&j.endDate){const M=new Date(j.startDate),U=new Date(j.endDate),V=Math.ceil((U.getTime()-M.getTime())/(1e3*60*60*24));O(V>0?V:30)}else O(30);v(void 0),y(void 0),D(!1)}else{const M=new Date(j.startDate),U=j.endDate?new Date(j.endDate):null;D(!U),v(M),y(U||void 0)}if(j.objectives&&j.objectives.length>0){const M=j.challengeType==="completion";E(j.objectives.map(U=>({id:U.id,title:U.title,description:U.description||"",targetValue:M?U.targetValue||1:U.targetValue||0,unit:M?U.unit||"1":U.unit||"",pointsPerUnit:M?U.pointsPerUnit||1:U.pointsPerUnit||0})))}}}catch(j){console.error("Error loading challenge:",j),i({title:s("error"),description:"Failed to load challenge",variant:"destructive"})}finally{c(!1)}})()},[e,n,i,s]);const L=()=>{const T=C==="completion"?1:0,j=C==="completion"?"1":"",M=C==="completion"?1:0;E([...F,{id:Hr(),title:"",description:"",targetValue:T,unit:j,pointsPerUnit:M}])},A=(T,j,M)=>{const U=[...F];U[T]={...U[T],[j]:M},E(U)},P=T=>{if(F.length>1){const j=[...F];j.splice(T,1),E(j)}},R=async T=>{if(T.preventDefault(),!e)return;if(!d||!f){i({title:s("error"),description:s("fillRequiredFields"),variant:"destructive"});return}if(k){if(!N||N<=0){i({title:s("error"),description:"Please enter a valid duration (in days)",variant:"destructive"});return}}else{if(!m){i({title:s("error"),description:s("fillRequiredFields"),variant:"destructive"});return}if(!w&&!g){i({title:s("error"),description:s("fillRequiredFields"),variant:"destructive"});return}}if(!k&&C==="weekly"&&!w&&m&&g&&!sD(m,g)){i({title:s("error"),description:s("mustSelectFullWeeks"),variant:"destructive"});return}if(C==="checklist"?F.some(B=>!B.title):C==="completion"||C==="weekly"||C==="bingo"?F.some(B=>!B.title):F.some(B=>!B.title||!B.unit||B.targetValue===void 0||(B.targetValue||0)<=0||B.pointsPerUnit===void 0||(B.pointsPerUnit||0)<=0)){i({title:s("error"),description:s("completeObjectiveDetails"),variant:"destructive"});return}const M=C==="checklist"?"collection":C,U=F.map(B=>{let q=B.id;$c(B.id)||(console.warn(`Invalid UUID for objective "${B.title}", generating new one`),q=Hr());const W=C==="completion"||C==="bingo"?1:Number(B.targetValue)||void 0,G=C==="completion"||C==="bingo"?"1":B.unit,Z=C==="completion"||C==="bingo"?1:Number(B.pointsPerUnit)||void 0;return{...B,id:q,targetValue:W,unit:G,pointsPerUnit:Z}});let V,z;if(k){const B=new Date(2024,0,1),q=$t(B,N);V=Kd(B),z=Kd(q)}else V=m?Kd(m):void 0,z=w?void 0:g?Kd(g):void 0;await t(parseInt(e),{title:d,description:f,startDate:V,endDate:z,challengeType:M,capedPoints:x,objectives:U,isRepeating:k,isCollaborative:I}),a(`/challenges/${e}`)};return l?o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-10 w-full rounded bg-muted"}),o.jsx("div",{className:"h-24 w-full rounded bg-muted"}),o.jsx("div",{className:"h-10 w-full rounded bg-muted"})]})}):o.jsxs("form",{onSubmit:R,className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"title",children:s("challengeTitle")}),o.jsx(Ge,{id:"title",placeholder:s("challengeTitlePlaceholder"),value:d,onChange:T=>u(T.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"description",children:s("description")}),o.jsx(dr,{id:"description",placeholder:s("descriptionPlaceholder"),value:f,onChange:T=>h(T.target.value),required:!0,className:"min-h-[100px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(De,{htmlFor:"challengeMode",children:s("challengeMode")}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{type:"button",variant:"ghost",size:"icon",className:"h-5 w-5",children:o.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})})}),o.jsx(Di,{className:"w-80",align:"start",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsx("h4",{className:"font-semibold text-sm",children:s("challengeModeInfo")})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[s("individualChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:s("individualChallengeDescription")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-semibold text-foreground",children:[s("collaborativeChallenge"),":"]}),o.jsx("p",{className:"text-muted-foreground mt-1",children:s("collaborativeChallengeDescription")})]})]})]})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(de,{type:"button",variant:I?"outline":"default",className:`flex-1 ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,onClick:()=>{$(!1)},children:s("individualChallenge")||"Individual Challenge"}),o.jsx(de,{type:"button",variant:I?"default":"outline",className:`flex-1 ${k?"opacity-50 cursor-not-allowed":""}`,disabled:k,onClick:()=>{$(!0),S(!1)},children:s("collaborativeChallenge")||"Collaborative Challenge"})]})]}),k?o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"durationDays",children:s("challengeDuration")||"Challenge Duration (days)"}),o.jsx(Ge,{id:"durationDays",type:"number",min:"1",value:N,onChange:T=>{const j=parseInt(T.target.value,10);!isNaN(j)&&j>0&&O(j)},placeholder:"30"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:s("repeatingChallengeDurationHint")||"Each user will get this many days starting from when they join"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"startDate",className:"text-sm",children:s("startDate")||"Start Date"}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{variant:"outline",className:"w-full justify-start text-left font-normal",children:m?Ot(m,"LLL dd, yyyy"):o.jsx("span",{children:s("pickStartDate")||"Pick start date"})})}),o.jsx(Di,{className:"w-auto p-0",align:"start",children:o.jsx(Ui,{initialFocus:!0,mode:"single",selected:m,weekStartsOn:1,onSelect:T=>{if(T)if(C==="weekly"){const j=Mn(T);v(j)}else v(T)},disabled:T=>g&&!w?T>g:!1})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"endDate",className:"text-sm",children:s("endDate")||"End Date"}),o.jsxs(ja,{children:[o.jsx(_a,{asChild:!0,children:o.jsx(de,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:w,children:g&&!w?Ot(g,"LLL dd, yyyy"):w?o.jsx("span",{className:"text-muted-foreground",children:s("noEndDate")}):o.jsx("span",{children:s("pickEndDate")||"Pick end date"})})}),o.jsx(Di,{className:"w-auto p-0",align:"start",children:o.jsx(Ui,{initialFocus:!0,mode:"single",selected:g,weekStartsOn:1,onSelect:T=>{if(T)if(C==="weekly"){const j=pn(T);y(j)}else y(T)},disabled:T=>m?T<m:!1})})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bu,{id:"noEndDate",checked:w,onCheckedChange:T=>{D(T),T?y(void 0):g||y($t(m||new Date,30))}}),o.jsx(De,{htmlFor:"noEndDate",className:"text-sm font-normal cursor-pointer",children:s("noEndDate")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"challengeType",children:s("challengeType")}),o.jsxs(Fa,{value:C,onValueChange:T=>_(T),children:[o.jsx(Li,{children:o.jsx(La,{placeholder:s("selectChallengeType")})}),o.jsxs($i,{children:[o.jsx(Vt,{value:"standard",children:s("standardChallenge")}),o.jsx(Vt,{value:"bingo",children:s("bingoChallenge")}),o.jsx(Vt,{value:"completion",children:s("completionChallenge")}),o.jsx(Vt,{value:"weekly",children:s("weeklyChallenge")}),o.jsx(Vt,{value:"checklist",children:s("checklistChallenge")})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(bu,{id:"capedPoints",checked:x,onCheckedChange:T=>b(T)}),o.jsx(De,{htmlFor:"capedPoints",className:"text-sm font-normal",children:s("capedPoints")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium",children:s("challengeObjectives")}),C!=="bingo"&&o.jsxs(de,{type:"button",variant:"outline",size:"sm",onClick:L,children:[o.jsx(Lu,{className:"mr-2 h-4 w-4"})," ",s("addObjective")]})]}),C==="bingo"?o.jsx("div",{className:"grid grid-cols-5 gap-1 p-0.5",children:F.map((T,j)=>o.jsx(Xe,{className:"p-2 relative aspect-square",children:o.jsxs("div",{className:"space-y-2 h-full flex flex-col",children:[o.jsx(Ge,{placeholder:`${s("objectiveTitle")} ${j+1}`,value:T.title,onChange:M=>A(j,"title",M.target.value),className:"text-xs h-8"}),o.jsx(dr,{placeholder:s("objectiveDescription"),value:T.description||"",onChange:M=>A(j,"description",M.target.value),className:"text-xs flex-1 min-h-[60px] resize-none"})]})},T.id||j))}):o.jsx("div",{className:"space-y-4",children:F.map((T,j)=>o.jsxs(Xe,{className:"p-4 relative",children:[F.length>1&&o.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-2 h-8 w-8 p-0",onClick:()=>P(j),children:[o.jsx(m0,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:s("remove")})]}),o.jsxs("div",{className:"space-y-4 pr-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-title`,children:s("objectiveTitle")}),o.jsx(Ge,{id:`objective-${j}-title`,placeholder:s("objectiveTitlePlaceholder"),value:T.title,onChange:M=>A(j,"title",M.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(De,{htmlFor:`objective-${j}-description`,children:[s("objectiveDescription")," ",o.jsxs("span",{className:"text-muted-foreground",children:["(",s("optional"),")"]})]}),o.jsx(dr,{id:`objective-${j}-description`,placeholder:s("objectiveDescriptionPlaceholder"),value:T.description||"",onChange:M=>A(j,"description",M.target.value),className:"min-h-[60px]"})]}),C!=="checklist"&&C!=="completion"&&C!=="weekly"&&o.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-target`,children:s("targetValue")}),o.jsx(Ge,{id:`objective-${j}-target`,type:"number",min:"1",placeholder:s("targetValuePlaceholder"),value:T.targetValue||"",onChange:M=>A(j,"targetValue",Number(M.target.value)),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-unit`,children:s("unit")}),o.jsx(Ge,{id:`objective-${j}-unit`,placeholder:s("unitPlaceholder"),value:T.unit,onChange:M=>A(j,"unit",M.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:`objective-${j}-points`,children:s("pointsPerUnit")}),o.jsx(Ge,{id:`objective-${j}-points`,type:"number",min:"1",placeholder:s("pointsPerUnitPlaceholder"),value:T.pointsPerUnit||"",onChange:M=>A(j,"pointsPerUnit",Number(M.target.value)),required:!0})]})]})]})]},T.id||j))})]}),o.jsxs(de,{type:"submit",className:"w-full",children:[o.jsx(er,{className:"mr-2 h-4 w-4"})," ",s("updateChallenge")||"Update Challenge"]})]})}function rX(){const{id:e}=T0(),{language:t}=gt(),{t:n}=pt(t),{getChallenge:r}=Xr(),{user:s}=Ct(),i=wn(),[a,l]=p.useState(!0),[c,d]=p.useState(!1);return p.useEffect(()=>{(async()=>{if(!e||!s){i("/challenges");return}try{const f=await r(parseInt(e));if(!f){i("/challenges");return}if(f.createdById!==s.id){i(`/challenges/${e}`);return}d(!0)}catch(f){console.error("Error checking authorization:",f),i("/challenges")}finally{l(!1)}})()},[e,s,r,i]),a?o.jsx("div",{className:"container py-8",children:o.jsx("div",{className:"mx-auto max-w-4xl",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-10 w-64 rounded bg-muted"}),o.jsx("div",{className:"h-96 w-full rounded bg-muted"})]})})}):c?o.jsx("div",{className:"container py-8",children:o.jsxs("div",{className:"mx-auto max-w-4xl",children:[o.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[o.jsx(de,{variant:"ghost",size:"icon",onClick:()=>i(`/challenges/${e}`),children:o.jsx(h0,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-3xl font-bold",children:n("editChallenge")||"Edit Challenge"})]}),o.jsx(nX,{})]})}):null}function sX(){const{language:e}=gt(),{t}=pt(e),{user:n,isLoading:r}=Ct(),s=wn();if(p.useEffect(()=>{!r&&!n&&s("/",{replace:!0})},[n,r,s]),r||!n)return null;const[i,a]=p.useState(void 0),[l,c]=p.useState([]),[d,u]=p.useState(!0);p.useEffect(()=>{(async()=>{try{u(!0);const{data:v,error:g}=await J.from("challenges").select("*").order("created_at",{ascending:!1});if(g)console.error("Error fetching challenges:",g);else{c(v||[]);let y;if(n&&v&&v.length>0){const{data:x,error:b}=await J.from("entries").select("challenge_id").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!b&&x&&x.challenge_id){const C=x.challenge_id.toString();v.some(_=>_.id.toString()===C)&&(y=C)}}!y&&v&&v.length>0&&(y=v[0].id.toString()),y&&!i&&a(y)}}catch(v){console.error("Unexpected error:",v)}finally{u(!1)}})()},[n]);const f=m=>{a(m)},h=i?i.toString():void 0;return d?o.jsx("div",{className:"container py-8",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})})}):o.jsx("div",{className:"container py-8",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(er,{className:"h-8 w-8 text-challenge-purple"}),o.jsx("h1",{className:"text-3xl font-bold",children:t("leaderboard")})]}),o.jsx("div",{className:"w-full sm:w-64",children:o.jsxs(Fa,{value:h,onValueChange:f,children:[o.jsx(Li,{children:o.jsx(La,{placeholder:t("filterByChallenge")})}),o.jsx($i,{children:l.map(m=>o.jsx(Vt,{value:m.id.toString(),children:m.title},m.id))})]})})]}),o.jsx(ZT,{challengeId:i})]})})}const Sn={async getChapter(e){const{data:t,error:n}=await J.from("chapters").select("*").eq("id",e).single();if(n||!t)return console.error("Error fetching chapter:",n),null;const{data:r,error:s}=await J.from("quests").select("*").eq("chapter_id",e).order("quest_number",{ascending:!0});if(s)return console.error("Error fetching quests:",s),null;const i=(r==null?void 0:r.map(u=>u.id))||[],{data:a,error:l}=await J.from("quest_objectives").select("*").in("quest_id",i).order("order",{ascending:!0});if(l)return console.error("Error fetching quest objectives:",l),null;const c={};a==null||a.forEach(u=>{c[u.quest_id]||(c[u.quest_id]=[]),c[u.quest_id].push({id:u.id,questId:u.quest_id,title:u.title,description:u.description||void 0,targetValue:u.target_value!==null?Number(u.target_value):void 0,unit:u.unit||void 0,pointsPerUnit:u.points_per_unit!==null?Number(u.points_per_unit):void 0,order:u.order,isBinary:u.is_binary||!1})});const d=(r||[]).map(u=>({id:u.id,chapterId:u.chapter_id,questNumber:u.quest_number,title:u.title,description:u.description||void 0,completionText:u.completion_text||void 0,completionImageUrl:u.completion_image_url||void 0,imageUrl:u.image_url||void 0,objectives:c[u.id]||[]}));return{id:t.id,title:t.title,description:t.description||void 0,chapterNumber:t.chapter_number||void 0,questNumber:t.quest_number||void 0,imageUrl:t.image_url||void 0,introText:t.intro_text||void 0,quests:d,createdAt:t.created_at,updatedAt:t.updated_at}},async getChapterByNumber(e){const{data:t,error:n}=await J.from("chapters").select("id").eq("chapter_number",e).single();return n||!t?(console.error("Error fetching chapter:",n),null):this.getChapter(t.id)},async getUserChapterProgress(e,t){const{data:n,error:r}=await J.from("user_quest_progress").select("*").eq("user_id",e).eq("chapter_id",t).single();return r?(r.code==="PGRST116"||console.error("Error fetching user chapter progress:",r),null):{id:n.id,userId:n.user_id,chapterId:n.chapter_id,currentQuestId:n.current_quest_id||void 0,startedAt:n.started_at,completedAt:n.completed_at||void 0,createdAt:n.created_at,updatedAt:n.updated_at}},async startChapter(e,t,n){await J.from("quest_progress_entries").delete().eq("user_id",e).eq("chapter_id",t),await J.from("user_quest_progress").delete().eq("user_id",e).eq("chapter_id",t);const{data:r,error:s}=await J.from("user_quest_progress").insert({user_id:e,chapter_id:t,current_quest_id:n}).select().single();if(s)throw console.error("Error starting chapter:",s),s;const{activityFeedService:i}=await Bt(async()=>{const{activityFeedService:a}=await Promise.resolve().then(()=>Rs);return{activityFeedService:a}},void 0);return i.createActivity(e,"quest_join",{chapterId:t,questId:n}).catch(a=>console.error("Failed to create activity feed entry:",a)),{id:r.id,userId:r.user_id,chapterId:r.chapter_id,currentQuestId:r.current_quest_id||void 0,startedAt:r.started_at,completedAt:r.completed_at||void 0,createdAt:r.created_at,updatedAt:r.updated_at}},async updateObjectiveProgress(e,t,n,r,s,i,a){if(s===0){const{data:d}=await J.from("quest_progress_entries").select("value, notes").eq("user_id",e).eq("chapter_id",t).eq("quest_id",n).eq("quest_objective_id",r).maybeSingle(),{error:u}=await J.from("quest_progress_entries").delete().eq("user_id",e).eq("chapter_id",t).eq("quest_id",n).eq("quest_objective_id",r);if(u)throw console.error("Error deleting quest progress entry:",u),u;if(d){const{activityFeedService:f}=await Bt(async()=>{const{activityFeedService:h}=await Promise.resolve().then(()=>Rs);return{activityFeedService:h}},void 0);f.deleteActivityForQuestEntry(e,t,n,r,d.value,d.notes||null).catch(h=>console.error("Failed to delete activity feed entry:",h))}return}const l={user_id:e,chapter_id:t,quest_id:n,quest_objective_id:r,value:s,notes:(i==null?void 0:i.trim())||null,username:a||null},{error:c}=await J.from("quest_progress_entries").upsert(l,{onConflict:"user_id,chapter_id,quest_id,quest_objective_id"});if(c)throw console.error("Error upserting quest progress entry:",c),c;if(s>0){const{activityFeedService:d}=await Bt(async()=>{const{activityFeedService:u}=await Promise.resolve().then(()=>Rs);return{activityFeedService:u}},void 0);d.createActivity(e,"objective_progress",{chapterId:t,questId:n,questObjectiveId:r,metadata:{value:s,notes:(i==null?void 0:i.trim())||null}}).catch(u=>console.error("Failed to create activity feed entry:",u))}},async getObjectiveProgress(e,t){const{data:n,error:r}=await J.from("quest_progress_entries").select("value").eq("user_id",e).eq("quest_objective_id",t);return r?(console.error("Error fetching objective progress:",r),0):(n==null?void 0:n.reduce((s,i)=>s+(Number(i.value)||0),0))||0},async getQuestProgress(e,t){const{data:n,error:r}=await J.from("quest_progress_entries").select("quest_objective_id, value").eq("user_id",e).eq("quest_id",t);if(r)return console.error("Error fetching quest progress:",r),{};const s={};return n==null||n.forEach(i=>{const a=i.quest_objective_id;s[a]=(s[a]||0)+(Number(i.value)||0)}),s},async updateCurrentQuest(e,t,n){const{error:r}=await J.from("user_quest_progress").update({current_quest_id:n}).eq("user_id",e).eq("chapter_id",t);if(r)throw console.error("Error updating current quest:",r),r},async completeQuest(e,t,n,r){const s={current_quest_id:r||null};r||(s.completed_at=new Date().toISOString());const{error:i}=await J.from("user_quest_progress").update(s).eq("user_id",e).eq("chapter_id",t);if(i)throw console.error("Error completing quest:",i),i;const{activityFeedService:a}=await Bt(async()=>{const{activityFeedService:l}=await Promise.resolve().then(()=>Rs);return{activityFeedService:l}},void 0);a.createActivity(e,"quest_complete",{chapterId:t,questId:n,metadata:{nextQuestId:r||null}}).catch(l=>console.error("Failed to create activity feed entry:",l))},async resetChapterProgress(e,t){const{data:n}=await J.from("user_quest_progress").select("id, user_id, chapter_id").eq("user_id",e).eq("chapter_id",t).maybeSingle();n?console.log("Found user_quest_progress record to delete:",n):console.log("No user_quest_progress record found to delete");const{data:r,error:s}=await J.from("user_quest_progress").delete().eq("user_id",e).eq("chapter_id",t).select();if(s)throw console.error("Error deleting user chapter progress:",s),console.error("Error details:",{code:s.code,message:s.message,details:s.details,hint:s.hint}),new Error(`Failed to delete user_quest_progress: ${s.message} (Code: ${s.code})`);console.log(`Deleted ${(r==null?void 0:r.length)||0} user_quest_progress record(s)`,r);const{data:i,error:a}=await J.from("quest_progress_entries").delete().eq("user_id",e).eq("chapter_id",t).select();a?console.error("Error deleting quest progress entries:",a):console.log(`Deleted ${(i==null?void 0:i.length)||0} quest_progress_entries record(s)`);const{data:l,error:c}=await J.from("user_quest_progress").select("id").eq("user_id",e).eq("chapter_id",t).maybeSingle();if(c&&c.code!=="PGRST116"&&console.error("Error checking remaining progress:",c),l)throw console.error("ERROR: User chapter progress still exists after deletion!",l),new Error("Failed to delete user_quest_progress entry");const{data:d,error:u}=await J.from("quest_progress_entries").select("id").eq("user_id",e).eq("chapter_id",t).limit(1);u&&u.code!=="PGRST116"&&console.error("Error checking remaining entries:",u),d&&d.length>0&&console.warn("Warning: Some progress entries still exist after deletion:",d.length),console.log("Chapter progress reset completed successfully")},async resetQuestProgress(e,t,n){const{error:r}=await J.from("quest_progress_entries").delete().eq("user_id",e).eq("chapter_id",t).eq("quest_id",n);if(r)throw console.error("Error deleting quest progress entries:",r),new Error(`Failed to delete quest progress entries: ${r.message}`);console.log("Quest progress reset completed successfully")}},tg=Object.freeze(Object.defineProperty({__proto__:null,questService:Sn},Symbol.toStringTag,{value:"Module"}));function iX({objective:e,questId:t,questStepId:n,currentValue:r,onProgressUpdate:s,disabled:i=!1}){const{user:a}=Ct(),{toast:l}=un(),[c,d]=p.useState(!1),[u,f]=p.useState(""),[h,m]=p.useState(!1),v=e.isBinary??!1,g=e.targetValue||1,y=Math.min(100,r/g*100),x=v?r>=1:r>=g,b=e.unit||"";p.useEffect(()=>{c&&!v&&f("")},[c,v]);const C=async()=>{if(!a)return;const D=x?0:1;try{m(!0);const{questService:k}=await Bt(async()=>{const{questService:S}=await Promise.resolve().then(()=>tg);return{questService:S}},void 0);await k.updateObjectiveProgress(a.id,t,n,e.id,D,void 0,a.name),s()}catch(k){console.error("Error updating quest progress:",k),l({title:"Fehler",description:"Fehler beim Speichern des Fortschritts.",variant:"destructive"})}finally{m(!1)}},_=async D=>{if(D.preventDefault(),!a)return;const k=parseFloat(u);if(isNaN(k)||k<0){l({title:"Fehler",description:"Bitte gib einen gltigen Wert ein.",variant:"destructive"});return}const S=r+k,N=Math.min(S,g);try{m(!0);const{questService:O}=await Bt(async()=>{const{questService:I}=await Promise.resolve().then(()=>tg);return{questService:I}},void 0);await O.updateObjectiveProgress(a.id,t,n,e.id,N,void 0,a.name),d(!1),f(""),s()}catch(O){console.error("Error updating quest progress:",O),l({title:"Fehler",description:"Fehler beim Speichern des Fortschritts.",variant:"destructive"})}finally{m(!1)}},w=async()=>{if(a)try{m(!0);const{questService:D}=await Bt(async()=>{const{questService:k}=await Promise.resolve().then(()=>tg);return{questService:k}},void 0);await D.updateObjectiveProgress(a.id,t,n,e.id,g,void 0,a.name),d(!1),f(""),s()}catch(D){console.error("Error updating quest progress:",D),l({title:"Fehler",description:"Fehler beim Speichern des Fortschritts.",variant:"destructive"})}finally{m(!1)}};return o.jsxs(Xe,{className:"w-full",children:[o.jsx(Yt,{className:"p-3",children:o.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-3 items-start",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Gt,{className:"text-base font-semibold",children:e.title}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),!i&&o.jsx("div",{className:"flex items-center gap-2",children:x?o.jsx(ki,{className:"h-5 w-5 text-green-500 flex-shrink-0"}):o.jsx(o.Fragment,{children:v?o.jsx(de,{variant:"default",size:"sm",className:"flex-shrink-0",onClick:C,disabled:h,children:h?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Speichern..."]}):"Abgeschlossen!"}):o.jsxs(cr,{open:c,onOpenChange:d,children:[o.jsx(xc,{asChild:!0,children:o.jsx(de,{variant:"default",size:"sm",className:"h-8 w-8 p-0 flex-shrink-0",title:"Fortschritt hinzufgen",children:o.jsx(Lu,{className:"h-4 w-4"})})}),o.jsx(Wn,{className:"sm:max-w-[425px]",children:o.jsxs("form",{onSubmit:_,children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:"Fortschritt hinzufgen"}),o.jsxs(Cr,{children:["Aktueller Fortschritt: ",r.toLocaleString()," / ",g.toLocaleString()," ",b]})]}),o.jsx("div",{className:"grid gap-4 py-4",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(De,{htmlFor:"progress-value",children:"Wie viel mchtest du hinzufgen?"}),o.jsx(Ge,{id:"progress-value",type:"number",min:"0",value:u,onChange:D=>f(D.target.value),placeholder:`Wert in ${b} eingeben`,disabled:h}),u&&!isNaN(parseFloat(u))&&parseFloat(u)>=0&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Neuer Fortschritt: ",Math.min(r+parseFloat(u),g).toLocaleString()," / ",g.toLocaleString()," ",b,r+parseFloat(u)>g&&o.jsx("span",{className:"text-amber-600 dark:text-amber-400 ml-1",children:"(wird auf Maximum begrenzt)"})]})]})}),o.jsxs(Wr,{className:"flex-col sm:flex-row gap-2",children:[r<g&&o.jsx(de,{type:"button",variant:"outline",onClick:w,disabled:h,className:"w-full sm:w-auto",children:h?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Speichern..."]}):"Vollstndig abschlieen"}),o.jsx(de,{type:"submit",disabled:h,className:"w-full sm:w-auto",children:h?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Speichern..."]}):"Fortschritt speichern"})]})]})})]})})})]})}),!v&&o.jsx(bt,{className:"space-y-3 px-3 pb-3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[o.jsx($4,{className:"h-4 w-4"}),"Fortschritt"]}),o.jsxs("span",{className:"font-medium",children:[r.toLocaleString()," / ",g.toLocaleString()," ",b]})]}),o.jsx(Hl,{value:y,className:"h-2"})]})})]})}function aX(){const{user:e,isLoading:t}=Ct(),{toast:n}=un(),r=wn();if(p.useEffect(()=>{!t&&!e&&r("/",{replace:!0})},[e,t,r]),t||!e)return null;const[s,i]=p.useState(null),[a,l]=p.useState(null),[c,d]=p.useState(0),[u,f]=p.useState({}),[h,m]=p.useState({}),[v,g]=p.useState(!0),[y,x]=p.useState(!1),[b,C]=p.useState(!1);p.useEffect(()=>{(async()=>{try{g(!0);const j=await Sn.getChapterByNumber(1);if(!j){n({title:"Fehler",description:"Kapitel konnte nicht geladen werden.",variant:"destructive"});return}if(i(j),e){const M=await Sn.getUserChapterProgress(e.id,j.id);if(M){l(M);const U=j.quests.findIndex(z=>z.id===M.currentQuestId),V=U>=0?U:0;if(d(V),j.quests.length>0){const z=j.quests[V],B=await Sn.getQuestProgress(e.id,z.id);f(B);const q={};for(const W of j.quests){const G=await Sn.getQuestProgress(e.id,W.id);q[W.id]=G}m(q)}}else l(null),d(0),f({})}else d(0),f({});C(!0)}catch(j){console.error("Error loading chapter:",j),n({title:"Fehler",description:"Fehler beim Laden des Kapitels.",variant:"destructive"}),C(!0)}finally{g(!1)}})()},[e,n]),p.useEffect(()=>{b&&!v&&window.scrollTo({top:0,behavior:"smooth"})},[c,b,v]);const _=a!==null,w=s==null?void 0:s.quests[c],D=(a==null?void 0:a.completedAt)!==void 0,k=_&&w&&w.objectives.length>0?w.objectives.every(T=>{const j=u[T.id]||0;return T.isBinary?j>=1:j>=(T.targetValue||1)}):!1;p.useEffect(()=>{k&&b&&!v&&window.scrollTo({top:0,behavior:"smooth"})},[k,b,v]);const S=s&&c<s.quests.length-1,N=c>0,O=T=>{if(!s||T<0||T>=s.quests.length)return!1;const j=s.quests[T];if(j.objectives.length===0)return!1;const M=h[j.id]||{};return j.objectives.every(U=>{const V=M[U.id]||0;return U.isBinary?V>=1:V>=(U.targetValue||1)})},I=T=>{if(T===0)return!0;if(!s)return!1;for(let j=0;j<T;j++)if(!O(j))return!1;return!0},$=async()=>{if(!(!e||!s||s.quests.length===0))try{x(!0);const T=s.quests[0],j=await Sn.startChapter(e.id,s.id,T.id);l(j),d(0),f({})}catch(T){console.error("Error starting chapter:",T),n({title:"Fehler",description:"Fehler beim Starten des Kapitels.",variant:"destructive"})}finally{x(!1)}},F=async()=>{if(!(!e||!s||!w))try{const T=await Sn.getQuestProgress(e.id,w.id);f(T),m(j=>({...j,[w.id]:T}))}catch(T){console.error("Error refreshing progress:",T)}},E=async()=>{if(!e||!s||!w)return;if(!w.objectives.every(j=>{const M=u[j.id]||0;return j.isBinary?M>=1:M>=(j.targetValue||1)})){n({title:"Aufgaben nicht erfllt",description:"Bitte vervollstndige alle Aufgaben, bevor du die Quest abschliet.",variant:"destructive"});return}try{x(!0);const j=c+1,M=s.quests[j];await Sn.completeQuest(e.id,s.id,w.id,(M==null?void 0:M.id)||null),M||l(U=>U?{...U,completedAt:new Date().toISOString()}:null)}catch(j){console.error("Error completing quest:",j),n({title:"Fehler",description:"Fehler beim Abschlieen der Quest.",variant:"destructive"})}finally{x(!1)}},L=async()=>{if(!(!e||!s||!S))try{x(!0),C(!1);const T=c+1,j=s.quests[T];a&&await Sn.updateCurrentQuest(e.id,s.id,j.id),d(T);const M=await Sn.getQuestProgress(e.id,j.id);f(M),l(U=>U?{...U,currentQuestId:j.id}:null),C(!0)}catch(T){console.error("Error moving to next quest:",T),n({title:"Fehler",description:"Fehler beim Wechseln zur nchsten Quest.",variant:"destructive"}),C(!0)}finally{x(!1)}},A=async T=>{if(!(!e||!s||T<0||T>=s.quests.length)&&T!==c){if(!I(T)){n({title:"Quest nicht verfgbar",description:"Du musst die vorherigen Quests abschlieen, um diese Quest zu ffnen.",variant:"destructive"});return}try{x(!0),C(!1);const j=s.quests[T];a&&await Sn.updateCurrentQuest(e.id,s.id,j.id),d(T);const M=await Sn.getQuestProgress(e.id,j.id);f(M),a&&l(U=>U?{...U,currentQuestId:j.id}:null),C(!0)}catch(j){console.error("Error navigating to quest:",j),n({title:"Fehler",description:"Fehler beim Wechseln zur Quest.",variant:"destructive"}),C(!0)}finally{x(!1)}}},P=async()=>{if(!(!e||!s||!w)&&confirm("Mchtest du wirklich den Fortschritt dieser Quest zurcksetzen? Alle Fortschritte werden gelscht."))try{x(!0),await Sn.resetQuestProgress(e.id,s.id,w.id);const T=await Sn.getQuestProgress(e.id,w.id);f(T),n({title:"Erfolg",description:"Quest-Fortschritt wurde zurckgesetzt."})}catch(T){console.error("Error resetting quest progress:",T),n({title:"Fehler",description:"Fehler beim Zurcksetzen des Quest-Fortschritts.",variant:"destructive"})}finally{x(!1)}},R=async()=>{if(!(!e||!s)&&confirm("Mchtest du wirklich den gesamten Kapitel-Fortschritt zurcksetzen?"))try{x(!0),await Sn.resetChapterProgress(e.id,s.id),l(null),d(0),f({});const T=await Sn.getChapterByNumber(1);T&&i(T),n({title:"Erfolg",description:"Kapitel-Fortschritt wurde zurckgesetzt."})}catch(T){console.error("Error resetting chapter progress:",T),n({title:"Fehler",description:"Fehler beim Zurcksetzen des Kapitel-Fortschritts.",variant:"destructive"})}finally{x(!1)}};return v||!b||!s?o.jsxs("div",{className:"container py-8 max-w-5xl",children:[o.jsx("div",{className:"mb-8 pb-4 border-b border-border/50",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-1.5 rounded-md bg-muted animate-pulse",children:o.jsx(uf,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 w-32 bg-muted rounded animate-pulse"}),o.jsx("div",{className:"h-4 w-48 bg-muted rounded animate-pulse"})]})]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[o.jsx(qt,{className:"h-8 w-8 animate-spin text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Kapitel wird geladen..."})]})]}):(s.chapterNumber&&`${s.chapterNumber===1?"I":s.chapterNumber===2?"II":s.chapterNumber}`,o.jsxs("div",{className:"container py-8 max-w-5xl",children:[o.jsxs("div",{className:"pb-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[o.jsx("div",{className:"p-1.5 rounded-md bg-muted flex-shrink-0",children:o.jsx(uf,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"text-sm font-medium text-foreground break-words",children:[s.chapterNumber?`Kapitel ${s.chapterNumber}`:"Kapitel"," - ",s.title]}),_&&w&&o.jsxs("div",{className:"text-sm text-muted-foreground mt-1 break-words",children:["Quest ",w.questNumber," - ",w.title]})]})]}),e&&_&&o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 self-start sm:self-center",children:[w&&o.jsx(de,{variant:"ghost",size:"sm",onClick:P,disabled:y,className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",title:"Quest-Fortschritt zurcksetzen",children:o.jsx(qf,{className:"h-4 w-4"})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:R,disabled:y,className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",title:"Kapitel-Fortschritt zurcksetzen",children:o.jsx(qf,{className:"h-4 w-4"})})]})]}),_&&s.quests.length>1&&o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>A(c-1),disabled:!N||y,className:"h-8 w-8 p-0 flex-shrink-0",children:y?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):o.jsx(h0,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex items-center gap-2 flex-1 justify-center overflow-x-auto min-w-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:s.quests.map((T,j)=>{const M=j===c,U=O(j),V=I(j);return o.jsx("button",{onClick:()=>A(j),disabled:y||!V,className:`
                      flex items-center justify-center min-w-[2rem] h-8 px-2 rounded-md text-sm font-medium flex-shrink-0
                      transition-colors
                      ${M?"bg-primary text-primary-foreground":U?"bg-green-500/20 text-green-600 dark:text-green-400 hover:bg-green-500/30":V?"bg-muted text-muted-foreground hover:bg-muted/80":"bg-muted/50 text-muted-foreground/50 opacity-50 cursor-not-allowed"}
                      ${y?"opacity-50 cursor-not-allowed":V?"cursor-pointer":"cursor-not-allowed"}
                    `,title:V?T.title:`${T.title} (Nicht verfgbar - schliee zuerst die vorherigen Quests ab)`,children:y&&M?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):U?o.jsx(ii,{className:"h-4 w-4"}):j+1},T.id)})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>A(c+1),disabled:!S||y,className:"h-8 w-8 p-0 flex-shrink-0",children:y?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):o.jsx(Uh,{className:"h-4 w-4"})})]})]}),!_&&b&&!a?o.jsxs(o.Fragment,{children:[s.imageUrl&&o.jsx("div",{className:"mb-8 rounded-lg overflow-hidden",children:o.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-auto object-cover"})}),s.introText&&o.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:o.jsx("div",{className:"relative pl-4 border-l-2 border-muted/50 mb-6",children:o.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:s.introText})})}),s.description&&o.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-8",children:o.jsx("p",{className:"text-foreground leading-relaxed",children:s.description})}),o.jsx("div",{className:"flex justify-center mt-8 pt-6 border-t border-border/50",children:o.jsxs(de,{size:"lg",className:"gap-2",onClick:$,disabled:!e||y,children:[y?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):o.jsx(Y4,{className:"h-4 w-4"}),"Geh los!"]})})]}):o.jsx(o.Fragment,{children:w&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:`grid gap-6 mb-6 md:items-stretch ${s.imageUrl&&c===0||w!=null&&w.imageUrl?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[s.imageUrl&&c===0||w!=null&&w.imageUrl?o.jsxs("div",{className:"order-1 md:order-2",children:[o.jsx("div",{className:"flex items-center justify-center rounded-lg overflow-hidden",children:o.jsx("img",{src:(w==null?void 0:w.imageUrl)||s.imageUrl,alt:(w==null?void 0:w.title)||s.title,className:"w-full h-auto object-cover rounded-lg"})}),k&&o.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-green-500/10 border border-green-500/20 mt-2",children:[o.jsx(ii,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),o.jsx("div",{children:o.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Quest abgeschlossen!"})})]})]}):null,o.jsx(Xe,{className:"flex flex-col border-0 order-2 md:order-1",children:o.jsxs(bt,{className:"space-y-4 p-3 md:p-6 pt-3 md:pt-6",children:[k?o.jsxs("div",{className:"space-y-2 pt-2",children:[!(w!=null&&w.imageUrl)&&!(s.imageUrl&&c===0)&&!w.completionImageUrl&&o.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-green-500/10 border border-green-500/20 mb-2",children:[o.jsx(ii,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),o.jsx("div",{children:o.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Quest abgeschlossen!"})})]}),w.completionText&&o.jsxs("div",{className:`grid gap-3 mb-4 ${w.completionImageUrl?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[w.completionImageUrl&&o.jsxs("div",{className:"order-1 md:order-2",children:[o.jsx("div",{className:"flex items-center justify-center rounded-lg overflow-hidden",children:o.jsx("img",{src:w.completionImageUrl,alt:"Completion",className:"w-full h-auto object-cover rounded-lg"})}),!(w!=null&&w.imageUrl)&&!(s.imageUrl&&c===0)&&o.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-green-500/10 border border-green-500/20 mt-2",children:[o.jsx(ii,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),o.jsx("div",{children:o.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Quest abgeschlossen!"})})]})]}),o.jsxs("div",{className:"space-y-4 order-2 md:order-1",children:[o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:w.completionText})}),S&&o.jsx("div",{className:"pt-2",children:o.jsx(de,{onClick:L,disabled:y,className:"w-full gap-2",size:"lg",children:y?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):o.jsxs(o.Fragment,{children:["Weiter zur nchsten Quest",o.jsx(Pb,{className:"h-4 w-4"})]})})}),!S&&w.questNumber===10&&o.jsx("div",{className:"pt-4 mt-4 border-t border-border/50",children:o.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[o.jsx(uf,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-600 dark:text-blue-400 mb-1",children:"Kapitel abgeschlossen!"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Neue Kapitel werden in Zukunft hinzugefgt. Bleib dran  du wirst etwas Wichtiges entdecken..."})]})]})})]})]}),!w.completionText&&S&&o.jsx("div",{className:"pt-2",children:o.jsx(de,{onClick:L,disabled:y,className:"w-full gap-2",size:"lg",children:y?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):o.jsxs(o.Fragment,{children:["Weiter zur nchsten Quest",o.jsx(Pb,{className:"h-4 w-4"})]})})})]}):o.jsxs(o.Fragment,{children:[w.description&&o.jsx("div",{className:"space-y-2 pt-2",children:o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-line",children:w.description})})}),w.objectives.length>0&&!k&&o.jsxs("div",{className:"space-y-4 pt-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Aufgaben:"}),o.jsx("div",{className:"space-y-3",children:w.objectives.map(T=>{const j=u[T.id]||0;return o.jsx(iX,{objective:T,questId:s.id,questStepId:w.id,currentValue:j,onProgressUpdate:F,disabled:D},T.id)})})]}),!k&&w.objectives.length>0&&w.objectives.every(T=>{const j=u[T.id]||0;return T.isBinary?j>=1:j>=(T.targetValue||1)})&&o.jsxs("div",{className:"pt-4 space-y-4 border-t border-border/50",children:[o.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[o.jsx(ii,{className:"h-5 w-5 text-green-500"}),o.jsx("div",{children:o.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Quest abgeschlossen!"})})]}),o.jsxs(de,{onClick:E,disabled:y,className:"w-full gap-2",size:"lg",children:[y?o.jsx(qt,{className:"h-4 w-4 animate-spin"}):o.jsx(ii,{className:"h-4 w-4"}),"Quest abschlieen"]})]})]}),D&&!S&&o.jsx("div",{className:"pt-4 space-y-4 border-t border-border/50",children:o.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[o.jsx(ii,{className:"h-5 w-5 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Kapitel abgeschlossen!"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Du hast das Kapitel erfolgreich abgeschlossen."})]})]})})]})})]})})})]}))}function oX(){console.log("StravaActivities component rendering");const{user:e}=Ct(),{language:t}=gt(),{t:n}=pt(t),{toast:r}=un(),[s,i]=p.useState([]),[a,l]=p.useState(!1),[c,d]=p.useState(30),u=C=>C>=1e3?`${(C/1e3).toFixed(1)} km`:`${C.toFixed(0)} m`,f=C=>{const _=Math.floor(C/3600),w=Math.floor(C%3600/60);return _>0?`${_}h ${w}m`:`${w}m`},h=C=>`${(C*3.6).toFixed(1)} km/h`,m=C=>new Date(C).toLocaleDateString(t==="de"?"de-DE":"en-US",{year:"numeric",month:"short",day:"numeric"}),v=C=>{switch(C.toLowerCase()){case"run":case"running":return"";case"ride":case"cycling":return"";case"walk":case"walking":return"";case"swim":case"swimming":return"";case"hike":case"hiking":return"";case"yoga":return"";case"weighttraining":return"";default:return""}},g=async()=>{if(e)try{l(!0);const C=await Da.getRecentActivities(e.id,c);i(C),r({title:n("activitiesLoaded"),description:n("activitiesLoadedDescription").replace("{count}",C.length.toString()).replace("{days}",c.toString())})}catch(C){console.error("Error loading activities:",C),r({title:n("error"),description:C instanceof Error?C.message:n("activitiesLoadFailedDescription"),variant:"destructive"})}finally{l(!1)}},y=s.reduce((C,_)=>C+_.distance,0),x=s.reduce((C,_)=>C+_.moving_time,0),b=s.reduce((C,_)=>C+_.total_elevation_gain,0);return o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsxs(Gt,{className:"flex items-center gap-2",children:[o.jsx(yk,{className:"h-5 w-5"}),n("stravaActivities")]}),o.jsx(gn,{children:n("stravaActivitiesDescription")})]}),o.jsxs(bt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"days",className:"text-sm font-medium",children:n("lastDays")}),o.jsxs("select",{id:"days",value:c,onChange:C=>d(Number(C.target.value)),className:"rounded border px-2 py-1 text-sm",children:[o.jsxs("option",{value:7,children:["7 ",n("days")]}),o.jsxs("option",{value:14,children:["14 ",n("days")]}),o.jsxs("option",{value:30,children:["30 ",n("days")]}),o.jsxs("option",{value:60,children:["60 ",n("days")]}),o.jsxs("option",{value:90,children:["90 ",n("days")]})]})]}),o.jsxs(de,{onClick:g,disabled:a,children:[a&&o.jsx(qt,{className:"h-4 w-4 animate-spin"}),n(a?"loadingActivities":"loadActivities")]})]}),a&&s.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[o.jsx(qt,{className:"h-8 w-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n("loadingActivities")})]}),!a&&s.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 rounded-lg bg-muted p-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:u(y)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n("totalDistance")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold",children:f(x)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n("totalTime")})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(b),"m"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n("elevationGain")})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-medium",children:[n("activities")," (",s.length,")"]}),s.map(C=>o.jsx(Xe,{className:"border-l-4 border-l-orange-500",children:o.jsxs(bt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:v(C.type)}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:C.name}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(mi,{className:"h-3 w-3"}),m(C.start_date_local)]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(O4,{className:"h-3 w-3"}),f(C.moving_time)]}),C.location_city&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(H4,{className:"h-3 w-3"}),C.location_city]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-medium",children:u(C.distance)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:h(C.average_speed)})]})]}),o.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[o.jsx(an,{variant:"secondary",className:"text-xs",children:C.type}),C.total_elevation_gain>0&&o.jsxs(an,{variant:"outline",className:"text-xs",children:[o.jsx(_k,{className:"mr-1 h-3 w-3"}),Math.round(C.total_elevation_gain),"m"]}),C.calories&&o.jsxs(an,{variant:"outline",className:"text-xs",children:[o.jsx(Z4,{className:"mr-1 h-3 w-3"}),C.calories," cal"]}),C.kudos_count>0&&o.jsxs(an,{variant:"outline",className:"text-xs",children:[" ",C.kudos_count]})]})]})},C.id))]})]})]})]})}const lX=Fu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Nl=p.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ge(lX({variant:t}),e),...n}));Nl.displayName="Alert";const dy=p.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));dy.displayName="AlertTitle";const Tl=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));Tl.displayName="AlertDescription";function cX(){const{user:e}=Ct(),{language:t}=gt(),{t:n}=pt(t),{toast:r}=un(),[s,i]=p.useState(null),[a,l]=p.useState(null),[c,d]=p.useState(!0),[u,f]=p.useState(!1),[h,m]=p.useState(!1),[v,g]=p.useState(!1),y=p.useCallback(async()=>{if(e)try{d(!0);const D=await Da.getConnection(e.id);i(D)}catch(D){console.error("Error loading Strava connection:",D),r({title:n("error"),description:n("profileImportFailed"),variant:"destructive"})}finally{d(!1)}},[e,n,r]);p.useEffect(()=>{e&&y()},[e,y]);const x=async()=>{if(e)try{f(!0);const D=await Da.getAuthorizationUrl(e.id);window.location.href=D}catch(D){console.error("Error initiating Strava connection:",D),r({title:n("error"),description:D instanceof Error?D.message:n("profileImportFailed"),variant:"destructive"}),f(!1)}},b=async()=>{if(!(!e||!s))try{m(!0);const D=await Da.importProfile(e.id);l(D),r({title:n("success"),description:n("profileImportedSuccessfully")})}catch(D){console.error("Error importing profile:",D),r({title:n("error"),description:D instanceof Error?D.message:n("profileImportFailed"),variant:"destructive"})}finally{m(!1)}},C=async()=>{if(e)try{g(!0),await Da.disconnect(e.id),i(null),l(null),r({title:n("success"),description:n("stravaAccountDisconnected")})}catch(D){console.error("Error disconnecting Strava:",D),r({title:n("error"),description:n("stravaDisconnectFailed"),variant:"destructive"})}finally{g(!1)}},w=(()=>{if(!s)return{status:"disconnected",color:"gray"};const D=new Date(s.expiresAt).getTime(),k=Date.now(),S=5*60*1e3;return k>=D-S?{status:"expired",color:"red"}:{status:"connected",color:"green"}})();return c?o.jsx(Xe,{children:o.jsxs(bt,{className:"flex items-center justify-center py-8",children:[o.jsx(qt,{className:"h-6 w-6 animate-spin"}),o.jsx("span",{className:"ml-2",children:n("loadingStravaConnection")})]})}):o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsxs(Gt,{className:"flex items-center gap-2",children:[o.jsx(yk,{className:"h-5 w-5"}),n("stravaConnection")]}),o.jsx(gn,{children:n("stravaConnectionDescription")})]}),o.jsx(bt,{className:"space-y-4",children:s?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(an,{variant:w.color==="green"?"default":"destructive",children:[w.status==="connected"&&o.jsx(ki,{className:"mr-1 h-3 w-3"}),w.status==="expired"&&o.jsx(tv,{className:"mr-1 h-3 w-3"}),w.status==="connected"?n("connected"):n("expired")]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[n("stravaAthleteId"),": ",s.stravaAthleteId]})]})}),a&&o.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{children:o.jsxs("div",{className:"font-medium",children:[a.firstname," ",a.lastname]})}),a.city&&o.jsxs("div",{children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("location"),":"]}),o.jsxs("div",{className:"font-medium",children:[a.city,a.state&&`, ${a.state}`]})]}),a.country&&o.jsxs("div",{children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("location"),":"]}),o.jsx("div",{className:"font-medium",children:a.country})]}),a.bio&&o.jsxs("div",{className:"col-span-2",children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("location"),":"]}),o.jsx("div",{className:"font-medium",children:a.bio})]})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(de,{onClick:b,disabled:h,variant:"outline",className:"flex-1",children:h?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),n("importingProfile")]}):o.jsxs(o.Fragment,{children:[o.jsx(G4,{className:"mr-2 h-4 w-4"}),n("importProfile")]})}),o.jsx(de,{onClick:C,disabled:v,variant:"destructive",className:"flex-1",children:v?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),n("disconnecting")]}):o.jsxs(o.Fragment,{children:[o.jsx(X4,{className:"mr-2 h-4 w-4"}),n("disconnect")]})})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Nl,{children:[o.jsx(tv,{className:"h-4 w-4"}),o.jsx(Tl,{children:n("connectStravaAccount")})]}),o.jsx(de,{onClick:x,disabled:u,className:"w-full",children:u?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),n("connecting")]}):o.jsxs(o.Fragment,{children:[o.jsx(L4,{className:"mr-2 h-4 w-4"}),n("connectToStrava")]})})]})})]})}const Yd=[{type:"5k",translationKey:"achievement5k",isTimeBased:!0},{type:"10k",translationKey:"achievement10k",isTimeBased:!0},{type:"half_marathon",translationKey:"achievementHalfMarathon",isTimeBased:!0},{type:"marathon",translationKey:"achievementMarathon",isTimeBased:!0},{type:"olympic_triathlon",translationKey:"achievementOlympicTriathlon",isTimeBased:!0},{type:"longest_run",translationKey:"achievementLongestRun",isTimeBased:!1},{type:"longest_bike_ride",translationKey:"achievementLongestBikeRide",isTimeBased:!1}];function uX(){var $,F;const{user:e}=Ct(),{language:t}=gt(),{t:n}=pt(t),{toast:r}=un(),[s,i]=p.useState([]),[a,l]=p.useState(!1),[c,d]=p.useState(null),[u,f]=p.useState(!1),[h,m]=p.useState(!1),[v,g]=p.useState(null),[y,x]=p.useState({achievementType:"5k",timeHours:"",timeMinutes:"",timeSeconds:"",distance:"",achievementDate:"",notes:""}),b=async()=>{if(e)try{l(!0);const{data:E,error:L}=await J.from("personal_bests").select("*").eq("user_id",e.id).order("achievement_type");if(L)throw L;const A=(E||[]).map(P=>({id:P.id,userId:P.user_id,achievementType:P.achievement_type,timeSeconds:P.time_seconds,distanceMeters:P.distance_meters,achievementDate:P.achievement_date,notes:P.notes,createdAt:P.created_at,updatedAt:P.updated_at}));i(A)}catch(E){console.error("Error loading personal bests:",E),r({title:n("error"),description:n("failedToLoadPersonalBests"),variant:"destructive"})}finally{l(!1)}};p.useEffect(()=>{e&&b()},[e]);const C=E=>{const L=Math.floor(E/3600),A=Math.floor(E%3600/60),P=E%60;return L>0?`${L}h ${A}m ${P}s`:A>0?`${A}m ${P}s`:`${P}s`},_=E=>E>=1e3?`${(E/1e3).toFixed(2)} km`:`${E.toFixed(0)} m`,w=(E,L,A)=>{const P=parseInt(E||"0",10),R=parseInt(L||"0",10),T=parseInt(A||"0",10);return P*3600+R*60+T},D=E=>{if(!E)return{hours:"",minutes:"",seconds:""};const L=Math.floor(E/3600),A=Math.floor(E%3600/60),P=E%60;return{hours:L>0?L.toString():"",minutes:A>0?A.toString():"",seconds:P>0?P.toString():""}},k=(E,L)=>{if(E){d(E);const A=D(E.timeSeconds);x({achievementType:E.achievementType,timeHours:A.hours,timeMinutes:A.minutes,timeSeconds:A.seconds,distance:E.distanceMeters?(E.distanceMeters/1e3).toFixed(2):"",achievementDate:E.achievementDate||"",notes:E.notes||""})}else d(null),x({achievementType:L||"5k",timeHours:"",timeMinutes:"",timeSeconds:"",distance:"",achievementDate:"",notes:""});f(!0)},S=async()=>{if(!e)return;const E=y.achievementType,L=Yd.find(A=>A.type===E);if(L)try{const A=L.isTimeBased?w(y.timeHours,y.timeMinutes,y.timeSeconds):void 0,P=L.isTimeBased?void 0:parseFloat(y.distance)*1e3;if(L.isTimeBased&&(!A||A<=0)){r({title:n("error"),description:n("pleaseEnterValidTime"),variant:"destructive"});return}if(!L.isTimeBased&&(!P||P<=0)){r({title:n("error"),description:n("pleaseEnterValidDistance"),variant:"destructive"});return}const R={user_id:e.id,achievement_type:E,time_seconds:A||null,distance_meters:P||null,achievement_date:y.achievementDate||null,notes:y.notes||null};if(c){const{error:T}=await J.from("personal_bests").update(R).eq("id",c.id);if(T)throw T;r({title:n("success"),description:n("personalBestUpdated")})}else{const{error:T}=await J.from("personal_bests").insert(R);if(T)throw T;r({title:n("success"),description:n("personalBestAdded")})}f(!1),b()}catch(A){console.error("Error saving personal best:",A),r({title:n("error"),description:n("failedToSavePersonalBest"),variant:"destructive"})}},N=E=>{g(E),m(!0)},O=async()=>{if(v)try{const{error:E}=await J.from("personal_bests").delete().eq("id",v);if(E)throw E;r({title:n("success"),description:n("personalBestDeleted")}),m(!1),g(null),b()}catch(E){console.error("Error deleting personal best:",E),r({title:n("error"),description:n("failedToDeletePersonalBest"),variant:"destructive"})}},I=E=>s.find(L=>L.achievementType===E);return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2",children:Yd.map(E=>{const L=I(E.type);return o.jsx(Xe,{className:`${L?"border-l-4 border-l-yellow-500":""} transition-shadow hover:shadow-md`,children:o.jsx(bt,{className:"p-4 sm:p-5",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[o.jsx(er,{className:`h-4 w-4 shrink-0 ${L?"text-yellow-500":"text-muted-foreground"}`}),o.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:n(E.translationKey)})]}),L?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold mb-1 sm:mb-2 break-words",children:E.isTimeBased?C(L.timeSeconds||0):_(L.distanceMeters||0)}),L.achievementDate&&o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:new Date(L.achievementDate).toLocaleDateString(t==="de"?"de-DE":"en-US",{year:"numeric",month:"short",day:"numeric"})}),L.notes&&o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2 break-words",children:L.notes})]}):o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:n("notSet")})]}),o.jsx("div",{className:"flex gap-1 shrink-0",children:L?o.jsxs(o.Fragment,{children:[o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>k(L),className:"h-9 w-9 p-0 touch-manipulation","aria-label":n("edit"),children:o.jsx(K4,{className:"h-4 w-4"})}),o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>N(L.id),className:"h-9 w-9 p-0 touch-manipulation text-destructive hover:text-destructive","aria-label":n("delete"),children:o.jsx(jk,{className:"h-4 w-4"})})]}):o.jsx(de,{variant:"ghost",size:"sm",onClick:()=>k(void 0,E.type),className:"h-9 w-9 p-0 touch-manipulation","aria-label":n("addPersonalBest"),children:o.jsx(Lu,{className:"h-4 w-4"})})})]})})},E.type)})}),o.jsx(cr,{open:u,onOpenChange:f,children:o.jsxs(Wn,{className:"max-w-md max-h-[90vh] overflow-y-auto sm:max-h-[85vh]",children:[o.jsx(Hn,{children:o.jsx(qn,{className:"text-lg sm:text-xl",children:c?n("editPersonalBest"):`${n("addPersonalBest")} - ${n((($=Yd.find(E=>E.type===y.achievementType))==null?void 0:$.translationKey)||"achievement5k")}`})}),o.jsxs("div",{className:"space-y-4 py-2",children:[(F=Yd.find(E=>E.type===y.achievementType))!=null&&F.isTimeBased?o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{className:"text-sm font-medium",children:n("time")}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"hours",className:"text-xs text-muted-foreground",children:n("hours")}),o.jsx(Ge,{id:"hours",type:"number",min:"0",placeholder:"0",value:y.timeHours,onChange:E=>x({...y,timeHours:E.target.value}),className:"h-10 text-base sm:text-sm"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"minutes",className:"text-xs text-muted-foreground",children:n("minutes")}),o.jsx(Ge,{id:"minutes",type:"number",min:"0",max:"59",placeholder:"0",value:y.timeMinutes,onChange:E=>x({...y,timeMinutes:E.target.value}),className:"h-10 text-base sm:text-sm"})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(De,{htmlFor:"seconds",className:"text-xs text-muted-foreground",children:n("seconds")}),o.jsx(Ge,{id:"seconds",type:"number",min:"0",max:"59",placeholder:"0",value:y.timeSeconds,onChange:E=>x({...y,timeSeconds:E.target.value}),className:"h-10 text-base sm:text-sm"})]})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(De,{className:"text-sm font-medium",children:[n("distance")," (km)"]}),o.jsx(Ge,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:y.distance,onChange:E=>x({...y,distance:E.target.value}),className:"h-10 text-base sm:text-sm"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"date",className:"text-sm font-medium",children:n("dateOptional")}),o.jsx(Ge,{id:"date",type:"date",value:y.achievementDate,onChange:E=>x({...y,achievementDate:E.target.value}),className:"h-10 text-base sm:text-sm"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"notes",className:"text-sm font-medium",children:n("notesOptional")}),o.jsx(dr,{id:"notes",placeholder:n("addNotesAboutAchievement"),value:y.notes,onChange:E=>x({...y,notes:E.target.value}),className:"min-h-[80px] text-base sm:text-sm resize-none",rows:3})]}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2 pt-2",children:[o.jsx(de,{variant:"outline",onClick:()=>f(!1),className:"w-full sm:w-auto h-10",children:n("cancel")}),o.jsx(de,{onClick:S,className:"w-full sm:w-auto h-10",children:n("save")})]})]})]})}),o.jsx(xu,{open:h,onOpenChange:m,children:o.jsxs(vl,{className:"max-w-sm sm:max-w-md",children:[o.jsxs(yl,{children:[o.jsx(xl,{className:"text-base sm:text-lg",children:n("delete")}),o.jsx(bl,{className:"text-sm",children:n("confirmDelete")})]}),o.jsxs(wl,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[o.jsx(Sl,{className:"w-full sm:w-auto m-0 h-10",children:n("cancel")}),o.jsx(Cl,{onClick:O,className:"w-full sm:w-auto h-10 bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("delete")})]})]})})]})}function dX(){const{user:e}=Ct(),{language:t}=gt(),{t:n}=pt(t),{toast:r}=un(),[s,i]=p.useState(!1);if(!e)return null;const a=e.id,l=`${window.location.origin}/signup?ref=${a}`,c=async()=>{try{await navigator.clipboard.writeText(l),i(!0),r({title:n("inviteLinkCopied")||"Link copied!",description:n("inviteLinkCopiedDescription")||"The invite link has been copied to your clipboard"}),setTimeout(()=>i(!1),2e3)}catch(u){console.error("Failed to copy:",u),r({title:n("error")||"Error",description:n("failedToCopyLink")||"Failed to copy link. Please try again.",variant:"destructive"})}},d=async()=>{if(navigator.share)try{await navigator.share({title:n("inviteFriendsTitle")||"Join me on Saiko!",text:n("inviteFriendsMessage")||"Join me on Saiko and let's take on challenges together!",url:l})}catch(u){u.name!=="AbortError"&&console.error("Error sharing:",u)}else c()};return o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{children:n("inviteFriends")||"Invite Friends"}),o.jsx(gn,{children:n("inviteFriendsDescription")||"Share Saiko with your friends and challenge them to join you!"})]}),o.jsxs(bt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"invite-link",children:n("yourInviteLink")||"Your Invite Link"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ge,{id:"invite-link",value:l,readOnly:!0,className:"font-mono text-sm"}),o.jsx(de,{type:"button",variant:"outline",size:"icon",onClick:c,title:n("copyLink")||"Copy link",children:s?o.jsx(Ol,{className:"h-4 w-4 text-green-600"}):o.jsx(F4,{className:"h-4 w-4"})}),navigator.share&&o.jsxs(de,{type:"button",variant:"outline",onClick:d,children:[o.jsx(bk,{className:"h-4 w-4 mr-2"}),n("share")||"Share"]})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n("inviteFriendsHelp")||"Send this link to your friends. When they sign up using your link, they'll be connected to you!"}),o.jsx("div",{className:"pt-2 border-t",children:o.jsxs("a",{href:"https://chat.whatsapp.com/L00uRWF2FhKF45358lit3i",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors text-sm font-medium w-full sm:w-auto justify-center",children:[o.jsx(nv,{className:"h-4 w-4"}),n("joinWhatsAppCommunity")||"Join WhatsApp Community"]})})]})]})}class ng extends K.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n)}render(){if(this.state.hasError){if(this.props.fallback){const t=this.props.fallback;return o.jsx(t,{error:this.state.error})}return o.jsxs(Nl,{variant:"destructive",children:[o.jsx(tv,{className:"h-4 w-4"}),o.jsxs(Tl,{children:["Something went wrong. Please refresh the page and try again.",this.state.error&&o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"cursor-pointer",children:"Error details"}),o.jsx("pre",{className:"text-xs mt-1 overflow-auto",children:this.state.error.message})]})]})]})}return this.props.children}}function fX(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function NM(e,t){return new Promise(function(n,r){let s;return hX(e).then(function(i){try{return s=i,n(new Blob([t.slice(0,2),s,t.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const hX=e=>new Promise((t,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let a=0;if(i.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const l=i.getUint16(a);if(l===65498)break;const c=i.getUint16(a+2);if(l===65505&&i.getUint32(a+4)===1165519206){const d=a+10;let u;switch(i.getUint16(d)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(d+2,u)!==42)return n("TIFF header contains invalid version");const f=i.getUint32(d+4,u),h=d+f+2+12*i.getUint16(d+f,u);for(let m=d+f+2;m<h;m+=12)if(i.getUint16(m,u)==274){if(i.getUint16(m+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(m+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(m+8,1,u);break}return t(s.slice(a,a+2+c))}a+=2+c}return t(new Blob)}),r.readAsArrayBuffer(e)});var ph={},mX={get exports(){return ph},set exports(e){ph=e}};(function(e){var t,n,r={};mX.exports=r,r.parse=function(s,i){for(var a=r.bin.readUshort,l=r.bin.readUint,c=0,d={},u=new Uint8Array(s),f=u.length-4;l(u,f)!=101010256;)f--;c=f,c+=4;var h=a(u,c+=4);a(u,c+=2);var m=l(u,c+=2),v=l(u,c+=4);c+=4,c=v;for(var g=0;g<h;g++){l(u,c),c+=4,c+=4,c+=4,l(u,c+=4),m=l(u,c+=4);var y=l(u,c+=4),x=a(u,c+=4),b=a(u,c+2),C=a(u,c+4);c+=6;var _=l(u,c+=8);c+=4,c+=x+b+C,r._readLocal(u,_,d,m,y,i)}return d},r._readLocal=function(s,i,a,l,c,d){var u=r.bin.readUshort,f=r.bin.readUint;f(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);f(s,i+=2),f(s,i+=4),i+=4;var m=u(s,i+=8),v=u(s,i+=2);i+=2;var g=r.bin.readUTF8(s,i,m);if(i+=m,i+=v,d)a[g]={size:c,csize:l};else{var y=new Uint8Array(s.buffer,i);if(h==0)a[g]=new Uint8Array(y.buffer.slice(i,i+l));else{if(h!=8)throw"unknown compression method: "+h;var x=new Uint8Array(c);r.inflateRaw(y,x),a[g]=x}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*s.length));l[a]=120,l[a+1]=156,a+=2,a=r.F.deflateRaw(s,l,a,i.level);var c=r.adler(s,0,s.length);return l[a+0]=c>>>24&255,l[a+1]=c>>>16&255,l[a+2]=c>>>8&255,l[a+3]=c>>>0&255,new Uint8Array(l.buffer,0,a+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var a=new Uint8Array(50+Math.floor(1.1*s.length)),l=r.F.deflateRaw(s,a,l,i.level);return new Uint8Array(a.buffer,0,l)},r.encode=function(s,i){i==null&&(i=!1);var a=0,l=r.bin.writeUint,c=r.bin.writeUshort,d={};for(var u in s){var f=!r._noNeed(u)&&!i,h=s[u],m=r.crc.crc(h,0,h.length);d[u]={cpr:f,usize:h.length,crc:m,file:f?r.deflateRaw(h):h}}for(var u in d)a+=d[u].file.length+30+46+2*r.bin.sizeUTF8(u);a+=22;var v=new Uint8Array(a),g=0,y=[];for(var u in d){var x=d[u];y.push(g),g=r._writeHeader(v,g,u,x,0)}var b=0,C=g;for(var u in d)x=d[u],y.push(g),g=r._writeHeader(v,g,u,x,1,y[b++]);var _=g-C;return l(v,g,101010256),g+=4,c(v,g+=4,b),c(v,g+=2,b),l(v,g+=2,_),l(v,g+=4,C),g+=4,g+=2,v.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,a,l,c,d){var u=r.bin.writeUint,f=r.bin.writeUshort,h=l.file;return u(s,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),f(s,i,20),f(s,i+=2,0),f(s,i+=2,l.cpr?8:0),u(s,i+=2,0),u(s,i+=4,l.crc),u(s,i+=4,h.length),u(s,i+=4,l.usize),f(s,i+=4,r.bin.sizeUTF8(a)),f(s,i+=2,0),i+=2,c==1&&(i+=2,i+=2,u(s,i+=6,d),i+=4),i+=r.bin.writeUTF8(s,i,a),c==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var a=i,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;s[i]=a}return s}(),update:function(s,i,a,l){for(var c=0;c<l;c++)s=r.crc.table[255&(s^i[a+c])]^s>>>8;return s},crc:function(s,i,a){return 4294967295^r.crc.update(4294967295,s,i,a)}},r.adler=function(s,i,a){for(var l=1,c=0,d=i,u=i+a;d<u;){for(var f=Math.min(d+5552,u);d<f;)c+=l+=s[d++];l%=65521,c%=65521}return c<<16|l},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255,s[i+2]=a>>16&255,s[i+3]=a>>24&255},readASCII:function(s,i,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(s[i+c]);return l},writeASCII:function(s,i,a){for(var l=0;l<a.length;l++)s[i+l]=a.charCodeAt(l)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,a){for(var l,c="",d=0;d<a;d++)c+="%"+r.bin.pad(s[i+d].toString(16));try{l=decodeURIComponent(c)}catch{return r.bin.readASCII(s,i,a)}return l},writeUTF8:function(s,i,a){for(var l=a.length,c=0,d=0;d<l;d++){var u=a.charCodeAt(d);if(!(4294967168&u))s[i+c]=u,c++;else if(!(4294965248&u))s[i+c]=192|u>>6,s[i+c+1]=128|u>>0&63,c+=2;else if(!(4294901760&u))s[i+c]=224|u>>12,s[i+c+1]=128|u>>6&63,s[i+c+2]=128|u>>0&63,c+=3;else{if(4292870144&u)throw"e";s[i+c]=240|u>>18,s[i+c+1]=128|u>>12&63,s[i+c+2]=128|u>>6&63,s[i+c+3]=128|u>>0&63,c+=4}}return c},sizeUTF8:function(s){for(var i=s.length,a=0,l=0;l<i;l++){var c=s.charCodeAt(l);if(!(4294967168&c))a++;else if(!(4294965248&c))a+=2;else if(!(4294901760&c))a+=3;else{if(4292870144&c)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(s,i,a,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],d=r.F.U,u=r.F._goodIndex;r.F._hash;var f=r.F._putsE,h=0,m=a<<3,v=0,g=s.length;if(l==0){for(;h<g;)f(i,m,h+(I=Math.min(65535,g-h))==g?1:0),m=r.F._copyExact(s,h,I,i,m+8),h+=I;return m>>>3}var y=d.lits,x=d.strt,b=d.prev,C=0,_=0,w=0,D=0,k=0,S=0;for(g>2&&(x[S=r.F._hash(s,0)]=0),h=0;h<g;h++){if(k=S,h+1<g-2){S=r.F._hash(s,h+1);var N=h+1&32767;b[N]=x[S],x[S]=N}if(v<=h){(C>14e3||_>26697)&&g-h>100&&(v<h&&(y[C]=h-v,C+=2,v=h),m=r.F._writeBlock(h==g-1||v==g?1:0,y,C,D,s,w,h-w,i,m),C=_=D=0,w=h);var O=0;h<g-2&&(O=r.F._bestMatch(s,h,b,k,Math.min(c[2],g-h),c[3]));var I=O>>>16,$=65535&O;if(O!=0){$=65535&O;var F=u(I=O>>>16,d.of0);d.lhst[257+F]++;var E=u($,d.df0);d.dhst[E]++,D+=d.exb[F]+d.dxb[E],y[C]=I<<23|h-v,y[C+1]=$<<16|F<<8|E,C+=2,v=h+I}else d.lhst[s[h]]++;_++}}for(w==h&&s.length!=0||(v<h&&(y[C]=h-v,C+=2,v=h),m=r.F._writeBlock(1,y,C,D,s,w,h-w,i,m),C=0,_=0,C=_=D=0,w=h);7&m;)m++;return m>>>3},r.F._bestMatch=function(s,i,a,l,c,d){var u=32767&i,f=a[u],h=u-f+32768&32767;if(f==u||l!=r.F._hash(s,i-h))return 0;for(var m=0,v=0,g=Math.min(32767,i);h<=g&&--d!=0&&f!=u;){if(m==0||s[i+m]==s[i+m-h]){var y=r.F._howLong(s,i,h);if(y>m){if(v=h,(m=y)>=c)break;h+2<y&&(y=h+2);for(var x=0,b=0;b<y-2;b++){var C=i-h+b+32768&32767,_=C-a[C]+32768&32767;_>x&&(x=_,f=C)}}}h+=(u=f)-(f=a[u])+32768&32767}return m<<16|v},r.F._howLong=function(s,i,a){if(s[i]!=s[i-a]||s[i+1]!=s[i+1-a]||s[i+2]!=s[i+2-a])return 0;var l=i,c=Math.min(s.length,i+258);for(i+=3;i<c&&s[i]==s[i-a];)i++;return i-l},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,a,l,c,d,u,f,h){var m,v,g,y,x,b,C,_,w,D=r.F.U,k=r.F._putsF,S=r.F._putsE;D.lhst[256]++,v=(m=r.F.getTrees())[0],g=m[1],y=m[2],x=m[3],b=m[4],C=m[5],_=m[6],w=m[7];var N=32+(h+3&7?8-(h+3&7):0)+(u<<3),O=l+r.F.contSize(D.fltree,D.lhst)+r.F.contSize(D.fdtree,D.dhst),I=l+r.F.contSize(D.ltree,D.lhst)+r.F.contSize(D.dtree,D.dhst);I+=14+3*C+r.F.contSize(D.itree,D.ihst)+(2*D.ihst[16]+3*D.ihst[17]+7*D.ihst[18]);for(var $=0;$<286;$++)D.lhst[$]=0;for($=0;$<30;$++)D.dhst[$]=0;for($=0;$<19;$++)D.ihst[$]=0;var F=N<O&&N<I?0:O<I?1:2;if(k(f,h,s),k(f,h+1,F),h+=3,F==0){for(;7&h;)h++;h=r.F._copyExact(c,d,u,f,h)}else{var E,L;if(F==1&&(E=D.fltree,L=D.fdtree),F==2){r.F.makeCodes(D.ltree,v),r.F.revCodes(D.ltree,v),r.F.makeCodes(D.dtree,g),r.F.revCodes(D.dtree,g),r.F.makeCodes(D.itree,y),r.F.revCodes(D.itree,y),E=D.ltree,L=D.dtree,S(f,h,x-257),S(f,h+=5,b-1),S(f,h+=5,C-4),h+=4;for(var A=0;A<C;A++)S(f,h+3*A,D.itree[1+(D.ordr[A]<<1)]);h+=3*C,h=r.F._codeTiny(_,D.itree,f,h),h=r.F._codeTiny(w,D.itree,f,h)}for(var P=d,R=0;R<a;R+=2){for(var T=i[R],j=T>>>23,M=P+(8388607&T);P<M;)h=r.F._writeLit(c[P++],E,f,h);if(j!=0){var U=i[R+1],V=U>>16,z=U>>8&255,B=255&U;S(f,h=r.F._writeLit(257+z,E,f,h),j-D.of0[z]),h+=D.exb[z],k(f,h=r.F._writeLit(B,L,f,h),V-D.df0[B]),h+=D.dxb[B],P+=j}}h=r.F._writeLit(256,E,f,h)}return h},r.F._copyExact=function(s,i,a,l,c){var d=c>>>3;return l[d]=a,l[d+1]=a>>>8,l[d+2]=255-l[d],l[d+3]=255-l[d+1],d+=4,l.set(new Uint8Array(s.buffer,i,a),d),c+(a+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),a=r.F._hufTree(s.dhst,s.dtree,15),l=[],c=r.F._lenCodes(s.ltree,l),d=[],u=r.F._lenCodes(s.dtree,d),f=0;f<l.length;f+=2)s.ihst[l[f]]++;for(f=0;f<d.length;f+=2)s.ihst[d[f]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),m=19;m>4&&s.itree[1+(s.ordr[m-1]<<1)]==0;)m--;return[i,a,h,c,u,m,l,d]},r.F.getSecond=function(s){for(var i=[],a=0;a<s.length;a+=2)i.push(s[a+1]);return i},r.F.nonZero=function(s){for(var i="",a=0;a<s.length;a+=2)s[a+1]!=0&&(i+=(a>>1)+",");return i},r.F.contSize=function(s,i){for(var a=0,l=0;l<i.length;l++)a+=i[l]*s[1+(l<<1)];return a},r.F._codeTiny=function(s,i,a,l){for(var c=0;c<s.length;c+=2){var d=s[c],u=s[c+1];l=r.F._writeLit(d,i,a,l);var f=d==16?2:d==17?3:7;d>15&&(r.F._putsE(a,l,u,f),l+=f)}return l},r.F._lenCodes=function(s,i){for(var a=s.length;a!=2&&s[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var c=s[l+1],d=l+3<a?s[l+3]:-1,u=l+5<a?s[l+5]:-1,f=l==0?-1:s[l-1];if(c==0&&d==c&&u==c){for(var h=l+5;h+2<a&&s[h+2]==c;)h+=2;(m=Math.min(h+1-l>>>1,138))<11?i.push(17,m-3):i.push(18,m-11),l+=2*m-2}else if(c==f&&d==c&&u==c){for(h=l+5;h+2<a&&s[h+2]==c;)h+=2;var m=Math.min(h+1-l>>>1,6);i.push(16,m-3),l+=2*m-2}else i.push(c,0)}return a>>>1},r.F._hufTree=function(s,i,a){var l=[],c=s.length,d=i.length,u=0;for(u=0;u<d;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<c;u++)s[u]!=0&&l.push({lit:u,f:s[u]});var f=l.length,h=l.slice(0);if(f==0)return 0;if(f==1){var m=l[0].lit;return h=m==0?1:0,i[1+(m<<1)]=1,i[1+(h<<1)]=1,1}l.sort(function(_,w){return _.f-w.f});var v=l[0],g=l[1],y=0,x=1,b=2;for(l[0]={lit:-1,f:v.f+g.f,l:v,r:g,d:0};x!=f-1;)v=y!=x&&(b==f||l[y].f<l[b].f)?l[y++]:l[b++],g=y!=x&&(b==f||l[y].f<l[b].f)?l[y++]:l[b++],l[x++]={lit:-1,f:v.f+g.f,l:v,r:g};var C=r.F.setDepth(l[x-1],0);for(C>a&&(r.F.restrictDepth(h,a,C),C=a),u=0;u<f;u++)i[1+(h[u].lit<<1)]=h[u].d;return C},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,a){var l=0,c=1<<a-i,d=0;for(s.sort(function(f,h){return h.d==f.d?f.f-h.f:h.d-f.d}),l=0;l<s.length&&s[l].d>i;l++){var u=s[l].d;s[l].d=i,d+=c-(1<<a-u)}for(d>>>=a-i;d>0;)(u=s[l].d)<i?(s[l].d++,d-=1<<i-u-1):l++;for(;l>=0;l--)s[l].d==i&&d<0&&(s[l].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var a=0;return i[16|a]<=s&&(a|=16),i[8|a]<=s&&(a|=8),i[4|a]<=s&&(a|=4),i[2|a]<=s&&(a|=2),i[1|a]<=s&&(a|=1),a},r.F._writeLit=function(s,i,a,l){return r.F._putsF(a,l,i[s<<1]),l+i[1+(s<<1)]},r.F.inflate=function(s,i){var a=Uint8Array;if(s[0]==3&&s[1]==0)return i||new a(0);var l=r.F,c=l._bitsF,d=l._bitsE,u=l._decodeTiny,f=l.makeCodes,h=l.codes2map,m=l._get17,v=l.U,g=i==null;g&&(i=new a(s.length>>>2<<3));for(var y,x,b=0,C=0,_=0,w=0,D=0,k=0,S=0,N=0,O=0;b==0;)if(b=c(s,O,1),C=c(s,O+1,2),O+=3,C!=0){if(g&&(i=r.F._check(i,N+(1<<17))),C==1&&(y=v.flmap,x=v.fdmap,k=511,S=31),C==2){_=d(s,O,5)+257,w=d(s,O+5,5)+1,D=d(s,O+10,4)+4,O+=14;for(var I=0;I<38;I+=2)v.itree[I]=0,v.itree[I+1]=0;var $=1;for(I=0;I<D;I++){var F=d(s,O+3*I,3);v.itree[1+(v.ordr[I]<<1)]=F,F>$&&($=F)}O+=3*D,f(v.itree,$),h(v.itree,$,v.imap),y=v.lmap,x=v.dmap,O=u(v.imap,(1<<$)-1,_+w,s,O,v.ttree);var E=l._copyOut(v.ttree,0,_,v.ltree);k=(1<<E)-1;var L=l._copyOut(v.ttree,_,w,v.dtree);S=(1<<L)-1,f(v.ltree,E),h(v.ltree,E,y),f(v.dtree,L),h(v.dtree,L,x)}for(;;){var A=y[m(s,O)&k];O+=15&A;var P=A>>>4;if(!(P>>>8))i[N++]=P;else{if(P==256)break;var R=N+P-254;if(P>264){var T=v.ldef[P-257];R=N+(T>>>3)+d(s,O,7&T),O+=7&T}var j=x[m(s,O)&S];O+=15&j;var M=j>>>4,U=v.ddef[M],V=(U>>>4)+c(s,O,15&U);for(O+=15&U,g&&(i=r.F._check(i,N+(1<<17)));N<R;)i[N]=i[N++-V],i[N]=i[N++-V],i[N]=i[N++-V],i[N]=i[N++-V];N=R}}}else{7&O&&(O+=8-(7&O));var z=4+(O>>>3),B=s[z-4]|s[z-3]<<8;g&&(i=r.F._check(i,N+B)),i.set(new a(s.buffer,s.byteOffset+z,B),N),O=z+B<<3,N+=B}return i.length==N?i:i.slice(0,N)},r.F._check=function(s,i){var a=s.length;if(i<=a)return s;var l=new Uint8Array(Math.max(a<<1,i));return l.set(s,0),l},r.F._decodeTiny=function(s,i,a,l,c,d){for(var u=r.F._bitsE,f=r.F._get17,h=0;h<a;){var m=s[f(l,c)&i];c+=15&m;var v=m>>>4;if(v<=15)d[h]=v,h++;else{var g=0,y=0;v==16?(y=3+u(l,c,2),c+=2,g=d[h-1]):v==17?(y=3+u(l,c,3),c+=3):v==18&&(y=11+u(l,c,7),c+=7);for(var x=h+y;h<x;)d[h]=g,h++}}return c},r.F._copyOut=function(s,i,a,l){for(var c=0,d=0,u=l.length>>>1;d<a;){var f=s[d+i];l[d<<1]=0,l[1+(d<<1)]=f,f>c&&(c=f),d++}for(;d<u;)l[d<<1]=0,l[1+(d<<1)]=0,d++;return c},r.F.makeCodes=function(s,i){for(var a,l,c,d,u=r.F.U,f=s.length,h=u.bl_count,m=0;m<=i;m++)h[m]=0;for(m=1;m<f;m+=2)h[s[m]]++;var v=u.next_code;for(a=0,h[0]=0,l=1;l<=i;l++)a=a+h[l-1]<<1,v[l]=a;for(c=0;c<f;c+=2)(d=s[c+1])!=0&&(s[c]=v[d],v[d]++)},r.F.codes2map=function(s,i,a){for(var l=s.length,c=r.F.U.rev15,d=0;d<l;d+=2)if(s[d+1]!=0)for(var u=d>>1,f=s[d+1],h=u<<4|f,m=i-f,v=s[d]<<m,g=v+(1<<m);v!=g;)a[c[v]>>>15-i]=h,v++},r.F.revCodes=function(s,i){for(var a=r.F.U.rev15,l=15-i,c=0;c<s.length;c+=2){var d=s[c]<<i-s[c+1];s[c]=a[d]>>>l}},r.F._putsE=function(s,i,a){a<<=7&i;var l=i>>>3;s[l]|=a,s[l+1]|=a>>>8},r.F._putsF=function(s,i,a){a<<=7&i;var l=i>>>3;s[l]|=a,s[l+1]|=a>>>8,s[l+2]|=a>>>16},r.F._bitsE=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<a)-1},r.F._bitsF=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<a)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var a=i;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,s.rev15[i]=(a>>>16|a<<16)>>>17}function l(c,d,u){for(;d--!=0;)c.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];l(s.fltree,144,8),l(s.fltree,112,9),l(s.fltree,24,7),l(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),l(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),l(s.itree,19,0),l(s.ltree,286,0),l(s.dtree,30,0),l(s.ttree,320,0)}()})();var pX=fX({__proto__:null,default:ph},[ph]);const Rr=function(){var e={nextZero(u,f){for(;u[f]!=0;)f++;return f},readUshort:(u,f)=>u[f]<<8|u[f+1],writeUshort(u,f,h){u[f]=h>>8&255,u[f+1]=255&h},readUint:(u,f)=>16777216*u[f]+(u[f+1]<<16|u[f+2]<<8|u[f+3]),writeUint(u,f,h){u[f]=h>>24&255,u[f+1]=h>>16&255,u[f+2]=h>>8&255,u[f+3]=255&h},readASCII(u,f,h){let m="";for(let v=0;v<h;v++)m+=String.fromCharCode(u[f+v]);return m},writeASCII(u,f,h){for(let m=0;m<h.length;m++)u[f+m]=h.charCodeAt(m)},readBytes(u,f,h){const m=[];for(let v=0;v<h;v++)m.push(u[f+v]);return m},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,f,h){let m,v="";for(let g=0;g<h;g++)v+=`%${e.pad(u[f+g].toString(16))}`;try{m=decodeURIComponent(v)}catch{return e.readASCII(u,f,h)}return m}};function t(u,f,h,m){const v=f*h,g=i(m),y=Math.ceil(f*g/8),x=new Uint8Array(4*v),b=new Uint32Array(x.buffer),{ctype:C}=m,{depth:_}=m,w=e.readUshort;if(C==6){const T=v<<2;if(_==8)for(var D=0;D<T;D+=4)x[D]=u[D],x[D+1]=u[D+1],x[D+2]=u[D+2],x[D+3]=u[D+3];if(_==16)for(D=0;D<T;D++)x[D]=u[D<<1]}else if(C==2){const T=m.tabs.tRNS;if(T==null){if(_==8)for(D=0;D<v;D++){var k=3*D;b[D]=255<<24|u[k+2]<<16|u[k+1]<<8|u[k]}if(_==16)for(D=0;D<v;D++)k=6*D,b[D]=255<<24|u[k+4]<<16|u[k+2]<<8|u[k]}else{var S=T[0];const j=T[1],M=T[2];if(_==8)for(D=0;D<v;D++){var N=D<<2;k=3*D,b[D]=255<<24|u[k+2]<<16|u[k+1]<<8|u[k],u[k]==S&&u[k+1]==j&&u[k+2]==M&&(x[N+3]=0)}if(_==16)for(D=0;D<v;D++)N=D<<2,k=6*D,b[D]=255<<24|u[k+4]<<16|u[k+2]<<8|u[k],w(u,k)==S&&w(u,k+2)==j&&w(u,k+4)==M&&(x[N+3]=0)}}else if(C==3){const T=m.tabs.PLTE,j=m.tabs.tRNS,M=j?j.length:0;if(_==1)for(var O=0;O<h;O++){var I=O*y,$=O*f;for(D=0;D<f;D++){N=$+D<<2;var F=3*(E=u[I+(D>>3)]>>7-((7&D)<<0)&1);x[N]=T[F],x[N+1]=T[F+1],x[N+2]=T[F+2],x[N+3]=E<M?j[E]:255}}if(_==2)for(O=0;O<h;O++)for(I=O*y,$=O*f,D=0;D<f;D++)N=$+D<<2,F=3*(E=u[I+(D>>2)]>>6-((3&D)<<1)&3),x[N]=T[F],x[N+1]=T[F+1],x[N+2]=T[F+2],x[N+3]=E<M?j[E]:255;if(_==4)for(O=0;O<h;O++)for(I=O*y,$=O*f,D=0;D<f;D++)N=$+D<<2,F=3*(E=u[I+(D>>1)]>>4-((1&D)<<2)&15),x[N]=T[F],x[N+1]=T[F+1],x[N+2]=T[F+2],x[N+3]=E<M?j[E]:255;if(_==8)for(D=0;D<v;D++){var E;N=D<<2,F=3*(E=u[D]),x[N]=T[F],x[N+1]=T[F+1],x[N+2]=T[F+2],x[N+3]=E<M?j[E]:255}}else if(C==4){if(_==8)for(D=0;D<v;D++){N=D<<2;var L=u[A=D<<1];x[N]=L,x[N+1]=L,x[N+2]=L,x[N+3]=u[A+1]}if(_==16)for(D=0;D<v;D++){var A;N=D<<2,L=u[A=D<<2],x[N]=L,x[N+1]=L,x[N+2]=L,x[N+3]=u[A+2]}}else if(C==0)for(S=m.tabs.tRNS?m.tabs.tRNS:-1,O=0;O<h;O++){const T=O*y,j=O*f;if(_==1)for(var P=0;P<f;P++){var R=(L=255*(u[T+(P>>>3)]>>>7-(7&P)&1))==255*S?0:255;b[j+P]=R<<24|L<<16|L<<8|L}else if(_==2)for(P=0;P<f;P++)R=(L=85*(u[T+(P>>>2)]>>>6-((3&P)<<1)&3))==85*S?0:255,b[j+P]=R<<24|L<<16|L<<8|L;else if(_==4)for(P=0;P<f;P++)R=(L=17*(u[T+(P>>>1)]>>>4-((1&P)<<2)&15))==17*S?0:255,b[j+P]=R<<24|L<<16|L<<8|L;else if(_==8)for(P=0;P<f;P++)R=(L=u[T+P])==S?0:255,b[j+P]=R<<24|L<<16|L<<8|L;else if(_==16)for(P=0;P<f;P++)L=u[T+(P<<1)],R=w(u,T+(P<<1))==S?0:255,b[j+P]=R<<24|L<<16|L<<8|L}return x}function n(u,f,h,m){const v=i(u),g=Math.ceil(h*v/8),y=new Uint8Array((g+1+u.interlace)*m);return f=u.tabs.CgBI?s(f,y):r(f,y),u.interlace==0?f=a(f,u,0,h,m):u.interlace==1&&(f=function(b,C){const _=C.width,w=C.height,D=i(C),k=D>>3,S=Math.ceil(_*D/8),N=new Uint8Array(w*S);let O=0;const I=[0,0,4,0,2,0,1],$=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1];let L=0;for(;L<7;){const P=F[L],R=E[L];let T=0,j=0,M=I[L];for(;M<w;)M+=P,j++;let U=$[L];for(;U<_;)U+=R,T++;const V=Math.ceil(T*D/8);a(b,C,O,T,j);let z=0,B=I[L];for(;B<w;){let q=$[L],W=O+z*V<<3;for(;q<_;){var A;if(D==1&&(A=(A=b[W>>3])>>7-(7&W)&1,N[B*S+(q>>3)]|=A<<7-((7&q)<<0)),D==2&&(A=(A=b[W>>3])>>6-(7&W)&3,N[B*S+(q>>2)]|=A<<6-((3&q)<<1)),D==4&&(A=(A=b[W>>3])>>4-(7&W)&15,N[B*S+(q>>1)]|=A<<4-((1&q)<<2)),D>=8){const G=B*S+q*k;for(let Z=0;Z<k;Z++)N[G+Z]=b[(W>>3)+Z]}W+=D,q+=R}z++,B+=P}T*j!=0&&(O+=j*(1+V)),L+=1}return N}(f,u)),f}function r(u,f){return s(new Uint8Array(u.buffer,2,u.length-6),f)}var s=function(){const u={H:{}};return u.H.N=function(f,h){const m=Uint8Array;let v,g,y=0,x=0,b=0,C=0,_=0,w=0,D=0,k=0,S=0;if(f[0]==3&&f[1]==0)return h||new m(0);const N=u.H,O=N.b,I=N.e,$=N.R,F=N.n,E=N.A,L=N.Z,A=N.m,P=h==null;for(P&&(h=new m(f.length>>>2<<5));y==0;)if(y=O(f,S,1),x=O(f,S+1,2),S+=3,x!=0){if(P&&(h=u.H.W(h,k+(1<<17))),x==1&&(v=A.J,g=A.h,w=511,D=31),x==2){b=I(f,S,5)+257,C=I(f,S+5,5)+1,_=I(f,S+10,4)+4,S+=14;let T=1;for(var R=0;R<38;R+=2)A.Q[R]=0,A.Q[R+1]=0;for(R=0;R<_;R++){const U=I(f,S+3*R,3);A.Q[1+(A.X[R]<<1)]=U,U>T&&(T=U)}S+=3*_,F(A.Q,T),E(A.Q,T,A.u),v=A.w,g=A.d,S=$(A.u,(1<<T)-1,b+C,f,S,A.v);const j=N.V(A.v,0,b,A.C);w=(1<<j)-1;const M=N.V(A.v,b,C,A.D);D=(1<<M)-1,F(A.C,j),E(A.C,j,v),F(A.D,M),E(A.D,M,g)}for(;;){const T=v[L(f,S)&w];S+=15&T;const j=T>>>4;if(!(j>>>8))h[k++]=j;else{if(j==256)break;{let M=k+j-254;if(j>264){const q=A.q[j-257];M=k+(q>>>3)+I(f,S,7&q),S+=7&q}const U=g[L(f,S)&D];S+=15&U;const V=U>>>4,z=A.c[V],B=(z>>>4)+O(f,S,15&z);for(S+=15&z;k<M;)h[k]=h[k++-B],h[k]=h[k++-B],h[k]=h[k++-B],h[k]=h[k++-B];k=M}}}}else{7&S&&(S+=8-(7&S));const T=4+(S>>>3),j=f[T-4]|f[T-3]<<8;P&&(h=u.H.W(h,k+j)),h.set(new m(f.buffer,f.byteOffset+T,j),k),S=T+j<<3,k+=j}return h.length==k?h:h.slice(0,k)},u.H.W=function(f,h){const m=f.length;if(h<=m)return f;const v=new Uint8Array(m<<1);return v.set(f,0),v},u.H.R=function(f,h,m,v,g,y){const x=u.H.e,b=u.H.Z;let C=0;for(;C<m;){const _=f[b(v,g)&h];g+=15&_;const w=_>>>4;if(w<=15)y[C]=w,C++;else{let D=0,k=0;w==16?(k=3+x(v,g,2),g+=2,D=y[C-1]):w==17?(k=3+x(v,g,3),g+=3):w==18&&(k=11+x(v,g,7),g+=7);const S=C+k;for(;C<S;)y[C]=D,C++}}return g},u.H.V=function(f,h,m,v){let g=0,y=0;const x=v.length>>>1;for(;y<m;){const b=f[y+h];v[y<<1]=0,v[1+(y<<1)]=b,b>g&&(g=b),y++}for(;y<x;)v[y<<1]=0,v[1+(y<<1)]=0,y++;return g},u.H.n=function(f,h){const m=u.H.m,v=f.length;let g,y,x,b;const C=m.j;for(var _=0;_<=h;_++)C[_]=0;for(_=1;_<v;_+=2)C[f[_]]++;const w=m.K;for(g=0,C[0]=0,y=1;y<=h;y++)g=g+C[y-1]<<1,w[y]=g;for(x=0;x<v;x+=2)b=f[x+1],b!=0&&(f[x]=w[b],w[b]++)},u.H.A=function(f,h,m){const v=f.length,g=u.H.m.r;for(let y=0;y<v;y+=2)if(f[y+1]!=0){const x=y>>1,b=f[y+1],C=x<<4|b,_=h-b;let w=f[y]<<_;const D=w+(1<<_);for(;w!=D;)m[g[w]>>>15-h]=C,w++}},u.H.l=function(f,h){const m=u.H.m.r,v=15-h;for(let g=0;g<f.length;g+=2){const y=f[g]<<h-f[g+1];f[g]=m[y]>>>v}},u.H.M=function(f,h,m){m<<=7&h;const v=h>>>3;f[v]|=m,f[v+1]|=m>>>8},u.H.I=function(f,h,m){m<<=7&h;const v=h>>>3;f[v]|=m,f[v+1]|=m>>>8,f[v+2]|=m>>>16},u.H.e=function(f,h,m){return(f[h>>>3]|f[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},u.H.b=function(f,h,m){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},u.H.Z=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(f,h){return(f[h>>>3]|f[1+(h>>>3)]<<8|f[2+(h>>>3)]<<16|f[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const f=Uint16Array,h=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=u.H.m;for(var h=0;h<32768;h++){let v=h;v=(2863311530&v)>>>1|(1431655765&v)<<1,v=(3435973836&v)>>>2|(858993459&v)<<2,v=(4042322160&v)>>>4|(252645135&v)<<4,v=(4278255360&v)>>>8|(16711935&v)<<8,f.r[h]=(v>>>16|v<<16)>>>17}function m(v,g,y){for(;g--!=0;)v.push(0,y)}for(h=0;h<32;h++)f.q[h]=f.S[h]<<3|f.T[h],f.c[h]=f.p[h]<<4|f.z[h];m(f._,144,8),m(f._,112,9),m(f._,24,7),m(f._,8,8),u.H.n(f._,9),u.H.A(f._,9,f.J),u.H.l(f._,9),m(f.$,32,5),u.H.n(f.$,5),u.H.A(f.$,5,f.h),u.H.l(f.$,5),m(f.Q,19,0),m(f.C,286,0),m(f.D,30,0),m(f.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,f,h,m,v){let g=i(f);const y=Math.ceil(m*g/8);let x,b;g=Math.ceil(g/8);let C=u[h],_=0;if(C>1&&(u[h]=[0,0,1][C-2]),C==3)for(_=g;_<y;_++)u[_+1]=u[_+1]+(u[_+1-g]>>>1)&255;for(let w=0;w<v;w++)if(x=h+w*y,b=x+w+1,C=u[b-1],_=0,C==0)for(;_<y;_++)u[x+_]=u[b+_];else if(C==1){for(;_<g;_++)u[x+_]=u[b+_];for(;_<y;_++)u[x+_]=u[b+_]+u[x+_-g]}else if(C==2)for(;_<y;_++)u[x+_]=u[b+_]+u[x+_-y];else if(C==3){for(;_<g;_++)u[x+_]=u[b+_]+(u[x+_-y]>>>1);for(;_<y;_++)u[x+_]=u[b+_]+(u[x+_-y]+u[x+_-g]>>>1)}else{for(;_<g;_++)u[x+_]=u[b+_]+l(0,u[x+_-y],0);for(;_<y;_++)u[x+_]=u[b+_]+l(u[x+_-g],u[x+_-y],u[x+_-g-y])}return u}function l(u,f,h){const m=u+f-h,v=m-u,g=m-f,y=m-h;return v*v<=g*g&&v*v<=y*y?u:g*g<=y*y?f:h}function c(u,f,h){h.width=e.readUint(u,f),f+=4,h.height=e.readUint(u,f),f+=4,h.depth=u[f],f++,h.ctype=u[f],f++,h.compress=u[f],f++,h.filter=u[f],f++,h.interlace=u[f],f++}function d(u,f,h,m,v,g,y,x,b){const C=Math.min(f,v),_=Math.min(h,g);let w=0,D=0;for(let L=0;L<_;L++)for(let A=0;A<C;A++)if(y>=0&&x>=0?(w=L*f+A<<2,D=(x+L)*v+y+A<<2):(w=(-x+L)*f-y+A<<2,D=L*v+A<<2),b==0)m[D]=u[w],m[D+1]=u[w+1],m[D+2]=u[w+2],m[D+3]=u[w+3];else if(b==1){var k=u[w+3]*.00392156862745098,S=u[w]*k,N=u[w+1]*k,O=u[w+2]*k,I=m[D+3]*(1/255),$=m[D]*I,F=m[D+1]*I,E=m[D+2]*I;const P=1-k,R=k+I*P,T=R==0?0:1/R;m[D+3]=255*R,m[D+0]=(S+$*P)*T,m[D+1]=(N+F*P)*T,m[D+2]=(O+E*P)*T}else if(b==2)k=u[w+3],S=u[w],N=u[w+1],O=u[w+2],I=m[D+3],$=m[D],F=m[D+1],E=m[D+2],k==I&&S==$&&N==F&&O==E?(m[D]=0,m[D+1]=0,m[D+2]=0,m[D+3]=0):(m[D]=S,m[D+1]=N,m[D+2]=O,m[D+3]=k);else if(b==3){if(k=u[w+3],S=u[w],N=u[w+1],O=u[w+2],I=m[D+3],$=m[D],F=m[D+1],E=m[D+2],k==I&&S==$&&N==F&&O==E)continue;if(k<220&&I>20)return!1}return!0}return{decode:function(f){const h=new Uint8Array(f);let m=8;const v=e,g=v.readUshort,y=v.readUint,x={tabs:{},frames:[]},b=new Uint8Array(h.length);let C,_=0,w=0;const D=[137,80,78,71,13,10,26,10];for(var k=0;k<8;k++)if(h[k]!=D[k])throw"The input is not a PNG file!";for(;m<h.length;){const L=v.readUint(h,m);m+=4;const A=v.readASCII(h,m,4);if(m+=4,A=="IHDR")c(h,m,x);else if(A=="iCCP"){for(var S=m;h[S]!=0;)S++;v.readASCII(h,m,S-m),h[S+1];const P=h.slice(S+2,m+L);let R=null;try{R=r(P)}catch{R=s(P)}x.tabs[A]=R}else if(A=="CgBI")x.tabs[A]=h.slice(m,m+4);else if(A=="IDAT"){for(k=0;k<L;k++)b[_+k]=h[m+k];_+=L}else if(A=="acTL")x.tabs[A]={num_frames:y(h,m),num_plays:y(h,m+4)},C=new Uint8Array(h.length);else if(A=="fcTL"){w!=0&&((E=x.frames[x.frames.length-1]).data=n(x,C.slice(0,w),E.rect.width,E.rect.height),w=0);const P={x:y(h,m+12),y:y(h,m+16),width:y(h,m+4),height:y(h,m+8)};let R=g(h,m+22);R=g(h,m+20)/(R==0?100:R);const T={rect:P,delay:Math.round(1e3*R),dispose:h[m+24],blend:h[m+25]};x.frames.push(T)}else if(A=="fdAT"){for(k=0;k<L-4;k++)C[w+k]=h[m+k+4];w+=L-4}else if(A=="pHYs")x.tabs[A]=[v.readUint(h,m),v.readUint(h,m+4),h[m+8]];else if(A=="cHRM")for(x.tabs[A]=[],k=0;k<8;k++)x.tabs[A].push(v.readUint(h,m+4*k));else if(A=="tEXt"||A=="zTXt"){x.tabs[A]==null&&(x.tabs[A]={});var N=v.nextZero(h,m),O=v.readASCII(h,m,N-m),I=m+L-N-1;if(A=="tEXt")F=v.readASCII(h,N+1,I);else{var $=r(h.slice(N+2,N+2+I));F=v.readUTF8($,0,$.length)}x.tabs[A][O]=F}else if(A=="iTXt"){x.tabs[A]==null&&(x.tabs[A]={}),N=0,S=m,N=v.nextZero(h,S),O=v.readASCII(h,S,N-S);const P=h[S=N+1];var F;h[S+1],S+=2,N=v.nextZero(h,S),v.readASCII(h,S,N-S),S=N+1,N=v.nextZero(h,S),v.readUTF8(h,S,N-S),I=L-((S=N+1)-m),P==0?F=v.readUTF8(h,S,I):($=r(h.slice(S,S+I)),F=v.readUTF8($,0,$.length)),x.tabs[A][O]=F}else if(A=="PLTE")x.tabs[A]=v.readBytes(h,m,L);else if(A=="hIST"){const P=x.tabs.PLTE.length/3;for(x.tabs[A]=[],k=0;k<P;k++)x.tabs[A].push(g(h,m+2*k))}else if(A=="tRNS")x.ctype==3?x.tabs[A]=v.readBytes(h,m,L):x.ctype==0?x.tabs[A]=g(h,m):x.ctype==2&&(x.tabs[A]=[g(h,m),g(h,m+2),g(h,m+4)]);else if(A=="gAMA")x.tabs[A]=v.readUint(h,m)/1e5;else if(A=="sRGB")x.tabs[A]=h[m];else if(A=="bKGD")x.ctype==0||x.ctype==4?x.tabs[A]=[g(h,m)]:x.ctype==2||x.ctype==6?x.tabs[A]=[g(h,m),g(h,m+2),g(h,m+4)]:x.ctype==3&&(x.tabs[A]=h[m]);else if(A=="IEND")break;m+=L,v.readUint(h,m),m+=4}var E;return w!=0&&((E=x.frames[x.frames.length-1]).data=n(x,C.slice(0,w),E.rect.width,E.rect.height)),x.data=n(x,b,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(f){const h=f.width,m=f.height;if(f.tabs.acTL==null)return[t(f.data,h,m,f).buffer];const v=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const g=h*m*4,y=new Uint8Array(g),x=new Uint8Array(g),b=new Uint8Array(g);for(let _=0;_<f.frames.length;_++){const w=f.frames[_],D=w.rect.x,k=w.rect.y,S=w.rect.width,N=w.rect.height,O=t(w.data,S,N,f);if(_!=0)for(var C=0;C<g;C++)b[C]=y[C];if(w.blend==0?d(O,S,N,y,h,m,D,k,0):w.blend==1&&d(O,S,N,y,h,m,D,k,1),v.push(y.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)d(x,S,N,y,h,m,D,k,0);else if(w.dispose==2)for(C=0;C<g;C++)y[C]=b[C]}}return v},_paeth:l,_copyTile:d,_bin:e}}();(function(){const{_copyTile:e}=Rr,{_bin:t}=Rr,n=Rr._paeth;var r={table:function(){const S=new Uint32Array(256);for(let N=0;N<256;N++){let O=N;for(let I=0;I<8;I++)1&O?O=3988292384^O>>>1:O>>>=1;S[N]=O}return S}(),update(S,N,O,I){for(let $=0;$<I;$++)S=r.table[255&(S^N[O+$])]^S>>>8;return S},crc:(S,N,O)=>4294967295^r.update(4294967295,S,N,O)};function s(S,N,O,I){N[O]+=S[0]*I>>4,N[O+1]+=S[1]*I>>4,N[O+2]+=S[2]*I>>4,N[O+3]+=S[3]*I>>4}function i(S){return Math.max(0,Math.min(255,S))}function a(S,N){const O=S[0]-N[0],I=S[1]-N[1],$=S[2]-N[2],F=S[3]-N[3];return O*O+I*I+$*$+F*F}function l(S,N,O,I,$,F,E){E==null&&(E=1);const L=I.length,A=[];for(var P=0;P<L;P++){const B=I[P];A.push([B>>>0&255,B>>>8&255,B>>>16&255,B>>>24&255])}for(P=0;P<L;P++){let B=4294967295;for(var R=0,T=0;T<L;T++){var j=a(A[P],A[T]);T!=P&&j<B&&(B=j,R=T)}}const M=new Uint32Array($.buffer),U=new Int16Array(N*O*4),V=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<V.length;P++)V[P]=255*((V[P]+.5)/16-.5);for(let B=0;B<O;B++)for(let q=0;q<N;q++){var z;P=4*(B*N+q),E!=2?z=[i(S[P]+U[P]),i(S[P+1]+U[P+1]),i(S[P+2]+U[P+2]),i(S[P+3]+U[P+3])]:(j=V[4*(3&B)+(3&q)],z=[i(S[P]+j),i(S[P+1]+j),i(S[P+2]+j),i(S[P+3]+j)]),R=0;let W=16777215;for(T=0;T<L;T++){const H=a(z,A[T]);H<W&&(W=H,R=T)}const G=A[R],Z=[z[0]-G[0],z[1]-G[1],z[2]-G[2],z[3]-G[3]];E==1&&(q!=N-1&&s(Z,U,P+4,7),B!=O-1&&(q!=0&&s(Z,U,P+4*N-4,3),s(Z,U,P+4*N,5),q!=N-1&&s(Z,U,P+4*N+4,1))),F[P>>2]=R,M[P>>2]=I[R]}}function c(S,N,O,I,$){$==null&&($={});const{crc:F}=r,E=t.writeUint,L=t.writeUshort,A=t.writeASCII;let P=8;const R=S.frames.length>1;let T,j=!1,M=33+(R?20:0);if($.sRGB!=null&&(M+=13),$.pHYs!=null&&(M+=21),$.iCCP!=null&&(T=pako.deflate($.iCCP),M+=21+T.length+4),S.ctype==3){for(var U=S.plte.length,V=0;V<U;V++)S.plte[V]>>>24!=255&&(j=!0);M+=8+3*U+4+(j?8+1*U+4:0)}for(var z=0;z<S.frames.length;z++)R&&(M+=38),M+=(G=S.frames[z]).cimg.length+12,z!=0&&(M+=4);M+=12;const B=new Uint8Array(M),q=[137,80,78,71,13,10,26,10];for(V=0;V<8;V++)B[V]=q[V];if(E(B,P,13),P+=4,A(B,P,"IHDR"),P+=4,E(B,P,N),P+=4,E(B,P,O),P+=4,B[P]=S.depth,P++,B[P]=S.ctype,P++,B[P]=0,P++,B[P]=0,P++,B[P]=0,P++,E(B,P,F(B,P-17,17)),P+=4,$.sRGB!=null&&(E(B,P,1),P+=4,A(B,P,"sRGB"),P+=4,B[P]=$.sRGB,P++,E(B,P,F(B,P-5,5)),P+=4),$.iCCP!=null){const Z=13+T.length;E(B,P,Z),P+=4,A(B,P,"iCCP"),P+=4,A(B,P,"ICC profile"),P+=11,P+=2,B.set(T,P),P+=T.length,E(B,P,F(B,P-(Z+4),Z+4)),P+=4}if($.pHYs!=null&&(E(B,P,9),P+=4,A(B,P,"pHYs"),P+=4,E(B,P,$.pHYs[0]),P+=4,E(B,P,$.pHYs[1]),P+=4,B[P]=$.pHYs[2],P++,E(B,P,F(B,P-13,13)),P+=4),R&&(E(B,P,8),P+=4,A(B,P,"acTL"),P+=4,E(B,P,S.frames.length),P+=4,E(B,P,$.loop!=null?$.loop:0),P+=4,E(B,P,F(B,P-12,12)),P+=4),S.ctype==3){for(E(B,P,3*(U=S.plte.length)),P+=4,A(B,P,"PLTE"),P+=4,V=0;V<U;V++){const Z=3*V,H=S.plte[V],Q=255&H,re=H>>>8&255,ee=H>>>16&255;B[P+Z+0]=Q,B[P+Z+1]=re,B[P+Z+2]=ee}if(P+=3*U,E(B,P,F(B,P-3*U-4,3*U+4)),P+=4,j){for(E(B,P,U),P+=4,A(B,P,"tRNS"),P+=4,V=0;V<U;V++)B[P+V]=S.plte[V]>>>24&255;P+=U,E(B,P,F(B,P-U-4,U+4)),P+=4}}let W=0;for(z=0;z<S.frames.length;z++){var G=S.frames[z];R&&(E(B,P,26),P+=4,A(B,P,"fcTL"),P+=4,E(B,P,W++),P+=4,E(B,P,G.rect.width),P+=4,E(B,P,G.rect.height),P+=4,E(B,P,G.rect.x),P+=4,E(B,P,G.rect.y),P+=4,L(B,P,I[z]),P+=2,L(B,P,1e3),P+=2,B[P]=G.dispose,P++,B[P]=G.blend,P++,E(B,P,F(B,P-30,30)),P+=4);const Z=G.cimg;E(B,P,(U=Z.length)+(z==0?0:4)),P+=4;const H=P;A(B,P,z==0?"IDAT":"fdAT"),P+=4,z!=0&&(E(B,P,W++),P+=4),B.set(Z,P),P+=U,E(B,P,F(B,H,P-H)),P+=4}return E(B,P,0),P+=4,A(B,P,"IEND"),P+=4,E(B,P,F(B,P-4,4)),P+=4,B.buffer}function d(S,N,O){for(let I=0;I<S.frames.length;I++){const $=S.frames[I];$.rect.width;const F=$.rect.height,E=new Uint8Array(F*$.bpl+F);$.cimg=m($.img,F,$.bpp,$.bpl,E,N,O)}}function u(S,N,O,I,$){const F=$[0],E=$[1],L=$[2],A=$[3],P=$[4],R=$[5];let T=6,j=8,M=255;for(var U=0;U<S.length;U++){const ne=new Uint8Array(S[U]);for(var V=ne.length,z=0;z<V;z+=4)M&=ne[z+3]}const B=M!=255,q=function(se,he,ae,oe,xe,Ce){const Pe=[];for(var je=0;je<se.length;je++){const Fe=new Uint8Array(se[je]),ot=new Uint32Array(Fe.buffer);var $e;let ct=0,St=0,tt=he,dn=ae,Qt=oe?1:0;if(je!=0){const Ar=Ce||oe||je==1||Pe[je-2].dispose!=0?1:2;let fe=0,_e=1e9;for(let Y=0;Y<Ar;Y++){var Ze=new Uint8Array(se[je-1-Y]);const te=new Uint32Array(se[je-1-Y]);let ue=he,ye=ae,pe=-1,we=-1;for(let Te=0;Te<ae;Te++)for(let ke=0;ke<he;ke++)ot[Ae=Te*he+ke]!=te[Ae]&&(ke<ue&&(ue=ke),ke>pe&&(pe=ke),Te<ye&&(ye=Te),Te>we&&(we=Te));pe==-1&&(ue=ye=pe=we=0),xe&&((1&ue)==1&&ue--,(1&ye)==1&&ye--);const Ee=(pe-ue+1)*(we-ye+1);Ee<_e&&(_e=Ee,fe=Y,ct=ue,St=ye,tt=pe-ue+1,dn=we-ye+1)}Ze=new Uint8Array(se[je-1-fe]),fe==1&&(Pe[je-1].dispose=2),$e=new Uint8Array(tt*dn*4),e(Ze,he,ae,$e,tt,dn,-ct,-St,0),Qt=e(Fe,he,ae,$e,tt,dn,-ct,-St,3)?1:0,Qt==1?h(Fe,he,ae,$e,{x:ct,y:St,width:tt,height:dn}):e(Fe,he,ae,$e,tt,dn,-ct,-St,0)}else $e=Fe.slice(0);Pe.push({rect:{x:ct,y:St,width:tt,height:dn},img:$e,blend:Qt,dispose:0})}if(oe)for(je=0;je<Pe.length;je++){if((rt=Pe[je]).blend==1)continue;const Fe=rt.rect,ot=Pe[je-1].rect,ct=Math.min(Fe.x,ot.x),St=Math.min(Fe.y,ot.y),tt={x:ct,y:St,width:Math.max(Fe.x+Fe.width,ot.x+ot.width)-ct,height:Math.max(Fe.y+Fe.height,ot.y+ot.height)-St};Pe[je-1].dispose=1,je-1!=0&&f(se,he,ae,Pe,je-1,tt,xe),f(se,he,ae,Pe,je,tt,xe)}let lt=0;if(se.length!=1)for(var Ae=0;Ae<Pe.length;Ae++){var rt;lt+=(rt=Pe[Ae]).rect.width*rt.rect.height}return Pe}(S,N,O,F,E,L),W={},G=[],Z=[];if(I!=0){const ne=[];for(z=0;z<q.length;z++)ne.push(q[z].img.buffer);const se=function(xe){let Ce=0;for(var Pe=0;Pe<xe.length;Pe++)Ce+=xe[Pe].byteLength;const je=new Uint8Array(Ce);let $e=0;for(Pe=0;Pe<xe.length;Pe++){const Ze=new Uint8Array(xe[Pe]),lt=Ze.length;for(let Ae=0;Ae<lt;Ae+=4){let rt=Ze[Ae],Fe=Ze[Ae+1],ot=Ze[Ae+2];const ct=Ze[Ae+3];ct==0&&(rt=Fe=ot=0),je[$e+Ae]=rt,je[$e+Ae+1]=Fe,je[$e+Ae+2]=ot,je[$e+Ae+3]=ct}$e+=lt}return je.buffer}(ne),he=g(se,I);for(z=0;z<he.plte.length;z++)G.push(he.plte[z].est.rgba);let ae=0;for(z=0;z<q.length;z++){const oe=(Q=q[z]).img.length;var H=new Uint8Array(he.inds.buffer,ae>>2,oe>>2);Z.push(H);const xe=new Uint8Array(he.abuf,ae,oe);R&&l(Q.img,Q.rect.width,Q.rect.height,G,xe,H),Q.img.set(xe),ae+=oe}}else for(U=0;U<q.length;U++){var Q=q[U];const ne=new Uint32Array(Q.img.buffer);var re=Q.rect.width;for(V=ne.length,H=new Uint8Array(V),Z.push(H),z=0;z<V;z++){const se=ne[z];if(z!=0&&se==ne[z-1])H[z]=H[z-1];else if(z>re&&se==ne[z-re])H[z]=H[z-re];else{let he=W[se];if(he==null&&(W[se]=he=G.length,G.push(se),G.length>=300))break;H[z]=he}}}const ee=G.length;for(ee<=256&&P==0&&(j=ee<=2?1:ee<=4?2:ee<=16?4:8,j=Math.max(j,A)),U=0;U<q.length;U++){(Q=q[U]).rect.x,Q.rect.y,re=Q.rect.width;const ne=Q.rect.height;let se=Q.img;new Uint32Array(se.buffer);let he=4*re,ae=4;if(ee<=256&&P==0){he=Math.ceil(j*re/8);var ce=new Uint8Array(he*ne);const oe=Z[U];for(let xe=0;xe<ne;xe++){z=xe*he;const Ce=xe*re;if(j==8)for(var X=0;X<re;X++)ce[z+X]=oe[Ce+X];else if(j==4)for(X=0;X<re;X++)ce[z+(X>>1)]|=oe[Ce+X]<<4-4*(1&X);else if(j==2)for(X=0;X<re;X++)ce[z+(X>>2)]|=oe[Ce+X]<<6-2*(3&X);else if(j==1)for(X=0;X<re;X++)ce[z+(X>>3)]|=oe[Ce+X]<<7-1*(7&X)}se=ce,T=3,ae=1}else if(B==0&&q.length==1){ce=new Uint8Array(re*ne*3);const oe=re*ne;for(z=0;z<oe;z++){const xe=3*z,Ce=4*z;ce[xe]=se[Ce],ce[xe+1]=se[Ce+1],ce[xe+2]=se[Ce+2]}se=ce,T=2,ae=3,he=3*re}Q.img=se,Q.bpl=he,Q.bpp=ae}return{ctype:T,depth:j,plte:G,frames:q}}function f(S,N,O,I,$,F,E){const L=Uint8Array,A=Uint32Array,P=new L(S[$-1]),R=new A(S[$-1]),T=$+1<S.length?new L(S[$+1]):null,j=new L(S[$]),M=new A(j.buffer);let U=N,V=O,z=-1,B=-1;for(let W=0;W<F.height;W++)for(let G=0;G<F.width;G++){const Z=F.x+G,H=F.y+W,Q=H*N+Z,re=M[Q];re==0||I[$-1].dispose==0&&R[Q]==re&&(T==null||T[4*Q+3]!=0)||(Z<U&&(U=Z),Z>z&&(z=Z),H<V&&(V=H),H>B&&(B=H))}z==-1&&(U=V=z=B=0),E&&((1&U)==1&&U--,(1&V)==1&&V--),F={x:U,y:V,width:z-U+1,height:B-V+1};const q=I[$];q.rect=F,q.blend=1,q.img=new Uint8Array(F.width*F.height*4),I[$-1].dispose==0?(e(P,N,O,q.img,F.width,F.height,-F.x,-F.y,0),h(j,N,O,q.img,F)):e(j,N,O,q.img,F.width,F.height,-F.x,-F.y,0)}function h(S,N,O,I,$){e(S,N,O,I,$.width,$.height,-$.x,-$.y,2)}function m(S,N,O,I,$,F,E){const L=[];let A,P=[0,1,2,3,4];F!=-1?P=[F]:(N*I>5e5||O==1)&&(P=[0]),E&&(A={level:0});const R=pX;for(var T=0;T<P.length;T++){for(let U=0;U<N;U++)v($,S,U,I,O,P[T]);L.push(R.deflate($,A))}let j,M=1e9;for(T=0;T<L.length;T++)L[T].length<M&&(j=T,M=L[T].length);return L[j]}function v(S,N,O,I,$,F){const E=O*I;let L=E+O;if(S[L]=F,L++,F==0)if(I<500)for(var A=0;A<I;A++)S[L+A]=N[E+A];else S.set(new Uint8Array(N.buffer,E,I),L);else if(F==1){for(A=0;A<$;A++)S[L+A]=N[E+A];for(A=$;A<I;A++)S[L+A]=N[E+A]-N[E+A-$]+256&255}else if(O==0){for(A=0;A<$;A++)S[L+A]=N[E+A];if(F==2)for(A=$;A<I;A++)S[L+A]=N[E+A];if(F==3)for(A=$;A<I;A++)S[L+A]=N[E+A]-(N[E+A-$]>>1)+256&255;if(F==4)for(A=$;A<I;A++)S[L+A]=N[E+A]-n(N[E+A-$],0,0)+256&255}else{if(F==2)for(A=0;A<I;A++)S[L+A]=N[E+A]+256-N[E+A-I]&255;if(F==3){for(A=0;A<$;A++)S[L+A]=N[E+A]+256-(N[E+A-I]>>1)&255;for(A=$;A<I;A++)S[L+A]=N[E+A]+256-(N[E+A-I]+N[E+A-$]>>1)&255}if(F==4){for(A=0;A<$;A++)S[L+A]=N[E+A]+256-n(0,N[E+A-I],0)&255;for(A=$;A<I;A++)S[L+A]=N[E+A]+256-n(N[E+A-$],N[E+A-I],N[E+A-$-I])&255}}}function g(S,N){const O=new Uint8Array(S),I=O.slice(0),$=new Uint32Array(I.buffer),F=y(I,N),E=F[0],L=F[1],A=O.length,P=new Uint8Array(A>>2);let R;if(O.length<2e7)for(var T=0;T<A;T+=4)R=x(E,j=O[T]*(1/255),M=O[T+1]*(1/255),U=O[T+2]*(1/255),V=O[T+3]*(1/255)),P[T>>2]=R.ind,$[T>>2]=R.est.rgba;else for(T=0;T<A;T+=4){var j=O[T]*.00392156862745098,M=O[T+1]*(1/255),U=O[T+2]*(1/255),V=O[T+3]*(1/255);for(R=E;R.left;)R=b(R.est,j,M,U,V)<=0?R.left:R.right;P[T>>2]=R.ind,$[T>>2]=R.est.rgba}return{abuf:I.buffer,inds:P,plte:L}}function y(S,N,O){O==null&&(O=1e-4);const I=new Uint32Array(S.buffer),$={i0:0,i1:S.length,bst:null,est:null,tdst:0,left:null,right:null};$.bst=w(S,$.i0,$.i1),$.est=D($.bst);const F=[$];for(;F.length<N;){let L=0,A=0;for(var E=0;E<F.length;E++)F[E].est.L>L&&(L=F[E].est.L,A=E);if(L<O)break;const P=F[A],R=C(S,I,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=R||P.i1<=R){P.est.L=0;continue}const T={i0:P.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};T.bst=w(S,T.i0,T.i1),T.est=D(T.bst);const j={i0:R,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:P.bst.N-T.bst.N},E=0;E<16;E++)j.bst.R[E]=P.bst.R[E]-T.bst.R[E];for(E=0;E<4;E++)j.bst.m[E]=P.bst.m[E]-T.bst.m[E];j.est=D(j.bst),P.left=T,P.right=j,F[A]=T,F.push(j)}for(F.sort((L,A)=>A.bst.N-L.bst.N),E=0;E<F.length;E++)F[E].ind=E;return[$,F]}function x(S,N,O,I,$){if(S.left==null)return S.tdst=function(T,j,M,U,V){const z=j-T[0],B=M-T[1],q=U-T[2],W=V-T[3];return z*z+B*B+q*q+W*W}(S.est.q,N,O,I,$),S;const F=b(S.est,N,O,I,$);let E=S.left,L=S.right;F>0&&(E=S.right,L=S.left);const A=x(E,N,O,I,$);if(A.tdst<=F*F)return A;const P=x(L,N,O,I,$);return P.tdst<A.tdst?P:A}function b(S,N,O,I,$){const{e:F}=S;return F[0]*N+F[1]*O+F[2]*I+F[3]*$-S.eMq}function C(S,N,O,I,$,F){for(I-=4;O<I;){for(;_(S,O,$)<=F;)O+=4;for(;_(S,I,$)>F;)I-=4;if(O>=I)break;const E=N[O>>2];N[O>>2]=N[I>>2],N[I>>2]=E,O+=4,I-=4}for(;_(S,O,$)>F;)O-=4;return O+4}function _(S,N,O){return S[N]*O[0]+S[N+1]*O[1]+S[N+2]*O[2]+S[N+3]*O[3]}function w(S,N,O){const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$=[0,0,0,0],F=O-N>>2;for(let E=N;E<O;E+=4){const L=S[E]*.00392156862745098,A=S[E+1]*(1/255),P=S[E+2]*(1/255),R=S[E+3]*(1/255);$[0]+=L,$[1]+=A,$[2]+=P,$[3]+=R,I[0]+=L*L,I[1]+=L*A,I[2]+=L*P,I[3]+=L*R,I[5]+=A*A,I[6]+=A*P,I[7]+=A*R,I[10]+=P*P,I[11]+=P*R,I[15]+=R*R}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:$,N:F}}function D(S){const{R:N}=S,{m:O}=S,{N:I}=S,$=O[0],F=O[1],E=O[2],L=O[3],A=I==0?0:1/I,P=[N[0]-$*$*A,N[1]-$*F*A,N[2]-$*E*A,N[3]-$*L*A,N[4]-F*$*A,N[5]-F*F*A,N[6]-F*E*A,N[7]-F*L*A,N[8]-E*$*A,N[9]-E*F*A,N[10]-E*E*A,N[11]-E*L*A,N[12]-L*$*A,N[13]-L*F*A,N[14]-L*E*A,N[15]-L*L*A],R=P,T=k;let j=[Math.random(),Math.random(),Math.random(),Math.random()],M=0,U=0;if(I!=0)for(let z=0;z<16&&(j=T.multVec(R,j),U=Math.sqrt(T.dot(j,j)),j=T.sml(1/U,j),!(z!=0&&Math.abs(U-M)<1e-9));z++)M=U;const V=[$*A,F*A,E*A,L*A];return{Cov:P,q:V,e:j,L:M,eMq255:T.dot(T.sml(255,V),j),eMq:T.dot(j,V),rgba:(Math.round(255*V[3])<<24|Math.round(255*V[2])<<16|Math.round(255*V[1])<<8|Math.round(255*V[0])<<0)>>>0}}var k={multVec:(S,N)=>[S[0]*N[0]+S[1]*N[1]+S[2]*N[2]+S[3]*N[3],S[4]*N[0]+S[5]*N[1]+S[6]*N[2]+S[7]*N[3],S[8]*N[0]+S[9]*N[1]+S[10]*N[2]+S[11]*N[3],S[12]*N[0]+S[13]*N[1]+S[14]*N[2]+S[15]*N[3]],dot:(S,N)=>S[0]*N[0]+S[1]*N[1]+S[2]*N[2]+S[3]*N[3],sml:(S,N)=>[S*N[0],S*N[1],S*N[2],S*N[3]]};Rr.encode=function(N,O,I,$,F,E,L){$==null&&($=0),L==null&&(L=!1);const A=u(N,O,I,$,[!1,!1,!1,0,L,!1]);return d(A,-1),c(A,O,I,F,E)},Rr.encodeLL=function(N,O,I,$,F,E,L,A){const P={ctype:0+($==1?0:2)+(F==0?0:4),depth:E,frames:[]},R=($+F)*E,T=R*O;for(let j=0;j<N.length;j++)P.frames.push({rect:{x:0,y:0,width:O,height:I},img:new Uint8Array(N[j]),blend:0,dispose:1,bpp:Math.ceil(R/8),bpl:Math.ceil(T/8)});return d(P,0,!0),c(P,O,I,L,A)},Rr.encode.compress=u,Rr.encode.dither=l,Rr.quantize=g,Rr.quantize.getKDtree=y,Rr.quantize.getNearest=x})();const TM={toArrayBuffer(e,t){const n=e.width,r=e.height,s=n<<2,i=e.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(i.data.buffer),l=(32*n+31)/32<<2,c=l*r,d=122+c,u=new ArrayBuffer(d),f=new DataView(u),h=1<<20;let m,v,g,y,x=h,b=0,C=0,_=0;function w(S){f.setUint16(C,S,!0),C+=2}function D(S){f.setUint32(C,S,!0),C+=4}function k(S){C+=S}w(19778),D(d),k(4),D(122),D(108),D(n),D(-r>>>0),w(1),w(32),D(3),D(c),D(2835),D(2835),k(8),D(16711680),D(65280),D(255),D(4278190080),D(1466527264),function S(){for(;b<r&&x>0;){for(y=122+b*l,m=0;m<s;)x--,v=a[_++],g=v>>>24,f.setUint32(y+m,v<<8|g),m+=4;b++}_<a.length?(x=h,setTimeout(S,TM._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,n=>{t(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Kn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},gX={[Kn.CHROME]:16384,[Kn.FIREFOX]:11180,[Kn.DESKTOP_SAFARI]:16384,[Kn.IE]:8192,[Kn.IOS]:4096,[Kn.ETC]:8192};const ax=typeof window<"u",AM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,gh=ax&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),vX=(ax||AM)&&(gh&&gh.getOriginalSymbol(window,"File")||typeof File<"u"&&File),MM=(ax||AM)&&(gh&&gh.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ox(e,t,n=Date.now()){return new Promise(r=>{const s=e.split(","),i=s[0].match(/:(.*?);/)[1],a=globalThis.atob(s[1]);let l=a.length;const c=new Uint8Array(l);for(;l--;)c[l]=a.charCodeAt(l);const d=new Blob([c],{type:i});d.name=t,d.lastModified=n,r(d)})}function RM(e){return new Promise((t,n)=>{const r=new MM;r.onload=()=>t(r.result),r.onerror=s=>n(s),r.readAsDataURL(e)})}function IM(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=s=>n(s),r.src=e})}function Ea(){if(Ea.cachedResult!==void 0)return Ea.cachedResult;let e=Kn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Kn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Kn.IOS:/Safari/i.test(t)?e=Kn.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Kn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Kn.IE),Ea.cachedResult=e,Ea.cachedResult}function OM(e,t){const n=Ea(),r=gX[n];let s=e,i=t,a=s*i;const l=s>i?i/s:s/i;for(;a>r*r;){const c=(r+s)/2,d=(r+i)/2;c<d?(i=d,s=d*l):(i=c*l,s=c),a=s*i}return{width:s,height:i}}function Tm(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function FM(e,t){const{width:n,height:r}=OM(e.width,e.height),[s,i]=Tm(n,r);return t&&/jpe?g/.test(t)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(e,0,0,s.width,s.height),s}function bf(){return bf.cachedResult!==void 0||(bf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),bf.cachedResult}function vh(e,t={}){return new Promise(function(n,r){let s,i;var a=function(){try{return i=FM(s,t.fileType||e.type),n([s,i])}catch(c){return r(c)}},l=function(c){try{var d=function(u){try{throw u}catch(f){return r(f)}};try{let u;return RM(e).then(function(f){try{return u=f,IM(u).then(function(h){try{return s=h,function(){try{return a()}catch(m){return r(m)}}()}catch(m){return d(m)}},d)}catch(h){return d(h)}},d)}catch(u){d(u)}}catch(u){return r(u)}};try{if(bf()||[Kn.DESKTOP_SAFARI,Kn.MOBILE_SAFARI].includes(Ea()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(c){try{return s=c,a()}catch{return l()}},l)}catch{l()}})}function yh(e,t,n,r,s=1){return new Promise(function(i,a){let l;if(t==="image/png"){let d,u,f;return d=e.getContext("2d"),{data:u}=d.getImageData(0,0,e.width,e.height),f=Rr.encode([u.buffer],e.width,e.height,4096*s),l=new Blob([f],{type:t}),l.name=n,l.lastModified=r,c.call(this)}{let d=function(){return c.call(this)};if(t==="image/bmp")return new Promise(u=>TM.toBlob(e,u)).then((function(u){try{return l=u,l.name=n,l.lastModified=r,d.call(this)}catch(f){return a(f)}}).bind(this),a);{let u=function(){return d.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:s}).then((function(f){try{return l=f,l.name=n,l.lastModified=r,u.call(this)}catch(h){return a(h)}}).bind(this),a);{let f;return f=e.toDataURL(t,s),ox(f,n,r).then((function(h){try{return l=h,u.call(this)}catch(m){return a(m)}}).bind(this),a)}}}function c(){return i(l)}})}function us(e){e.width=0,e.height=0}function Fo(){return new Promise(function(e,t){let n,r,s,i;return Fo.cachedResult!==void 0?e(Fo.cachedResult):ox("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,vh(n).then(function(l){try{return r=l[1],yh(r,n.type,n.name,n.lastModified).then(function(c){try{return s=c,us(r),vh(s).then(function(d){try{return i=d[0],Fo.cachedResult=i.width===1&&i.height===2,e(Fo.cachedResult)}catch(u){return t(u)}},t)}catch(d){return t(d)}},t)}catch(c){return t(c)}},t)}catch(l){return t(l)}},t)})}function LM(e){return new Promise((t,n)=>{const r=new MM;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return t(-2);const a=i.byteLength;let l=2;for(;l<a;){if(i.getUint16(l+2,!1)<=8)return t(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return t(-1);const d=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,d);const u=i.getUint16(l,d);l+=2;for(let f=0;f<u;f++)if(i.getUint16(l+12*f,d)==274)return t(i.getUint16(l+12*f+8,d))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return t(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(e)})}function $M(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:s}=t;let i,a=e;return isFinite(s)&&(n>s||r>s)&&([a,i]=Tm(n,r),n>r?(a.width=s,a.height=r/n*s):(a.width=n/r*s,a.height=s),i.drawImage(e,0,0,a.width,a.height),us(e)),a}function UM(e,t){const{width:n}=e,{height:r}=e,[s,i]=Tm(n,r);switch(t>4&&t<9?(s.width=r,s.height=n):(s.width=n,s.height=r),t){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(e,0,0,n,r),us(e),s}function vS(e,t,n=0){return new Promise(function(r,s){let i,a,l,c,d,u,f,h,m,v,g,y,x,b,C,_,w,D,k,S;function N(I=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;i+=I,t.onProgress(Math.min(i,100))}function O(I){if(t.signal&&t.signal.aborted)throw t.signal.reason;i=Math.min(Math.max(I,i),100),t.onProgress(i)}return i=n,a=t.maxIteration||10,l=1024*t.maxSizeMB*1024,N(),vh(e,t).then((function(I){try{return[,c]=I,N(),d=$M(c,t),N(),new Promise(function($,F){var E;if(!(E=t.exifOrientation))return LM(e).then((function(A){try{return E=A,L.call(this)}catch(P){return F(P)}}).bind(this),F);function L(){return $(E)}return L.call(this)}).then((function($){try{return u=$,N(),Fo().then((function(F){try{return f=F?d:UM(d,u),N(),h=t.initialQuality||1,m=t.fileType||e.type,yh(f,m,e.name,e.lastModified,h).then((function(E){try{{let A=function(){if(a--&&(C>l||C>x)){let R,T;return R=S?.95*k.width:k.width,T=S?.95*k.height:k.height,[w,D]=Tm(R,T),D.drawImage(k,0,0,R,T),h*=m==="image/png"?.85:.95,yh(w,m,e.name,e.lastModified,h).then(function(j){try{return _=j,us(k),k=w,C=_.size,O(Math.min(99,Math.floor((b-C)/(b-l)*100))),A}catch(M){return s(M)}},s)}return[1]},P=function(){return us(k),us(w),us(d),us(f),us(c),O(100),r(_)};if(v=E,N(),g=v.size>l,y=v.size>e.size,!g&&!y)return O(100),r(v);var L;return x=e.size,b=v.size,C=b,k=f,S=!t.alwaysKeepResolution&&g,(L=(function(R){for(;R;){if(R.then)return void R.then(L,s);try{if(R.pop){if(R.length)return R.pop()?P.call(this):R;R=A}else R=R.call(this)}catch(T){return s(T)}}}).bind(this))(A)}}catch(A){return s(A)}}).bind(this),s)}catch(E){return s(E)}}).bind(this),s)}catch(F){return s(F)}}).bind(this),s)}catch($){return s($)}}).bind(this),s)})}const yX=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let rg;function wX(e,t){return new Promise((n,r)=>{rg||(rg=function(a){const l=[];return l.push(a),URL.createObjectURL(new Blob(l))}(yX));const s=new Worker(rg);s.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)s.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void s.terminate();n(a.data.file),s.terminate()}else t.onProgress(a.data.progress)}),s.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",()=>{r(t.signal.reason),s.terminate()}),s.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function jn(e,t){return new Promise(function(n,r){let s,i,a,l,c,d;if(s={...t},a=0,{onProgress:l}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=m=>{a=m,typeof l=="function"&&l(a)},!(e instanceof Blob||e instanceof vX))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return vS(e,s).then((function(m){try{return i=m,h.call(this)}catch(v){return r(v)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(m){return r(m)}}).bind(this),f=function(m){try{return vS(e,s).then(function(v){try{return i=v,u()}catch(g){return r(g)}},r)}catch(v){return r(v)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",wX(e,s).then(function(m){try{return i=m,u()}catch{return f()}},f)}catch{f()}function h(){try{i.name=e.name,i.lastModified=e.lastModified}catch{}try{s.preserveExif&&e.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(i=NM(e,i))}catch{}return n(i)}})}jn.getDataUrlFromFile=RM,jn.getFilefromDataUrl=ox,jn.loadImage=IM,jn.drawImageInCanvas=FM,jn.drawFileInCanvas=vh,jn.canvasToFile=yh,jn.getExifOrientation=LM,jn.handleMaxWidthOrHeight=$M,jn.followExifOrientation=UM,jn.cleanupCanvasMemory=us,jn.isAutoOrientationInBrowser=Fo,jn.approximateBelowMaximumCanvasSizeOfBrowser=OM,jn.copyExifWithoutOrientation=NM,jn.getBrowserName=Ea,jn.version="2.0.2";var xX=Object.defineProperty,bX=(e,t,n)=>t in e?xX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_t=(e,t,n)=>bX(e,typeof t!="symbol"?t+"":t,n);const wh={x:0,y:0,width:0,height:0,unit:"px"},go=(e,t,n)=>Math.min(Math.max(e,t),n),CX=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),yS=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function vo(e,t,n){return e.unit==="%"?{...wh,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function si(e,t,n){return e.unit?e.unit==="px"?{...wh,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...wh,...e,unit:"px"}}function wS(e,t,n,r,s,i=0,a=0,l=r,c=s){const d={...e};let u=Math.min(i,r),f=Math.min(a,s),h=Math.min(l,r),m=Math.min(c,s);t&&(t>1?(u=a?a*t:u,f=u/t,h=l*t):(f=i?i/t:f,u=f*t,m=c/t)),d.y<0&&(d.height=Math.max(d.height+d.y,f),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,u),d.x=0);const v=r-(d.x+d.width);v<0&&(d.x=Math.min(d.x,r-u),d.width+=v);const g=s-(d.y+d.height);if(g<0&&(d.y=Math.min(d.y,s-f),d.height+=g),d.width<u&&((n==="sw"||n=="nw")&&(d.x-=u-d.width),d.width=u),d.height<f&&((n==="nw"||n=="ne")&&(d.y-=f-d.height),d.height=f),d.width>h&&((n==="sw"||n=="nw")&&(d.x-=h-d.width),d.width=h),d.height>m&&((n==="nw"||n=="ne")&&(d.y-=m-d.height),d.height=m),t){const y=d.width/d.height;if(y<t){const x=Math.max(d.width/t,f);(n==="nw"||n=="ne")&&(d.y-=x-d.height),d.height=x}else if(y>t){const x=Math.max(d.height*t,u);(n==="sw"||n=="nw")&&(d.x-=x-d.width),d.width=x}}return d}function SX(e,t,n,r){const s={...e};return t==="ArrowLeft"?r==="nw"?(s.x-=n,s.y-=n,s.width+=n,s.height+=n):r==="w"?(s.x-=n,s.width+=n):r==="sw"?(s.x-=n,s.width+=n,s.height+=n):r==="ne"?(s.y+=n,s.width-=n,s.height-=n):r==="e"?s.width-=n:r==="se"&&(s.width-=n,s.height-=n):t==="ArrowRight"&&(r==="nw"?(s.x+=n,s.y+=n,s.width-=n,s.height-=n):r==="w"?(s.x+=n,s.width-=n):r==="sw"?(s.x+=n,s.width-=n,s.height-=n):r==="ne"?(s.y-=n,s.width+=n,s.height+=n):r==="e"?s.width+=n:r==="se"&&(s.width+=n,s.height+=n)),t==="ArrowUp"?r==="nw"?(s.x-=n,s.y-=n,s.width+=n,s.height+=n):r==="n"?(s.y-=n,s.height+=n):r==="ne"?(s.y-=n,s.width+=n,s.height+=n):r==="sw"?(s.x+=n,s.width-=n,s.height-=n):r==="s"?s.height-=n:r==="se"&&(s.width-=n,s.height-=n):t==="ArrowDown"&&(r==="nw"?(s.x+=n,s.y+=n,s.width-=n,s.height-=n):r==="n"?(s.y+=n,s.height-=n):r==="ne"?(s.y+=n,s.width-=n,s.height-=n):r==="sw"?(s.x-=n,s.width+=n,s.height+=n):r==="s"?s.height+=n:r==="se"&&(s.width+=n,s.height+=n)),s}const yo={capture:!0,passive:!1};let jX=0;const di=class Ir extends p.PureComponent{constructor(){super(...arguments),_t(this,"docMoveBound",!1),_t(this,"mouseDownOnCrop",!1),_t(this,"dragStarted",!1),_t(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),_t(this,"componentRef",p.createRef()),_t(this,"mediaRef",p.createRef()),_t(this,"resizeObserver"),_t(this,"initChangeCalled",!1),_t(this,"instanceId",`rc-${jX++}`),_t(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),_t(this,"onCropPointerDown",t=>{const{crop:n,disabled:r}=this.props,s=this.getBox();if(!n)return;const i=si(n,s.width,s.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const a=t.target.dataset.ord,l=!!a;let c=t.clientX,d=t.clientY,u=i.x,f=i.y;if(a){const h=t.clientX-s.x,m=t.clientY-s.y;let v=0,g=0;a==="ne"||a=="e"?(v=h-(i.x+i.width),g=m-i.y,u=i.x,f=i.y+i.height):a==="se"||a==="s"?(v=h-(i.x+i.width),g=m-(i.y+i.height),u=i.x,f=i.y):a==="sw"||a=="w"?(v=h-i.x,g=m-(i.y+i.height),u=i.x+i.width,f=i.y):(a==="nw"||a=="n")&&(v=h-i.x,g=m-i.y,u=i.x+i.width,f=i.y+i.height),c=u+s.x+v,d=f+s.y+g}this.evData={startClientX:c,startClientY:d,startCropX:u,startCropY:f,clientX:t.clientX,clientY:t.clientY,isResize:l,ord:a},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),_t(this,"onComponentPointerDown",t=>{const{crop:n,disabled:r,locked:s,keepSelection:i,onChange:a}=this.props,l=this.getBox();if(r||s||i&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-l.x,d=t.clientY-l.y,u={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,a(si(u,l.width,l.height),vo(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),_t(this,"onDocPointerMove",t=>{const{crop:n,disabled:r,onChange:s,onDragStart:i}=this.props,a=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:l}=this;l.clientX=t.clientX,l.clientY=t.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),yS(n,c)||s(si(c,a.width,a.height),vo(c,a.width,a.height))}),_t(this,"onComponentKeyDown",t=>{const{crop:n,disabled:r,onChange:s,onComplete:i}=this.props;if(r)return;const a=t.key;let l=!1;if(!n)return;const c=this.getBox(),d=this.makePixelCrop(c),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Ir.nudgeStepLarge:t.shiftKey?Ir.nudgeStepMedium:Ir.nudgeStep;if(a==="ArrowLeft"?(d.x-=u,l=!0):a==="ArrowRight"?(d.x+=u,l=!0):a==="ArrowUp"?(d.y-=u,l=!0):a==="ArrowDown"&&(d.y+=u,l=!0),l){t.cancelable&&t.preventDefault(),d.x=go(d.x,0,c.width-d.width),d.y=go(d.y,0,c.height-d.height);const f=si(d,c.width,c.height),h=vo(d,c.width,c.height);s(f,h),i&&i(f,h)}}),_t(this,"onHandlerKeyDown",(t,n)=>{const{aspect:r=0,crop:s,disabled:i,minWidth:a=0,minHeight:l=0,maxWidth:c,maxHeight:d,onChange:u,onComplete:f}=this.props,h=this.getBox();if(i||!s)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Ir.nudgeStepLarge:t.shiftKey?Ir.nudgeStepMedium:Ir.nudgeStep,v=si(s,h.width,h.height),g=SX(v,t.key,m,n),y=wS(g,r,n,h.width,h.height,a,l,c,d);if(!yS(s,y)){const x=vo(y,h.width,h.height);u(y,x),f&&f(y,x)}}),_t(this,"onDocPointerDone",t=>{const{crop:n,disabled:r,onComplete:s,onDragEnd:i}=this.props,a=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),s&&s(si(n,a.width,a.height),vo(n,a.width,a.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),_t(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:s,height:i}=t.getBoundingClientRect();return{x:n,y:r,width:s,height:i}}componentDidUpdate(t){const{crop:n,onComplete:r}=this.props;if(r&&!t.crop&&n){const{width:s,height:i}=this.getBox();s&&i&&r(si(n,s,i),vo(n,s,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,yo),this.document.addEventListener("pointerup",this.onDocPointerDone,yo),this.document.addEventListener("pointercancel",this.onDocPointerDone,yo),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,yo),this.document.removeEventListener("pointerup",this.onDocPointerDone,yo),this.document.removeEventListener("pointercancel",this.onDocPointerDone,yo),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),r=this.makePixelCrop(n),s=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return r.x=go(t.startCropX+s,0,n.width-r.width),r.y=go(t.startCropY+i,0,n.height-r.height),r}getPointRegion(t,n,r,s){const{evData:i}=this,a=i.clientX-t.x,l=i.clientY-t.y;let c;s&&n?c=n==="nw"||n==="n"||n==="ne":c=l<i.startCropY;let d;return r&&n?d=n==="nw"||n==="w"||n==="sw":d=a<i.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,n,r=0,s=0){const i=Math.min(r,t.width),a=Math.min(s,t.height);return!n||!i&&!a?[i,a]:n>1?i?[i,i/n]:[a*n,a]:a?[a*n,a]:[i,i/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:s}=this.props,i=this.getBox(),[a,l]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const d=this.getPointRegion(i,t.ord,a,l),u=t.ord||d;let f=t.clientX-t.startClientX,h=t.clientY-t.startClientY;(a&&u==="nw"||u==="w"||u==="sw")&&(f=Math.min(f,-a)),(l&&u==="nw"||u==="n"||u==="ne")&&(h=Math.min(h,-l));const m={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(m.x=t.startCropX,m.width=f,n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(h),m.y=t.startCropY-m.height)):d==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=f,n?m.height=m.width/n:m.height=h):d==="sw"?(m.x=t.startCropX+f,m.y=t.startCropY,m.width=Math.abs(f),n?m.height=m.width/n:m.height=h):d==="nw"&&(m.x=t.startCropX+f,m.width=Math.abs(f),n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(h),m.y=t.startCropY+h));const v=wS(m,n,d,i.width,i.height,a,l,r,s);return n||Ir.xyOrds.indexOf(u)>-1?c=v:Ir.xOrds.indexOf(u)>-1?(c.x=v.x,c.width=v.width):Ir.yOrds.indexOf(u)>-1&&(c.y=v.y,c.height=v.height),c.x=go(c.x,0,i.width-c.width),c.y=go(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:t=Ir.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:s,ruleOfThirds:i,crop:a}=this.props,l=this.getCropStyle();if(a)return K.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&K.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},K.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),K.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),K.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),s&&K.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},s(this.state)),i&&K.createElement(K.Fragment,null,K.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),K.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...wh,...this.props.crop||{}};return si(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:r,className:s,crop:i,disabled:a,locked:l,style:c,ruleOfThirds:d}=this.props,{cropIsActive:u,newCropIsBeingDrawn:f}=this.state,h=i?this.renderCropSelection():null,m=CX("ReactCrop",s,u&&"ReactCrop--active",a&&"ReactCrop--disabled",l&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&r&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return K.createElement("div",{ref:this.componentRef,className:m,style:c},K.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?K.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},K.createElement("defs",null,K.createElement("mask",{id:`hole-${this.instanceId}`},K.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?K.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):K.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),K.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,h)}};_t(di,"xOrds",["e","w"]),_t(di,"yOrds",["n","s"]),_t(di,"xyOrds",["nw","ne","se","sw"]),_t(di,"nudgeStep",1),_t(di,"nudgeStepMedium",10),_t(di,"nudgeStepLarge",100),_t(di,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let _X=di;function BM(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}async function kX(){if(!BM())return null;try{return await(await navigator.serviceWorker.ready).pushManager.getSubscription()}catch(e){return console.error("Error getting push subscription:",e),null}}function PX(){return"Notification"in window?Notification.permission:"denied"}async function DX(e,t){try{const{data:n,error:r}=await J.functions.invoke("send-push-notification",{body:{userId:e,notification:{title:t.title,body:t.body,icon:t.icon||"/icon-192.png",badge:t.badge||"/icon-192.png",tag:t.tag,requireInteraction:t.requireInteraction||!1,data:t.data||{}}}});if(r)throw console.error("Error sending push notification:",r),r;return n&&(console.log("Push notification response:",n),n.failed&&n.failed>0&&console.error("Some notifications failed:",n.details)),(n==null?void 0:n.successful)>0||!1}catch(n){throw console.error("Error sending push notification:",n),n}}async function EX(e,t){if(t===0)return;const n=t===1?"Complete your challenge today!":`Complete your ${t} challenges today!`,r=t===1?"You have an incomplete completion challenge. Don't forget to complete today's objectives!":`You have ${t} incomplete completion challenges. Don't forget to complete today's objectives!`;await DX(e,{title:n,body:r,tag:"incomplete-challenge",requireInteraction:!1})}function NX(){const{user:e,logout:t}=Ct(),{language:n}=gt(),{t:r}=pt(n),{toast:s}=un(),{canInstall:i,promptInstall:a}=RD(),[l,c]=p.useState((e==null?void 0:e.name)||""),[d,u]=p.useState((e==null?void 0:e.email)||""),[f,h]=p.useState(!1),[m,v]=p.useState(!1),[g,y]=p.useState(null),[x,b]=p.useState({unit:"%",width:100,height:100,x:0,y:0}),[C,_]=p.useState(null),w=async N=>{var I;const O=(I=N.target.files)==null?void 0:I[0];if(!(!O||!e)){if(O.size>5*1024*1024){s({title:r("error"),description:r("fileTooLarge"),variant:"destructive"});return}if(!O.type.startsWith("image/")){s({title:r("error"),description:r("invalidFileType"),variant:"destructive"});return}y(O),v(!0)}},D=async(N,O)=>{const I=document.createElement("canvas"),$=N.naturalWidth/N.width,F=N.naturalHeight/N.height,E={x:O.x*$,y:O.y*F,width:O.width*$,height:O.height*F};I.width=E.width,I.height=E.height;const L=I.getContext("2d");if(!L)throw new Error("No 2d context");return L.drawImage(N,E.x,E.y,E.width,E.height,0,0,E.width,E.height),new Promise((A,P)=>{I.toBlob(R=>{if(!R){P(new Error("Canvas is empty"));return}A(R)},"image/jpeg",.95)})},k=async()=>{if(!(!g||!C||!e))try{h(!0),v(!1);const N=await D(C,x),O=new File([N],g.name,{type:"image/jpeg"}),$=await jn(O,{maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.9}),E=`${e.id}/${Date.now()}.jpg`,{error:L}=await J.storage.from("avatars").upload(E,$,{cacheControl:"3600",upsert:!0,contentType:"image/jpeg"});if(L)throw L;const{data:{publicUrl:A}}=J.storage.from("avatars").getPublicUrl(E),{error:P}=await J.auth.updateUser({data:{avatar_url:A}});if(P)throw P;await J.from("user_profiles").upsert({id:e.id,name:e.name,avatar_url:A,updated_at:new Date().toISOString()}),s({title:r("success"),description:r("avatarUpdated")})}catch(N){console.error("Error uploading avatar:",N),s({title:r("error"),description:r("avatarUpdateFailed"),variant:"destructive"})}finally{h(!1),y(null)}},S=async N=>{if(N.preventDefault(),!!e)try{const{error:O}=await J.auth.updateUser({data:{name:l},email:d!==e.email?d:void 0});if(O)throw O;await J.from("user_profiles").upsert({id:e.id,name:l,avatar_url:e.avatarUrl,updated_at:new Date().toISOString()}),s({title:r("profileUpdated"),description:r("profileUpdatedDescription")})}catch(O){console.error("Error updating profile:",O),s({title:r("error"),description:r("profileUpdateFailed"),variant:"destructive"})}};return e?o.jsxs("div",{className:"container py-4 sm:py-6 md:py-8 px-3 sm:px-4 md:px-6",children:[o.jsxs("div",{className:"mx-auto max-w-5xl",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:r("myProfile")}),o.jsx("div",{className:"mt-4 sm:mt-6 md:mt-8",children:o.jsxs(PT,{defaultValue:"general",className:"w-full",children:[o.jsxs(bw,{className:"w-full sm:w-auto",children:[o.jsx($a,{value:"general",className:"flex-1 sm:flex-none",children:r("tabGeneral")}),o.jsx($a,{value:"strava",className:"flex-1 sm:flex-none",children:r("tabStrava")}),o.jsx($a,{value:"personal-best",className:"flex-1 sm:flex-none",children:r("tabPersonalBest")})]}),o.jsxs(Ua,{value:"general",className:"mt-6 space-y-6",children:[o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsx(Xe,{children:o.jsxs(Yt,{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(Ls,{className:"h-24 w-24",children:[e.avatarUrl&&o.jsx($s,{src:e.avatarUrl,onError:N=>{N.target.style.display="none"}}),o.jsx(Us,{children:o.jsx(Fs,{className:"h-12 w-12"})})]}),o.jsxs("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-primary text-primary-foreground hover:bg-primary/90 select-none",children:[o.jsx(J4,{className:"h-4 w-4"}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:w,disabled:f})]})]}),o.jsx(Gt,{className:"mt-4",children:e.name}),o.jsx(gn,{children:e.email})]})})}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs(Xe,{children:[o.jsxs(Yt,{children:[o.jsx(Gt,{children:r("profileInformation")}),o.jsx(gn,{children:r("updatePersonalDetails")})]}),o.jsxs(bt,{children:[i&&o.jsx("div",{className:"mb-4",children:o.jsx(de,{type:"button",variant:"secondary",onClick:a,children:r("installAppConfirm")})}),!1,o.jsxs("form",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"name",children:r("fullName")}),o.jsx(Ge,{id:"name",value:l,onChange:N=>c(N.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(De,{htmlFor:"email",children:r("email")}),o.jsx(Ge,{id:"email",type:"email",value:d,disabled:!0,readOnly:!0})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsx(de,{type:"submit",onClick:S,className:"w-full sm:w-auto",children:r("saveChanges")}),o.jsx(de,{type:"button",variant:"outline",onClick:t,className:"w-full sm:w-auto",children:r("logOut")})]})]})]})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsx("div",{className:"md:col-span-1"}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(dX,{})})]})]}),o.jsxs(Ua,{value:"strava",className:"mt-6 space-y-6",children:[o.jsx(ng,{children:o.jsx(cX,{})}),o.jsx(ng,{children:o.jsx(oX,{})})]}),o.jsx(Ua,{value:"personal-best",className:"mt-6",children:o.jsx(ng,{children:o.jsx(uX,{})})})]})})]}),o.jsx(cr,{open:m,onOpenChange:v,children:o.jsxs(Wn,{className:"sm:max-w-md",children:[o.jsx(Hn,{children:o.jsx(qn,{children:r("cropImage")})}),o.jsxs("div",{className:"space-y-4",children:[g&&o.jsx(_X,{crop:x,onChange:N=>b(N),aspect:1,className:"max-h-[400px] w-full",style:{maxWidth:"100%",height:"auto"},children:o.jsx("img",{src:URL.createObjectURL(g),alt:"Crop preview",ref:_,className:"max-h-[400px] w-full object-contain",style:{maxWidth:"100%",height:"auto"}})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(de,{variant:"outline",onClick:()=>{v(!1),y(null)},children:r("cancel")}),o.jsx(de,{onClick:k,disabled:f,children:r(f?"uploading":"save")})]})]})]})})]}):null}async function TX(e){try{const{data:t,error:n}=await J.from("challenges").select("id, title, challengeType, startDate, endDate, isRepeating, participants").eq("challengeType","completion");if(n)return console.error("Error fetching completion challenges:",n),[];if(!t)return[];const r=t.filter(u=>!u.participants||!Array.isArray(u.participants)?!1:u.participants.includes(e)),{data:s}=await J.from("user_challenge_starts").select("challenge_id, start_date, end_date").eq("user_id",e),i=new Map,a=new Map;s&&s.forEach(u=>{i.set(u.challenge_id,u.start_date),u.end_date&&a.set(u.challenge_id,u.end_date)});const l=[],c=Rn(),d=ht(new Date(c));for(const u of r){const f=u.isRepeating&&i.has(u.id)?ht(new Date(i.get(u.id))):u.startDate?ht(new Date(u.startDate)):null;if(!f)continue;const h=u.isRepeating?a.has(u.id)?ht(new Date(a.get(u.id))):null:u.endDate?ht(new Date(u.endDate)):null;if(f>d||h&&h<d)continue;const m=h&&h<d?h:d;if(f>m)continue;const{data:v,error:g}=await J.from("objectives").select("id").eq("challenge_id",u.id);if(g||!v||v.length===0)continue;const y=new Set(v.map(N=>N.id)),{startUTC:x,endUTC:b}=tD(f,m),{data:C,error:_}=await J.from("entries").select("created_at, objective_id").eq("user_id",e).eq("challenge_id",u.id).gte("created_at",x).lte("created_at",b);if(_){console.error(`Error fetching entries for challenge ${u.id}:`,_);continue}const w=new Map;C&&C.forEach(N=>{const O=Oa(N.created_at);w.has(O)||w.set(O,new Set),w.get(O).add(N.objective_id)});const D=[],k=new Date(f),S=new Date(m);for(;k<=S;)D.push(Rn(k)),k.setDate(k.getDate()+1);for(const N of D){const O=w.get(N)||new Set;Array.from(y).every($=>O.has($))||N===c&&l.push({challengeId:u.id,challengeTitle:u.title,incompleteDate:N})}}return l}catch(t){return console.error("Error checking incomplete completion challenges:",t),[]}}function AX(e=!0,t=6e4,n){const{user:r}=Ct();p.useState(!1);const[s,i]=p.useState(!1),a=p.useRef(null),l=p.useRef(null);return p.useEffect(()=>{if(!e||!r)return;const c=async()=>{if(!BM())return;const u=await kX();i(!!u)};c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[e,r,n]),p.useEffect(()=>{if(!e||!r){a.current&&(clearInterval(a.current),a.current=null);return}const c=async()=>{try{const d=new Date().toDateString();l.current!==null&&l.current!==d&&(l.current=null);const u=await TX(r.id);u.length>0&&l.current!==d&&s&&(await EX(r.id,u.length),l.current=d)}catch(d){console.error("Error checking incomplete challenges:",d)}};return c(),a.current=setInterval(c,t),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[e,r,t,s]),{permission:PX(),isSubscribed:s}}function MX(){const{getUserChallenges:e,getChallenge:t,getUserActivityDates:n,completeDailyChallenge:r,getChallengeProgress:s,getUserChallengeStartDate:i,getUserChallengeEndDate:a}=Xr(),{user:l}=Ct(),{language:c}=gt(),{t:d}=pt(c),u=zu();AX(!0,30*60*1e3,"BHAiyzRENFXhwjNBfPX_sa2LWvffZg6UV0Oybp1A1OI-X4POR3Q6nqsYGuHfwRHJfhg-ZCHyt6esyGiW7Xr0bvQ");const[h,m]=p.useState([]),[v,g]=p.useState(!0),[y,x]=p.useState(null),[b,C]=p.useState(!0),[_,w]=p.useState(!1),[D,k]=p.useState(!1),[S,N]=p.useState(!1),[O,I]=p.useState(!1),[$,F]=p.useState(!1),[E,L]=p.useState(!1),[A,P]=p.useState(new Map);p.useEffect(()=>{if(!l)return;const X=`welcomeInfoDismissed_${l.id}`;localStorage.getItem(X)==="true"||e().then(se=>{se.length,I(!0)})},[l,e]),p.useEffect(()=>{if(!l)return;const X=`inviteNotificationDismissed_${l.id}`;localStorage.getItem(X)==="true"||e().then(se=>{se.length>0&&F(!0)})},[l,e]),p.useEffect(()=>{(async()=>{if(!l||h.length===0)return;const ne=h.filter(xe=>xe.challenge.challengeType==="completion"&&!U(xe.challenge.startDate));if(ne.length===0)return;const se=Rn(),he=Fc(se),ae=Lc(se),oe=new Map;await Promise.all(ne.map(async xe=>{try{const{data:Ce,error:Pe}=await J.from("entries").select("id").eq("user_id",l.id).eq("challenge_id",xe.challenge.id).gte("created_at",he).lte("created_at",ae).limit(1);Pe?(console.error("Error checking completion status:",Pe),oe.set(xe.challenge.id,!1)):oe.set(xe.challenge.id,((Ce==null?void 0:Ce.length)||0)>0)}catch(Ce){console.error("Error checking completion status:",Ce),oe.set(xe.challenge.id,!1)}})),P(oe)})()},[h,l]),p.useEffect(()=>{(async()=>{if(l)try{g(!0);const ne=await cs(e(),15e3);console.log("Dashboard: getUserChallenges returned",ne.length,"challenges");const se=await Promise.allSettled(ne.map(async oe=>{try{const xe=await cs(t(oe.challengeId),1e4);if(xe){const Ce=await cs(s(xe.id,xe.challengeType),1e4);let Pe=null,je=null;try{Pe=await cs(i(xe.id,l.id),5e3),je=await cs(a(xe.id,l.id),5e3)}catch($e){console.warn("Failed to fetch user challenge dates:",$e)}return{challenge:xe,userChallenge:oe,userProgress:Ce,userStartDate:Pe,userEndDate:je}}return null}catch(xe){return console.error(`Error loading challenge ${oe.challengeId}:`,xe),null}})),he=new Date,ae=se.filter(oe=>oe.status==="fulfilled"&&oe.value!==null&&oe.value.challenge!==null).map(oe=>oe.value).filter(oe=>oe!==null&&oe.challenge&&(()=>{if(oe.challenge.isRepeating){const Pe=oe.userStartDate?new Date(oe.userStartDate):null,je=oe.userEndDate?new Date(oe.userEndDate):null;return Pe?Pe<=he&&(!je||je>he):!1}const xe=oe.challenge.startDate?new Date(oe.challenge.startDate):null,Ce=oe.challenge.endDate?new Date(oe.challenge.endDate):null;return xe?xe<=he&&(!Ce||Ce>he)||xe>he:!0})()).sort((oe,xe)=>{const Ce=oe.challenge.isRepeating&&oe.userStartDate?new Date(oe.userStartDate):oe.challenge.startDate?new Date(oe.challenge.startDate):null,Pe=xe.challenge.isRepeating&&xe.userStartDate?new Date(xe.userStartDate):xe.challenge.startDate?new Date(xe.challenge.startDate):null,je=oe.challenge.isRepeating&&oe.userEndDate?new Date(oe.userEndDate):oe.challenge.endDate?new Date(oe.challenge.endDate):null,$e=xe.challenge.isRepeating&&xe.userEndDate?new Date(xe.userEndDate):xe.challenge.endDate?new Date(xe.challenge.endDate):null;if(!Ce&&!Pe)return 0;if(!Ce)return 1;if(!Pe)return-1;const Ze=Ce<=he&&(!je||je>he),lt=Pe<=he&&(!$e||$e>he),Ae=Ce>he,rt=Pe>he;return Ze&&!lt?-1:!Ze&&lt?1:Ze&&lt?!je&&!$e?0:je?$e?je.getTime()-$e.getTime():-1:1:Ae&&rt?Ce.getTime()-Pe.getTime():0});console.log("Dashboard: Filtered to",ae.length,"active challenges"),m(ae)}catch(ne){console.error("Error loading active challenges:",ne)}finally{g(!1)}})()},[l,e,t,s]),p.useEffect(()=>{(async()=>{if(l)try{C(!0);const ne=Rn(),se=`dailyChallenge_${l.id}_${ne}`,he=localStorage.getItem(se);if(he){const ae=JSON.parse(he);console.log("Using stored daily challenge for today:",ae.title),x(ae)}else{const ae=await cs(kv.getTodaysRandomChallenge(l.id),1e4);console.log("New daily challenge loaded for today:",(ae==null?void 0:ae.title)||"none"),ae?(localStorage.setItem(se,JSON.stringify(ae)),x(ae)):x(null)}}catch(ne){console.error("Error loading today's challenge:",ne),x(null)}finally{C(!1)}})()},[l]);const R=X=>{const{challenge:ne,userProgress:se,userChallenge:he}=X;if(ne.challengeType==="completion"){if(!ne.endDate)return 0;const ae=ht(ne.startDate),oe=ht(ne.endDate),xe=Math.floor((oe.getTime()-ae.getTime())/(1e3*60*60*24))+1,Ce=he.totalScore;return Math.min(Ce/xe*100,100)}else if(ne.challengeType==="weekly"){if(!ne.endDate)return 0;const ae=new Date(ne.startDate),oe=new Date(ne.endDate),xe=ps(ae,oe),Ce=se.reduce((je,$e)=>je+$e.currentValue,0),Pe=ne.objectives.reduce((je,$e)=>{const Ze=$e.targetValue||1;return je+xe*Ze},0);return Pe===0?0:Math.min(Ce/Pe*100,100)}else if(ne.challengeType==="collection"||ne.challengeType==="checklist"){const ae=ne.objectives.filter(xe=>{const Ce=se.find(Pe=>Pe.objectiveId===xe.id);return Ce&&Ce.currentValue>=1}).length,oe=ne.objectives.length;return oe===0?0:Math.min(ae/oe*100,100)}else{const ae=ne.totalPoints,oe=he.totalScore;return ae===0?0:Math.min(oe/ae*100,100)}},T=X=>{const{challenge:ne,userProgress:se,userChallenge:he}=X;if(ne.challengeType==="completion"){if(!ne.endDate)return`${he.totalScore}/`;const ae=ht(ne.startDate),oe=ht(ne.endDate),xe=Math.floor((oe.getTime()-ae.getTime())/(1e3*60*60*24))+1;return`${he.totalScore}/${xe}`}else if(ne.challengeType==="weekly"){if(!ne.endDate)return`${se.reduce(($e,Ze)=>$e+(Ze.currentValue||0),0)}/`;const ae=new Date(ne.startDate),oe=new Date(ne.endDate),xe=ps(ae,oe),Ce=se.reduce((je,$e)=>je+($e.currentValue||0),0),Pe=ne.objectives.reduce((je,$e)=>{const Ze=$e.targetValue||1;return je+xe*Ze},0);return`${Ce}/${Pe}`}else if(ne.challengeType==="collection"||ne.challengeType==="checklist"){const ae=ne.objectives.filter(xe=>{const Ce=se.find(Pe=>Pe.objectiveId===xe.id);return Ce&&Ce.currentValue>=1}).length,oe=ne.objectives.length;return`${ae}/${oe}`}else return`${Math.floor(he.totalScore)}/${Math.floor(ne.totalPoints)}`},j=X=>{const ne=new Date(X),se=new Date,he=ne.getTime()-se.getTime(),ae=Math.ceil(he/(1e3*60*60*24));return ae>0?ae:0},M=X=>{const ne=new Date(X),se=new Date,he=ne.getTime()-se.getTime(),ae=Math.ceil(he/(1e3*60*60*24));return ae>0?ae:0},U=X=>new Date(X)>new Date,[V,z]=p.useState(new Set);p.useEffect(()=>{const X=async()=>{if(l)try{const ne=new Date,se=new Date;se.setDate(ne.getDate()-89);const he=ht(se),ae=ht(ne),oe=Td(he),xe=Td(ae),Ce=await n(oe,xe);z(new Set(Ce))}catch(ne){console.error("Error loading user activity:",ne)}};h.length>0&&X()},[h,l,n]);const B=()=>{const X=new Date,ne=[];for(let se=6;se>=0;se--){const he=new Date(X);he.setDate(X.getDate()-se);const ae=ht(he),oe=Td(ae),xe=V.has(oe);ne.push({date:ae,hasActivity:xe,isToday:se===0,dayName:he.toLocaleDateString(c==="de"?"de-DE":"en-US",{weekday:"short"})})}return ne},q=()=>{if(V.size===0)return 0;const X=new Date;let ne=0,se=new Date(X);se=ht(se);for(let he=0;he<90;he++){const ae=Td(se);if(V.has(ae))ne++,se.setDate(se.getDate()-1);else break}return ne},W=()=>y?{title:y.title,description:y.description,target:`${y.targetValue} ${y.unit}`,points:y.points}:{title:d("challengeCompleted"),target:d("notApplicable"),points:0},G=()=>{y&&w(!0)},Z=()=>{if(!l)return;const X=`welcomeInfoDismissed_${l.id}`;localStorage.setItem(X,"true"),I(!1)},H=()=>{if(!l)return;const X=`inviteNotificationDismissed_${l.id}`;localStorage.setItem(X,"true"),F(!1)},Q=()=>{if(!l)return"";const X=l.id;return`${window.location.origin}/signup?ref=${X}`},re=async()=>{if(!l)return;const X=Q();try{await navigator.clipboard.writeText(X),L(!0),setTimeout(()=>L(!1),2e3)}catch(ne){console.error("Failed to copy:",ne)}},ee=async()=>{if(!l)return;const X=Q();if(navigator.share)try{await navigator.share({title:d("inviteFriendsTitle")||"Join me on Saiko!",text:d("inviteFriendsMessage")||"Join me on Saiko and let's take on challenges together!",url:X})}catch(ne){ne.name!=="AbortError"&&console.error("Error sharing:",ne)}else re()},ce=async()=>{if(y){k(!0);try{await r(y.id),w(!1),N(!0);const X=Rn(),ne=`dailyChallenge_${l.id}_${X}`;localStorage.removeItem(ne),setTimeout(async()=>{try{const se=await kv.getTodaysRandomChallenge(l.id);console.log("New challenge after completion:",se),se?(localStorage.setItem(ne,JSON.stringify(se)),x(se)):(console.log("No more challenges available for today"),x(null)),N(!1)}catch(se){console.error("Error loading new daily challenge:",se),N(!1)}},1e3)}catch(X){console.error("Error completing challenge:",X)}finally{k(!1)}}};return v?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"animate-pulse text-center",children:[o.jsx("div",{className:"h-12 w-12 mx-auto rounded-full bg-primary/20"}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:d("loadingDashboard")})]})})}):o.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[o.jsx("div",{className:"mb-4 sm:mb-8",children:o.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight mb-2",children:d("welcomeBack").replace("{name}",(l==null?void 0:l.name)||"")})}),O&&o.jsxs(Nl,{className:"mb-4 sm:mb-6 relative",children:[o.jsxs("button",{onClick:Z,className:"absolute right-2 top-2 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[o.jsx(lu,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Schlieen"})]}),o.jsx(dy,{className:"pr-6",children:"Willkommen bei Saiko!"}),o.jsxs(Tl,{className:"pr-6",children:[o.jsx("p",{className:"mb-3",children:"Tritt unserer Community bei, um dich mit anderen Challengern zu vernetzen, deinen Fortschritt zu teilen und inspiriert zu werden!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs("a",{href:"https://chat.whatsapp.com/L00uRWF2FhKF45358lit3i",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors text-sm font-medium",children:[o.jsx(nv,{className:"h-4 w-4"}),"WhatsApp Community beitreten"]}),o.jsxs("a",{href:"https://www.instagram.com/saikochallenges/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-md transition-colors text-sm font-medium",children:[o.jsx(V4,{className:"h-4 w-4"}),"Auf Instagram folgen"]})]})]})]}),$&&o.jsxs(Nl,{className:"mb-4 sm:mb-6 relative bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[o.jsxs("button",{onClick:H,className:"absolute right-2 top-2 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[o.jsx(lu,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:d("close")||"Close"})]}),o.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Db,{className:"h-5 w-5 text-blue-600 mt-0.5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(dy,{className:"mb-1",children:d("inviteFriendsNotificationTitle")||"Invite Your Friends!"}),o.jsxs(Tl,{children:[o.jsx("p",{className:"mb-3 text-sm",children:d("inviteFriendsNotificationDescription")||"Share Saiko with your friends and challenge them to join you! The more friends, the more fun!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs(de,{onClick:ee,className:"bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:[o.jsx(Db,{className:"h-4 w-4 mr-2"}),d("inviteFriends")||"Invite Friends"]}),o.jsx(de,{onClick:re,variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:E?o.jsxs(o.Fragment,{children:[o.jsx(Ol,{className:"h-4 w-4 mr-2 text-green-600"}),d("inviteLinkCopied")||"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(z4,{className:"h-4 w-4 mr-2"}),d("copyLink")||"Copy Link"]})}),o.jsxs("a",{href:"https://chat.whatsapp.com/L00uRWF2FhKF45358lit3i",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors text-sm font-medium",children:[o.jsx(nv,{className:"h-4 w-4"}),d("joinWhatsAppCommunity")||"Join WhatsApp Community"]})]})]})]})]})]}),o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:d("dailyProgress")}),o.jsxs(an,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200 text-sm sm:text-base font-semibold",children:[q()," ",q()===1?d("streakDay"):d("streakDays")," ",d("streak")]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:B().map((X,ne)=>o.jsxs("div",{className:`flex flex-col items-center p-1 sm:p-1.5 rounded-md ${X.hasActivity?"bg-green-400":"bg-gray-200"} ${X.isToday?"ring-2 ring-primary ring-offset-1":""}`,children:[o.jsx("span",{className:`text-[10px] sm:text-xs font-medium mb-0.5 hidden sm:block ${X.hasActivity?"text-white":"text-gray-600"}`,children:X.dayName}),o.jsx("span",{className:`text-[10px] sm:text-xs font-medium mb-0.5 sm:hidden ${X.hasActivity?"text-white":"text-gray-600"}`,children:X.dayName.charAt(0)})]},ne))})]}),o.jsx("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:o.jsx(Xe,{className:`bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 transition-all duration-300 ${y?"cursor-pointer hover:shadow-lg":"cursor-default"} ${S?"animate-fly-out":""}`,onClick:y?G:void 0,children:o.jsx(bt,{className:"p-3 sm:p-4 lg:p-6",children:b?o.jsx("div",{className:"flex items-center justify-center py-6 sm:py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-blue-600"})}):o.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-3 lg:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:W().title}),o.jsx("p",{className:"text-gray-600 mb-2 sm:mb-3 lg:mb-4 text-xs sm:text-sm leading-relaxed",children:W().description}),y&&o.jsx("p",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:d("tapToComplete")})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(an,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200 text-xs sm:text-sm",children:d("dailyChallenge")})})]})})})}),h.length===0?o.jsxs("div",{className:"text-center py-12 sm:py-16",children:[o.jsx(er,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto text-muted-foreground/50 mb-3 sm:mb-4"}),o.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:d("noActiveChallenges")}),o.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-sm sm:text-base",children:d("noActiveChallengesDescription")}),o.jsx("a",{href:"/challenges",className:"inline-flex items-center px-3 py-2 sm:px-4 sm:py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm sm:text-base",children:d("browseChallenges")})]}):o.jsx("div",{className:`grid gap-4 sm:gap-6 ${u?"grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:h.map(X=>{const ne=U(X.challenge.startDate),se=ne?0:R(X),he=X.challenge.endDate?j(X.challenge.endDate):999;M(X.challenge.startDate);const ae=X.challenge.challengeType==="completion",oe=A.get(X.challenge.id)||!1,xe=ae&&!ne;return o.jsx(qe,{to:`/challenges/${X.challenge.id}`,children:o.jsxs(Xe,{className:`hover:shadow-lg transition-shadow cursor-pointer relative ${xe&&oe?"bg-green-50/50":""}`,children:[xe&&o.jsx("div",{className:`absolute top-2 right-2 w-2 h-2 rounded-full ${oe?"bg-green-500":"bg-red-300"}`}),o.jsx(Yt,{className:"pb-2 sm:pb-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[o.jsx(Gt,{className:"text-base sm:text-lg leading-tight line-clamp-2",children:X.challenge.title}),ne?o.jsx(an,{variant:"outline",className:"self-start sm:self-auto text-xs sm:text-sm",children:d("upcoming")}):X.challenge.endDate&&he<10&&o.jsxs(an,{variant:he<=3?"destructive":he<=7?"secondary":"default",className:"self-start sm:self-auto text-xs sm:text-sm",children:[he," ",d("daysLeft")]})]})}),o.jsx(bt,{className:"space-y-3 sm:space-y-4",children:ne?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:d("startsOn")}),o.jsx("span",{className:"font-medium",children:new Date(X.challenge.startDate).toLocaleDateString(c==="de"?"de-DE":"en-US",{month:"short",day:"numeric",year:"numeric"})})]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:d("challengeNotStartedYet")})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:X.challenge.challengeType==="completion"||X.challenge.challengeType==="weekly"?d("progress"):d("points")}),o.jsx("span",{className:"font-medium",children:T(X)})]}),o.jsx(Hl,{value:se,className:"h-1.5 sm:h-2"})]})})]})},X.challenge.id)})}),o.jsx(cr,{open:_,onOpenChange:w,children:o.jsxs(Wn,{className:"sm:max-w-[425px]",children:[o.jsxs(Hn,{children:[o.jsx(qn,{children:y==null?void 0:y.title}),o.jsx(Cr,{children:y==null?void 0:y.description})]}),o.jsx(Wr,{children:o.jsx(de,{onClick:ce,disabled:D,children:D?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),d("completing")]}):d("completeChallenge")})})]})})]})}function RX(){const{language:e}=gt(),{t}=pt(e),{user:n,isLoading:r}=Ct(),s=wn();if(p.useEffect(()=>{!r&&!n&&s("/",{replace:!0})},[n,r,s]),r||!n)return null;const[i,a]=p.useState([]),[l,c]=p.useState(!0),[d,u]=p.useState(0),[f,h]=p.useState(!0),m=20,v=e==="de"?Cm:io,g=p.useCallback(async()=>{try{c(!0);const _=await lh.getActivityFeed(m,d);a(w=>d===0?_:[...w,..._]),h(_.length===m)}catch(_){console.error("Error loading feed:",_)}finally{c(!1)}},[m,d]);p.useEffect(()=>{g()},[g]);const y=async()=>{const _=d+m;u(_);try{const w=await lh.getActivityFeed(m,_);a(D=>[...D,...w]),h(w.length===m)}catch(w){console.error("Error loading more feed entries:",w)}},x=_=>{switch(_){case"objective_progress":return o.jsx(_k,{className:"h-4 w-4 sm:h-5 sm:w-5"});case"challenge_join":return o.jsx(rv,{className:"h-4 w-4 sm:h-5 sm:w-5"});case"challenge_complete":return o.jsx(er,{className:"h-4 w-4 sm:h-5 sm:w-5"});case"quest_join":return o.jsx(uf,{className:"h-4 w-4 sm:h-5 sm:w-5"});case"quest_complete":return o.jsx(ii,{className:"h-4 w-4 sm:h-5 sm:w-5"});default:return o.jsx(Sk,{className:"h-4 w-4 sm:h-5 sm:w-5"})}},b=_=>{var D;const w=_.userName||t("feedUser");switch(_.activityType){case"objective_progress":return _.challengeTitle?t("feedObjectiveProgress").replace("{user}",w).replace("{title}",_.challengeTitle):_.questTitle?t("feedObjectiveProgress").replace("{user}",w).replace("{title}",_.questTitle):t("feedObjectiveProgressGeneric").replace("{user}",w);case"challenge_join":return _.challengeTitle?t("feedChallengeJoin").replace("{user}",w).replace("{title}",_.challengeTitle):t("feedChallengeJoinGeneric").replace("{user}",w);case"challenge_complete":return((D=_.metadata)==null?void 0:D.isDaily)===!0?_.challengeTitle?t("feedDailyChallengeComplete").replace("{user}",w).replace("{title}",_.challengeTitle):t("feedDailyChallengeCompleteGeneric").replace("{user}",w):_.challengeTitle?t("feedChallengeComplete").replace("{user}",w).replace("{title}",_.challengeTitle):t("feedChallengeCompleteGeneric").replace("{user}",w);case"quest_join":return _.questTitle?t("feedQuestJoin").replace("{user}",w).replace("{title}",_.questTitle):t("feedQuestJoinGeneric").replace("{user}",w);case"quest_complete":return _.questTitle?t("feedQuestComplete").replace("{user}",w).replace("{title}",_.questTitle):t("feedQuestCompleteGeneric").replace("{user}",w);default:return t("feedActivityGeneric").replace("{user}",w)}},C=_=>_.challengeId?`/challenges/${_.challengeId}`:_.chapterId?"/quests":null;return l&&i.length===0?o.jsx("div",{className:"container py-4 sm:py-8 max-w-4xl",children:o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] sm:min-h-[400px] space-y-4",children:[o.jsx(qt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t("feedLoading")})]})}):o.jsxs("div",{className:"container py-4 sm:py-8 max-w-4xl",children:[o.jsx("div",{className:"mb-4 sm:mb-6",children:o.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight mb-2",children:t("feedTitle")})}),i.length===0?o.jsx(Xe,{children:o.jsx(bt,{className:"py-8 sm:py-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:t("feedEmpty")})})}):o.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[i.map(_=>{const w=C(_),D=o.jsx(Xe,{className:"hover:bg-muted/50 transition-colors",children:o.jsx(bt,{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"flex items-start gap-2 sm:gap-4",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-full bg-primary/10 text-primary flex-shrink-0",children:x(_.activityType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-foreground leading-snug",children:b(_)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 sm:mt-1",children:TW(new Date(_.createdAt),{addSuffix:!0,locale:v})})]})]})})});return w?o.jsx(qe,{to:w,children:D},_.id):o.jsx("div",{children:D},_.id)}),f&&o.jsx("div",{className:"flex justify-center pt-2 sm:pt-4",children:o.jsx(de,{variant:"outline",onClick:y,disabled:l,size:"sm",className:"text-xs sm:text-sm",children:l?o.jsxs(o.Fragment,{children:[o.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),t("feedLoadingMore")]}):t("feedLoadMore")})})]})]})}function IX(){const[e]=A0(),t=wn(),{user:n}=Ct(),[r,s]=p.useState("loading"),[i,a]=p.useState("");p.useEffect(()=>{(async()=>{try{const u=e.get("code"),f=e.get("error");if(f){s("error"),a(`Strava authorization failed: ${f}`);return}if(!u){s("error"),a("No authorization code received from Strava");return}if(!n){s("error"),a("User not authenticated");return}const h=await Da.exchangeCodeForToken(u,n.id);await Da.saveConnection(n.id,h),s("success"),a("Strava account connected successfully!"),setTimeout(()=>{t("/profile")},3e3)}catch(u){console.error("Strava callback error:",u),s("error"),a(u instanceof Error?u.message:"An unexpected error occurred")}})()},[e,n,t]);const l=()=>{switch(r){case"loading":return o.jsx(qt,{className:"h-8 w-8 animate-spin text-blue-500"});case"success":return o.jsx(ki,{className:"h-8 w-8 text-green-500"});case"error":return o.jsx(m0,{className:"h-8 w-8 text-red-500"})}},c=()=>{switch(r){case"loading":return"border-blue-200 bg-blue-50";case"success":return"border-green-200 bg-green-50";case"error":return"border-red-200 bg-red-50"}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs(Xe,{className:`w-full max-w-md ${c()}`,children:[o.jsxs(Yt,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:l()}),o.jsxs(Gt,{className:"text-xl font-semibold",children:[r==="loading"&&"Connecting to Strava...",r==="success"&&"Connection Successful!",r==="error"&&"Connection Failed"]}),o.jsxs(gn,{children:[r==="loading"&&"Please wait while we connect your Strava account.",r==="success"&&"Your Strava account has been successfully connected.",r==="error"&&"There was an issue connecting your Strava account."]})]}),o.jsxs(bt,{className:"text-center",children:[o.jsx(Nl,{className:"mb-4",children:o.jsx(Tl,{children:i})}),r==="success"&&o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You will be redirected to your profile page in a few seconds."}),r==="error"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(de,{onClick:()=>t("/profile"),variant:"outline",className:"w-full",children:"Go to Profile"}),o.jsx(de,{onClick:()=>t("/"),variant:"ghost",className:"w-full",children:"Go Home"})]})]})]})})}const OX=()=>{const e=Js();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},FX=new o3,LX=()=>o.jsx(c3,{client:FX,children:o.jsx(BU,{children:o.jsx(UU,{children:o.jsx(YU,{children:o.jsxs(cP,{children:[o.jsx(I5,{}),o.jsx(uF,{}),o.jsx(c$,{children:o.jsx(t$,{children:o.jsxs(Ht,{path:"/",element:o.jsx(KV,{}),children:[o.jsx(Ht,{index:!0,element:o.jsx(YV,{})}),o.jsx(Ht,{path:"login",element:o.jsx(XV,{})}),o.jsx(Ht,{path:"signup",element:o.jsx(JV,{})}),o.jsx(Ht,{path:"forgot-password",element:o.jsx(ZV,{})}),o.jsx(Ht,{path:"reset-password",element:o.jsx(F1,{})}),o.jsx(Ht,{path:"auth/callback",element:o.jsx(F1,{})}),o.jsx(Ht,{path:"auth/strava/callback",element:o.jsx(IX,{})}),o.jsx(Ht,{path:"challenges",element:o.jsx(Y1,{})}),o.jsx(Ht,{path:"challenges/:id",element:o.jsx(tX,{})}),o.jsx(Ht,{path:"leaderboard",element:o.jsx(sX,{})}),o.jsx(Ht,{path:"quests",element:o.jsx(aX,{})}),o.jsx(Ht,{path:"feed",element:o.jsx(RX,{})}),o.jsx(Ht,{path:"dashboard",element:o.jsx(hc,{children:o.jsx(MX,{})})}),o.jsx(Ht,{path:"challenges/create",element:o.jsx(hc,{children:o.jsx(I7,{})})}),o.jsx(Ht,{path:"challenges/:id/edit",element:o.jsx(hc,{children:o.jsx(rX,{})})}),o.jsx(Ht,{path:"profile",element:o.jsx(hc,{children:o.jsx(NX,{})})}),o.jsx(Ht,{path:"my-challenges",element:o.jsx(hc,{children:o.jsx(Y1,{})})}),o.jsx(Ht,{path:"*",element:o.jsx(OX,{})})]})})}),o.jsx(C$,{})]})})})})});kO();"serviceWorker"in navigator&&!Wi.isNativePlatform()&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})});Wi.isNativePlatform()&&(Bt(async()=>{const{App:e}=await import("./index-CHST8myF.js");return{App:e}},[]).then(({App:e})=>{e.addListener("appStateChange",({isActive:t})=>{console.log("App state changed. Is active?",t)}),e.addListener("appUrlOpen",t=>{if(console.log("App opened with URL:",t.url),t.url){const n=new URL(t.url);window.location.href=n.pathname+n.search}})}),Bt(async()=>{const{StatusBar:e}=await import("./index-BKZg5ccd.js");return{StatusBar:e}},[]).then(({StatusBar:e})=>{e.setStyle({style:"dark"})}));z_(document.getElementById("root")).render(o.jsx(LX,{}));export{q_ as W,Bt as _,DS as g,a0 as r};
